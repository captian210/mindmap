(window["webpackJsonpreact-mindmap"]=window["webpackJsonpreact-mindmap"]||[]).push([[0],{1044:function(e,t,n){},1065:function(e,t,n){},1066:function(e,t,n){},1087:function(e,t,n){},1088:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),i=n(14),a=n.n(i),l=(n(520),new(n(521))(n(105))),c=n(74),u=n.n(c).a.runInContext();u.mixin({setIn:function(e,t,n){return u.setWith(u.clone(e),t,n,u.clone)}});var s=u;Object({NODE_ENV:"production",PUBLIC_URL:""}).JWT_SECRET;var p={users:[{uuid:"XgbuVEXBU5gtSKdbQRP1Zbbby1i1",from:"custom-db",password:"admin",role:"admin",data:{displayName:"Abbott Keitch",photoURL:"/assets/images/avatars/Abbott.jpg",email:"admin@admin.com",settings:{layout:{style:"layout1",config:{scroll:"content",navbar:{display:!0,folded:!0,position:"left"},toolbar:{display:!0,style:"fixed",position:"below"},footer:{display:!0,style:"fixed",position:"below"},mode:"fullwidth"}},customScrollbars:!0,theme:{main:"defaultDark",navbar:"defaultDark",toolbar:"defaultDark",footer:"defaultDark"}},shortcuts:["calendar","mail","contacts"]}},{uuid:"XgbuVEXBU6gtSKdbTYR1Zbbby1i3",from:"custom-db",password:"staff",role:"staff",data:{displayName:"Arnold Matlock",photoURL:"/assets/images/avatars/Arnold.jpg",email:"staff@staff.com",settings:{layout:{style:"layout2",config:{mode:"boxed",scroll:"content",navbar:{display:!0},toolbar:{display:!0,position:"below"},footer:{display:!0,style:"fixed"}}},customScrollbars:!0,theme:{main:"greeny",navbar:"mainThemeDark",toolbar:"mainThemeDark",footer:"mainThemeDark"}},shortcuts:["calendar","mail","contacts","todo"]}}]};l.onGet("/api/auth").reply((function(e){var t=JSON.parse(e.data),n=t.email,o=t.password,r=s.cloneDeep(p.users.find((function(e){return e.data.email===n}))),i={email:r?null:"Check your username/email",password:r&&r.password===o?null:"Check your password"};return i.email||i.password||i.displayName?[200,{error:i}]:(delete r.password,[200,{user:r,access_token:JSON.stringify({id:r.uuid})}])})),l.onGet("/api/auth/access-token").reply((function(e){var t=JSON.parse(e.data).access_token;try{var n=JSON.parse(t).id,o=s.cloneDeep(p.users.find((function(e){return e.uuid===n})));return delete o.password,[200,{user:o,access_token:JSON.stringify({id:o.uuid})}]}catch(r){return[401,{error:"Invalid access token detected"}]}})),l.onAny().passThrough();var d=n(1131),m=n(1153),f=n(455),h=n(1150),g=n(51),y=n(61),b=n(63),x=n(28),v=n(21),E=n(258),O=n.n(E);O.a.config({barColors:{0:"rgb(247 87 140)",.5:"rgb(247 87 140)","1.0":"rgb(247 87 140)"},shadowBlur:5});var C=function(e){var t=e.children,n=Object(o.useState)(!1),i=Object(v.a)(n,2),a=i[0],l=i[1],c=Object(o.useState)(""),u=Object(v.a)(c,2),s=u[0],p=u[1],d=Object(x.e)();return Object(o.useEffect)((function(){l(!1)}),[s]),Object(o.useEffect)((function(){p(d.pathname),l(!0),d.pathname===s&&p("")}),[d]),r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(O.a,{color:"#f11946"}),t)},w=n(1152),k=n(457),T=Object(k.a)(w.a)((function(){return{justifyContent:"space-between",background:"white"}})),j=n(15),S=n(41),R=(n(9),n(60)),D=n(1134),L=n(1158),K=n(1136),M=n(1137),I=n(1138),A=n(160),P=n(1160),_=n(1161),F=n(456),z=n(1140),B=n(1132),N=n(1133),W=n(1141),H=n(193),V=n.n(H),G=n(149),U=n.n(G),Z=n(396),Y=n.n(Z),J=n(194),q=n.n(J),X=n(397),Q=n.n(X),$=n(133),ee=n.n($),te=n(195),ne=n.n(te),oe=n(399),re=n.n(oe),ie=n(400),ae=n.n(ie),le=n(401),ce=n.n(le),ue=n(196),se=n.n(ue),pe=n(1091),de=n(11),me=n.n(de),fe=n(131),he=n.n(fe),ge=n(187),ye=n.n(ge),be=n(154),xe=n.n(be),ve=n(188),Ee=n.n(ve),Oe=n(189),Ce=n.n(Oe),we=n(1090),ke=Object(k.a)("nav",{shouldForwardProp:function(e){return"open"!==e}})((function(e){e.theme;var t=e.open;return Object(j.a)({padding:"15px"},!t&&{padding:"15px 0"})})),Te=[{label:"My map",link:"/dashboard",icon:o.createElement(he.a,null)},{label:"Recent",link:"/recent",icon:o.createElement(ye.a,null)},{label:"Favorites",link:"/favorites",icon:o.createElement(xe.a,null)},{label:"Public",link:"/public",icon:o.createElement(Ee.a,null)},{label:"Trash",link:"/trash",icon:o.createElement(Ce.a,null)}];var je=Object(we.a)((function(e){return{root:{minHeight:48,fontSize:15,borderRadius:0,cursor:"pointer",marginBottom:"2px","&.open":{borderRadius:"10px"},"&.active":{backgroundColor:e.palette.primary.main,color:e.palette.secondary.contrastText+"!important",pointerEvents:"none","& .list-item-text-primary":{color:"inherit"},"& .list-item-icon":{color:"inherit"}},"&:hover":{backgroundColor:e.palette.primary.light},"& .list-item-icon":{},"& .list-item-text":{padding:"0 0 0 16px"},color:"inherit!important",textDecoration:"none!important"}}}),{withTheme:!0})((function(e){var t=e.classes,n=e.open,r=Object(x.e)();return o.createElement(w.a,null,o.createElement(ke,{open:n},Te.map((function(e){return o.createElement(pe.a,{button:!0,key:e.label,component:g.c,to:e.link,className:me()(t.root,{open:n,active:r.pathname===e.link}),onClick:function(){}},o.createElement(B.a,{style:{color:"inherit",paddingRight:1}},e.icon),o.createElement(N.a,{primary:e.label,primaryTypographyProps:{fontWeight:"medium"}}))}))))})),Se=n(46),Re=n(48),De=n(34),Le=n(35),Ke=n(105),Me=n.n(Ke),Ie=(n(395),new(function(e){Object(Se.a)(n,e);var t=Object(Re.a)(n);function n(){var e;Object(De.a)(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).setInterceptors=function(){Me.a.interceptors.response.use((function(e){return e}),(function(t){return new Promise((function(n,o){throw 401===t.response.status&&t.config&&!t.config.__isRetryRequest&&(e.emit("onAutoLogout","Invalid access_token"),e.setSession(null)),t}))}))},e.handleAuthentication=function(){var t=e.getAccessToken();e.isAuthTokenValid(t)?(e.setSession(t),e.emit("onAutoLogin",!0)):(e.setSession(null),e.emit("onAutoLogout","access_token expired"))},e.signInWithEmailAndPassword=function(t,n){return new Promise((function(o,r){Me.a.get("/api/auth",{data:{email:t,password:n}}).then((function(t){t.data.user?(e.setSession(t.data.access_token),o(t.data.user)):r(t.data.error)}))}))},e.signInWithToken=function(){return new Promise((function(t,n){Me.a.get("/api/auth/access-token",{data:{access_token:e.getAccessToken()}}).then((function(o){o.data.user?(e.setSession(o.data.access_token),t(o.data.user)):n(o.error)}))}))},e.setSession=function(e){e?(localStorage.setItem("jwt_access_token",e),Me.a.defaults.headers.common.Authorization="Bearer "+e):(localStorage.removeItem("jwt_access_token"),delete Me.a.defaults.headers.common.Authorization)},e.logout=function(){e.setSession(null)},e.isAuthTokenValid=function(e){if(!e)return!1;try{return!0}catch(t){return!1}},e.getAccessToken=function(){return window.localStorage.getItem("jwt_access_token")},e}return Object(Le.a)(n,[{key:"init",value:function(){this.setInterceptors(),this.handleAuthentication()}}]),n}(function(){function e(){Object(De.a)(this,e),this._events={}}return Object(Le.a)(e,[{key:"on",value:function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)}},{key:"off",value:function(e,t){var n=this._events[e]||[],o=n.indexOf(t);n.splice(o,1)}},{key:"emit",value:function(e,t){(this._events[e]||[]).forEach((function(e){e(t)}))}}]),e}())));function Ae(){return function(e){Ie.logout(),e({type:"TYPE_LOGOUT_USER"})}}var Pe=function(e){return{type:"TYPE_SET_USER_DATA",user:e}};var _e=function(e){return function(t){return t.auth[e]}},Fe=function(e){return{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),backgroundColor:"#293033",color:"white",overflowX:"hidden"}},ze=function(e){return Object(S.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),backgroundColor:"#293033",color:"white",overflowX:"hidden",width:"calc(".concat(e.spacing(7),"px + 1px)")},e.breakpoints.up("sm"),{width:"calc(".concat(e.spacing(7),"px + 1px)")})},Be=Object(k.a)("div")((function(e){var t=e.theme;return Object(j.a)({display:"flex",alignItems:"center",justifyContent:"space-between",padding:t.spacing(3,1)},t.mixins.toolbar)})),Ne=Object(k.a)(D.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(j.a)({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})})})),We=Object(k.a)(L.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(j.a)(Object(j.a)({width:240,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box"},n&&Object(j.a)(Object(j.a)({},Fe(t)),{},{"& .MuiDrawer-paper":Fe(t)})),!n&&Object(j.a)(Object(j.a)({},ze(t)),{},{"& .MuiDrawer-paper":ze(t)}))}));function He(e){var t=Object(R.a)(),n=o.useState(!0),r=Object(v.a)(n,2),i=r[0],a=r[1],l=Object(x.e)();var c=function e(t,n){for(var o=0;o<t.length;o++){var r=t[o];if(r.path==n)return r;if(r.children){var i=e(r.children,n);if(i)return i}}}(pp,l.pathname);return o.createElement(w.a,{style:{display:"flex"}},o.createElement(K.a,null),o.createElement(Ne,{position:"fixed",open:i,style:{backgroundColor:"#293033",color:"black",boxShadow:"none"}},o.createElement(M.a,{style:Object(j.a)({display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:"white"},i&&{borderTopLeftRadius:20})},o.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},o.createElement(I.a,{color:"inherit","aria-label":"open drawer",onClick:function(){a(!0)},edge:"start",style:Object(j.a)({marginRight:"0px",marginLeft:"-20px",width:"52px",height:"52px"},i&&{display:"none"})},o.createElement(V.a,null)),o.createElement(A.a,{variant:"h5",noWrap:!0,component:"div",style:{padding:t.spacing(4,2)}},c&&c.name)),o.createElement(Ve,null))),o.createElement(We,{variant:"permanent",open:i},o.createElement(Be,null,o.createElement("div",{style:{display:"flex",alignItems:"center"}},o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:{width:"120px",marginLeft:"10px",color:"white"},viewBox:"0 0 95 36"},o.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(0 2)"},o.createElement("path",{fill:"white",fillRule:"nonzero",d:"M39,10.728 L41.352,10.728 L41.352,12.8 L41.408,12.8 C41.4640003,12.6133324 41.6086655,12.3800014 41.842,12.1 C42.0753345,11.8199986 42.3739982,11.5540013 42.738,11.302 C43.1020018,11.0499987 43.5313309,10.8353342 44.026,10.658 C44.5206691,10.4806658 45.0666637,10.392 45.664,10.392 C46.6533383,10.392 47.4839966,10.5973313 48.156,11.008 C48.8280034,11.4186687 49.3786645,12.0346626 49.808,12.856 C50.2373355,12.0346626 50.8439961,11.4186687 51.628,11.008 C52.4120039,10.5973313 53.2053293,10.392 54.008,10.392 C55.0346718,10.392 55.8746634,10.5599983 56.528,10.896 C57.1813366,11.2320017 57.6946648,11.6753306 58.068,12.226 C58.4413352,12.7766694 58.6979993,13.4019965 58.838,14.102 C58.9780007,14.8020035 59.048,15.5253296 59.048,16.272 L59.048,24 L56.528,24 L56.528,16.608 C56.528,16.1039975 56.4953337,15.618669 56.43,15.152 C56.3646663,14.685331 56.2293344,14.2746684 56.024,13.92 C55.8186656,13.5653316 55.5293352,13.2806677 55.156,13.066 C54.7826648,12.8513323 54.2880031,12.744 53.672,12.744 C52.4586606,12.744 51.5906693,13.1173296 51.068,13.864 C50.5453307,14.6106704 50.284,15.5719941 50.284,16.748 L50.284,24 L47.764,24 L47.764,17.056 C47.764,16.4213302 47.7313337,15.8426693 47.666,15.32 C47.6006663,14.7973307 47.470001,14.3446686 47.274,13.962 C47.077999,13.5793314 46.7980018,13.2806677 46.434,13.066 C46.0699982,12.8513323 45.5800031,12.744 44.964,12.744 C44.5159978,12.744 44.0820021,12.8326658 43.662,13.01 C43.2419979,13.1873342 42.8733349,13.4533316 42.556,13.808 C42.2386651,14.1626684 41.9866676,14.6153306 41.8,15.166 C41.6133324,15.7166694 41.52,16.3653296 41.52,17.112 L41.52,24 L39,24 L39,10.728 Z M61.780333,10.728 L64.300333,10.728 L64.300333,24 L61.780333,24 L61.780333,10.728 Z M61.192333,5.968 C61.192333,5.46399748 61.3743312,5.03000182 61.738333,4.666 C62.1023348,4.30199818 62.5363305,4.12 63.040333,4.12 C63.5443355,4.12 63.9783312,4.30199818 64.342333,4.666 C64.7063348,5.03000182 64.888333,5.46399748 64.888333,5.968 C64.888333,6.47200252 64.7063348,6.90599818 64.342333,7.27 C63.9783312,7.63400182 63.5443355,7.816 63.040333,7.816 C62.5363305,7.816 62.1023348,7.63400182 61.738333,7.27 C61.3743312,6.90599818 61.192333,6.47200252 61.192333,5.968 Z M67.032666,10.728 L69.552666,10.728 L69.552666,12.772 L69.608666,12.772 C69.9260009,12.0626631 70.4766621,11.4886689 71.260666,11.05 C72.0446699,10.6113311 72.9499942,10.392 73.976666,10.392 C74.6113358,10.392 75.2226631,10.489999 75.810666,10.686 C76.3986689,10.882001 76.9119971,11.1853313 77.350666,11.596 C77.7893349,12.0066687 78.1393314,12.5339968 78.400666,13.178 C78.6620006,13.8220032 78.792666,14.5826623 78.792666,15.46 L78.792666,24 L76.272666,24 L76.272666,16.16 C76.272666,15.5439969 76.1886668,15.0166689 76.020666,14.578 C75.8526652,14.1393311 75.6286674,13.784668 75.348666,13.514 C75.0686646,13.243332 74.7466678,13.0473339 74.382666,12.926 C74.0186642,12.8046661 73.640668,12.744 73.248666,12.744 C72.7259967,12.744 72.2406682,12.8279992 71.792666,12.996 C71.3446638,13.1640008 70.9526677,13.4299982 70.616666,13.794 C70.2806643,14.1580018 70.0193336,14.6199972 69.832666,15.18 C69.6459984,15.7400028 69.552666,16.4026628 69.552666,17.168 L69.552666,24 L67.032666,24 L67.032666,10.728 Z M94.628999,24 L92.108999,24 L92.108999,22.096 L92.052999,22.096 C91.5676632,22.8053369 90.9003366,23.355998 90.050999,23.748 C89.2016614,24.140002 88.3290035,24.336 87.432999,24.336 C86.4063272,24.336 85.4776698,24.1586684 84.646999,23.804 C83.8163282,23.4493316 83.1070019,22.9546698 82.518999,22.32 C81.9309961,21.6853302 81.4783339,20.9480042 81.160999,20.108 C80.8436641,19.2679958 80.684999,18.3533383 80.684999,17.364 C80.684999,16.3746617 80.8436641,15.4553376 81.160999,14.606 C81.4783339,13.7566624 81.9309961,13.0193365 82.518999,12.394 C83.1070019,11.7686635 83.8163282,11.2786684 84.646999,10.924 C85.4776698,10.5693316 86.4063272,10.392 87.432999,10.392 C88.3850038,10.392 89.2809948,10.5926647 90.120999,10.994 C90.9610032,11.3953353 91.6049968,11.9413299 92.052999,12.632 L92.108999,12.632 L92.108999,2.832 L94.628999,2.832 L94.628999,24 Z M87.740999,21.984 C88.4130024,21.984 89.019663,21.8673345 89.560999,21.634 C90.102335,21.4006655 90.5596638,21.0833353 90.932999,20.682 C91.3063342,20.2806647 91.5956646,19.7953362 91.800999,19.226 C92.0063334,18.6566638 92.108999,18.0360034 92.108999,17.364 C92.108999,16.6919966 92.0063334,16.0713362 91.800999,15.502 C91.5956646,14.9326638 91.3063342,14.4473353 90.932999,14.046 C90.5596638,13.6446647 90.102335,13.3273345 89.560999,13.094 C89.019663,12.8606655 88.4130024,12.744 87.740999,12.744 C87.0689956,12.744 86.462335,12.8606655 85.920999,13.094 C85.379663,13.3273345 84.9223342,13.6446647 84.548999,14.046 C84.1756638,14.4473353 83.8863334,14.9326638 83.680999,15.502 C83.4756646,16.0713362 83.372999,16.6919966 83.372999,17.364 C83.372999,18.0360034 83.4756646,18.6566638 83.680999,19.226 C83.8863334,19.7953362 84.1756638,20.2806647 84.548999,20.682 C84.9223342,21.0833353 85.379663,21.4006655 85.920999,21.634 C86.462335,21.8673345 87.0689956,21.984 87.740999,21.984 Z"}),o.createElement("path",{fill:"white",d:"M0.103704557,3.33964011 L1.09358565,3.33964011 C1.15086009,3.33964011 1.19729021,3.38607022 1.19729021,3.44334466 L1.19729021,3.89365166 C1.2527205,3.8153062 1.30815005,3.73696191 1.38020954,3.65861645 C1.45226904,3.58027099 1.53818483,3.51032074 1.63795952,3.44876359 C1.7377342,3.38720645 1.85136477,3.33684226 1.97885465,3.29766953 C2.10634452,3.2584968 2.24491839,3.23891073 2.39458041,3.23891073 C2.67727535,3.23891073 2.92809405,3.29766895 3.14704405,3.41518714 C3.36599405,3.53270533 3.53089695,3.717374 3.64175771,3.96919869 C3.78587669,3.70618179 3.96047977,3.51871511 4.16557217,3.40679302 C4.37066458,3.29487094 4.62286902,3.23891073 4.92219307,3.23891073 C5.19380193,3.23891073 5.42244881,3.2850779 5.60814058,3.37741362 C5.79383235,3.46974934 5.94072065,3.5956598 6.04880989,3.75514877 C6.15689913,3.91463774 6.2345005,4.10210442 6.28161632,4.31755444 C6.32873214,4.53300445 6.3522897,4.76384029 6.3522897,5.01006888 L6.3522897,7.31547516 C6.3522897,7.37274961 6.30585959,7.41917972 6.24858514,7.41917972 L5.20881696,7.41917972 C5.15154252,7.41917972 5.1051124,7.37274961 5.1051124,7.31547516 L5.1051124,5.04364534 C5.1051124,4.85337779 5.06492598,4.6896942 4.98455193,4.55258964 C4.90417788,4.41548509 4.7614468,4.34693384 4.55635439,4.34693384 C4.41223541,4.34693384 4.29167614,4.37071692 4.19467298,4.41828381 C4.09766981,4.4658507 4.02006845,4.53160394 3.96186655,4.6155455 C3.90366465,4.69948706 3.86209249,4.79741742 3.83714882,4.9093395 C3.81220515,5.02126159 3.7997335,5.13877802 3.7997335,5.26189231 L3.7997335,7.31547516 C3.7997335,7.37274961 3.75330339,7.41917972 3.69602894,7.41917972 L2.65626076,7.41917972 C2.59898631,7.41917972 2.5525562,7.37274961 2.5525562,7.31547516 L2.5525562,5.26189231 C2.5525562,5.18914295 2.54978472,5.09960663 2.54424169,4.99328065 C2.53869865,4.88695467 2.51929831,4.7862263 2.48604008,4.69109253 C2.45278185,4.59595876 2.39873804,4.51481646 2.32390703,4.44766321 C2.24907602,4.38050996 2.13960266,4.34693384 1.99548368,4.34693384 C1.83473558,4.34693384 1.70447614,4.37631294 1.60470146,4.43507204 C1.50492677,4.49383113 1.42871115,4.57217542 1.37605228,4.67010724 C1.32339342,4.76803907 1.28874996,4.87856047 1.27212084,5.00167476 C1.25549173,5.12478906 1.2471773,5.25349752 1.2471773,5.38780403 L1.2471773,7.31547516 C1.2471773,7.37274961 1.20074719,7.41917972 1.14347274,7.41917972 L0.103704557,7.41917972 C0.0464301116,7.41917972 2.08918844e-17,7.37274961 1.38777878e-17,7.31547516 L0,3.44334466 C1.84208665e-17,3.38607022 0.0464301116,3.33964011 0.103704557,3.33964011 Z M10.7410276,6.79948023 C10.6900458,6.85803924 10.6480969,6.9030308 10.6151809,6.93445493 C10.4544665,7.08788518 10.2684537,7.21308495 10.0571399,7.31005623 C9.75227281,7.44995884 9.43632439,7.51990909 9.10928515,7.51990909 C8.79887503,7.51990909 8.50648416,7.46954491 8.23210379,7.36881503 C7.95772341,7.26808515 7.71937635,7.12398763 7.51705547,6.93651814 C7.31473459,6.74904865 7.15537464,6.52380883 7.03897084,6.26079193 C6.92256704,5.99777503 6.86436602,5.70398396 6.86436602,5.37940991 C6.86436602,5.05483586 6.92256704,4.7610448 7.03897084,4.4980279 C7.15537464,4.235011 7.31473459,4.00977118 7.51705547,3.82230169 C7.71937635,3.63483219 7.95772341,3.49073467 8.23210379,3.39000479 C8.50648416,3.28927492 8.79887503,3.23891073 9.10928515,3.23891073 C9.39752312,3.23891073 9.65942774,3.28927492 9.89500685,3.39000479 C10.130586,3.49073467 10.3301323,3.63483219 10.493652,3.82230169 C10.6571716,4.00977118 10.7832738,4.235011 10.8719624,4.4980279 C10.960651,4.7610448 11.0049946,5.05483586 11.0049946,5.37940991 L11.0049946,5.63566055 C11.0049946,5.71202647 10.9430878,5.77393329 10.8667219,5.77393329 L8.11154331,5.77393329 C8.16143066,6.01456577 8.26951827,6.20622947 8.43580941,6.34893013 C8.60210055,6.49163079 8.80718988,6.56298005 9.05108355,6.56298005 C9.25617595,6.56298005 9.42939329,6.51681288 9.57074075,6.42447716 C9.65799274,6.36747949 9.73837958,6.3003538 9.81190213,6.22309924 C9.82992443,6.20416213 9.85236285,6.17824023 9.87921739,6.14533355 L9.87909053,6.14523003 C9.91415624,6.10226164 9.97679326,6.09442192 10.0213673,6.12742251 L10.7244644,6.64753712 C10.7706482,6.68172948 10.7803692,6.74688724 10.7461768,6.79307104 C10.7445456,6.79527444 10.7428278,6.7974125 10.7410276,6.79948023 Z M23.9458574,6.79948023 C23.8948756,6.85803924 23.8529267,6.9030308 23.8200107,6.93445493 C23.6592963,7.08788518 23.4732835,7.21308495 23.2619697,7.31005623 C22.9571026,7.44995884 22.6411542,7.51990909 22.314115,7.51990909 C22.0037048,7.51990909 21.711314,7.46954491 21.4369336,7.36881503 C21.1625532,7.26808515 20.9242062,7.12398763 20.7218853,6.93651814 C20.5195644,6.74904865 20.3602044,6.52380883 20.2438006,6.26079193 C20.1273968,5.99777503 20.0691958,5.70398396 20.0691958,5.37940991 C20.0691958,5.05483586 20.1273968,4.7610448 20.2438006,4.4980279 C20.3602044,4.235011 20.5195644,4.00977118 20.7218853,3.82230169 C20.9242062,3.63483219 21.1625532,3.49073467 21.4369336,3.39000479 C21.711314,3.28927492 22.0037048,3.23891073 22.314115,3.23891073 C22.6023529,3.23891073 22.8642575,3.28927492 23.0998367,3.39000479 C23.3354158,3.49073467 23.5349621,3.63483219 23.6984818,3.82230169 C23.8620014,4.00977118 23.9881036,4.235011 24.0767922,4.4980279 C24.1654808,4.7610448 24.2098245,5.05483586 24.2098245,5.37940991 L24.2098245,5.63566055 C24.2098245,5.71202647 24.1479176,5.77393329 24.0715517,5.77393329 L21.3163731,5.77393329 C21.3662605,6.01456577 21.4743481,6.20622947 21.6406392,6.34893013 C21.8069304,6.49163079 22.0120197,6.56298005 22.2559134,6.56298005 C22.4610058,6.56298005 22.6342231,6.51681288 22.7755706,6.42447716 C22.8628226,6.36747949 22.9432094,6.3003538 23.0167319,6.22309924 C23.0347542,6.20416213 23.0571927,6.17824023 23.0840472,6.14533355 L23.0839203,6.14523003 C23.1189861,6.10226164 23.1816231,6.09442192 23.2261971,6.12742251 L23.9292942,6.64753712 C23.975478,6.68172948 23.985199,6.74688724 23.9510067,6.79307104 C23.9493754,6.79527444 23.9476576,6.7974125 23.9458574,6.79948023 Z M9.75781735,4.91773362 C9.76336039,4.70508166 9.69407345,4.523211 9.54995446,4.37211618 C9.40583548,4.22102137 9.22014649,4.14547509 8.99288194,4.14547509 C8.85430599,4.14547509 8.73236098,4.16785917 8.62704326,4.21262801 C8.52172554,4.25739684 8.43165253,4.31475605 8.35682152,4.38470735 C8.2819905,4.45465866 8.22378948,4.53580095 8.18221669,4.62813667 C8.14064391,4.72047239 8.11708635,4.81700374 8.11154331,4.91773362 L9.75781735,4.91773362 Z M11.6374357,3.33964011 L12.6772039,3.33964011 C12.7344784,3.33964011 12.7809085,3.38607022 12.7809085,3.44334466 L12.7809085,7.31547516 C12.7809085,7.37274961 12.7344784,7.41917972 12.6772039,7.41917972 L11.6374357,7.41917972 C11.5801613,7.41917972 11.5337312,7.37274961 11.5337312,7.31547516 L11.5337312,3.44334466 C11.5337312,3.38607022 11.5801613,3.33964011 11.6374357,3.33964011 Z M12.1599787,2.96363316 C11.7581626,2.96363316 11.4324263,2.63446141 11.4324263,2.22840749 C11.4324263,1.82235356 11.7581626,1.49318182 12.1599787,1.49318182 C12.5617947,1.49318182 12.887531,1.82235356 12.887531,2.22840749 C12.887531,2.63446141 12.5617947,2.96363316 12.1599787,2.96363316 Z M15.7207921,4.53999847 C15.5378718,4.31055819 15.2967533,4.19583978 14.9974292,4.19583978 C14.8921115,4.19583978 14.7895669,4.22102187 14.6897922,4.27138681 C14.5900175,4.32175175 14.5401309,4.40849006 14.5401309,4.53160435 C14.5401309,4.63233423 14.5914032,4.7064815 14.6939494,4.75404839 C14.7964956,4.80161527 14.9267551,4.84358543 15.0847317,4.8799601 C15.2427082,4.91633478 15.4117684,4.95550692 15.5919171,4.99747771 C15.7720658,5.03944849 15.9411259,5.10520173 16.0991025,5.19473939 C16.2570791,5.28427706 16.3873385,5.4059905 16.4898847,5.55988337 C16.5924309,5.71377624 16.6437033,5.91942999 16.6437033,6.17685078 C16.6437033,6.43986768 16.586888,6.65671347 16.4732557,6.82739465 C16.3596234,6.99807583 16.2141209,7.13517833 16.0367437,7.23870626 C15.8593664,7.34223419 15.6598201,7.41498245 15.4380986,7.45695323 C15.216377,7.49892401 14.9974303,7.51990909 14.7812518,7.51990909 C14.4985569,7.51990909 14.2130947,7.47933794 13.9248568,7.39819443 C13.6366188,7.31705092 13.3927288,7.1729534 13.1931794,6.96589754 L13.9498003,6.11809198 C14.0662041,6.26359069 14.1950778,6.37411209 14.3364253,6.4496595 C14.4777727,6.52520691 14.6426756,6.56298005 14.8311389,6.56298005 C14.9752579,6.56298005 15.1055174,6.54199497 15.2219212,6.50002419 C15.338325,6.45805341 15.396526,6.38110813 15.396526,6.26918604 C15.396526,6.16286006 15.3452536,6.08311677 15.2427074,6.02995378 C15.1401612,5.97679079 15.0099018,5.93202263 14.8519252,5.89564795 C14.6939486,5.85927327 14.5248885,5.82010113 14.3447398,5.77813035 C14.1645911,5.73615957 13.9955309,5.67320434 13.8375544,5.58926277 C13.6795778,5.50532121 13.5493183,5.38640578 13.4467721,5.23251291 C13.3442259,5.07862004 13.2929536,4.8729663 13.2929536,4.6155455 C13.2929536,4.37491302 13.3414545,4.16786026 13.4384576,3.99438103 C13.5354608,3.8209018 13.6629487,3.67820328 13.8209253,3.5662812 C13.9789019,3.45435911 14.1604337,3.37181781 14.3655261,3.31865482 C14.5706185,3.26549183 14.7784793,3.23891073 14.9891147,3.23891073 C15.2551805,3.23891073 15.5240139,3.27808288 15.7956227,3.35642834 C16.0672316,3.43477379 16.2972642,3.5746743 16.4857275,3.77613406 L15.7207921,4.53999847 Z M19.6877764,4.34693384 L18.6939649,4.34693384 L18.6939649,5.70678037 C18.6939649,5.81870246 18.6995079,5.92082983 18.710594,6.01316555 C18.72168,6.10550127 18.7466233,6.18524456 18.7854246,6.25239781 C18.8242259,6.31955106 18.8838126,6.37131425 18.9641867,6.40768893 C19.0445607,6.44406361 19.1512626,6.46225067 19.2842955,6.46225067 C19.350812,6.46225067 19.4381135,6.45525565 19.5462027,6.44126539 C19.5791299,6.43700354 19.6140824,6.42797053 19.6510603,6.41416635 L19.6509039,6.41374753 C19.7047927,6.39363033 19.7647864,6.42100762 19.7849037,6.47489642 C19.7892533,6.48654813 19.7914809,6.49888472 19.7914809,6.51132184 L19.7915411,7.3160312 C19.7915411,7.36247464 19.7606798,7.40326185 19.7159856,7.41588783 C19.564084,7.45879954 19.4451309,7.48507918 19.3591262,7.49472675 C19.2094641,7.51151506 19.0625758,7.51990909 18.9184568,7.51990909 C18.7078214,7.51990909 18.513818,7.49752501 18.3364408,7.45275618 C18.1590636,7.40798734 18.0038608,7.33663808 17.8708279,7.23870626 C17.737795,7.14077443 17.6338646,7.01346497 17.5590336,6.85677405 C17.4842026,6.70008313 17.4467876,6.50981844 17.4467876,6.28597427 L17.4467876,4.34693384 L16.7522987,4.34693384 C16.6950243,4.34693384 16.6485942,4.30050373 16.6485942,4.24322928 L16.6485942,3.44334466 C16.6485942,3.38607022 16.6950243,3.33964011 16.7522987,3.33964011 L17.4467876,3.33964011 L17.4467876,2.23459219 C17.4467876,2.17731774 17.4932177,2.13088763 17.5504922,2.13088763 L18.5902604,2.13088763 C18.6475348,2.13088763 18.6939649,2.17731774 18.6939649,2.23459219 L18.6939649,3.33964011 L19.6877764,3.33964011 C19.7450508,3.33964011 19.7914809,3.38607022 19.7914809,3.44334466 L19.7914809,4.24322928 C19.7914809,4.30050373 19.7450508,4.34693384 19.6877764,4.34693384 Z M22.9475731,4.91773362 C22.9531162,4.70508166 22.8838292,4.523211 22.7397103,4.37211618 C22.5955913,4.22102137 22.4099023,4.14547509 22.1826377,4.14547509 C22.0440618,4.14547509 21.9221168,4.16785917 21.8167991,4.21262801 C21.7114813,4.25739684 21.6214083,4.31475605 21.5465773,4.38470735 C21.4717463,4.45465866 21.4135453,4.53580095 21.3719725,4.62813667 C21.3303997,4.72047239 21.3068421,4.81700374 21.3012991,4.91773362 L22.9475731,4.91773362 Z M24.8105313,3.33964011 L25.8502995,3.33964011 C25.9075739,3.33964011 25.954004,3.38607022 25.954004,3.44334466 L25.954004,3.99438103 L25.9706331,3.99438103 C26.103666,3.74255634 26.2616402,3.55369065 26.4445604,3.42777831 C26.6274807,3.30186596 26.8575133,3.23891073 27.1346652,3.23891073 C27.2067247,3.23891073 27.2787831,3.24170874 27.3508426,3.24730485 C27.3815179,3.24968708 27.4197268,3.25511159 27.4654691,3.26357839 L27.4654859,3.26348777 C27.5146895,3.27259523 27.550391,3.31551145 27.550391,3.36555081 L27.5505483,4.29591044 C27.5505483,4.35327175 27.5040477,4.39977227 27.4466864,4.39977227 C27.4382235,4.39977227 27.4297922,4.3987379 27.4215802,4.39669218 C27.3667174,4.38302504 27.3223519,4.37343402 27.2884838,4.36791912 C27.2025667,4.35392886 27.1124936,4.34693384 27.018262,4.34693384 C26.7799114,4.34693384 26.5914509,4.38050996 26.452875,4.44766321 C26.314299,4.51481646 26.2075971,4.6085498 26.1327661,4.72886604 C26.0579351,4.84918229 26.0094343,4.99327981 25.9872621,5.16116294 C25.96509,5.32904606 25.954004,5.51371474 25.954004,5.71517449 L25.954004,7.31547516 C25.954004,7.37274961 25.9075739,7.41917972 25.8502995,7.41917972 L24.8105313,7.41917972 C24.7532569,7.41917972 24.7068267,7.37274961 24.7068267,7.31547516 L24.7068267,3.44334466 C24.7068267,3.38607022 24.7532569,3.33964011 24.8105313,3.33964011 Z",opacity:".3",transform:"translate(39 25)"}),o.createElement("path",{fill:"#F7578C",d:"M19.9978604,1.05457478 C31.5962188,4.16759596 33.6583755,9.76840829 30.9202182,20.0046146 C28.182061,30.2408209 23.6004979,34.0584464 12.0021396,30.9454252 C0.403781249,27.832404 -1.65837547,22.2315917 1.07978177,11.9953854 C3.817939,1.75917906 8.3995021,-2.05844639 19.9978604,1.05457478 Z"}),o.createElement("path",{fill:"#FFF",d:"M3.01357681,11.1746032 C1.54183651,8.09304546 1.47500454,5.07092644 3.27296549,3.27296549 C5.07092644,1.47500454 8.09304546,1.54183651 11.1746032,3.01357681 C14.2561609,1.54183651 17.2782799,1.47500454 19.0762409,3.27296549 C20.8742018,5.07092644 20.8073698,8.09304546 19.3356295,11.1746032 C20.8073698,14.2561609 20.8742018,17.2782799 19.0762409,19.0762409 C17.2782799,20.8742018 14.2561609,20.8073698 11.1746032,19.3356295 C8.09304546,20.8073698 5.07092644,20.8742018 3.27296549,19.0762409 C1.47500454,17.2782799 1.54183651,14.2561609 3.01357681,11.1746032 Z M4.45796849,8.75207162 C5.03061803,7.95515432 5.69195143,7.1752897 6.43362057,6.43362057 C7.1752897,5.69195143 7.95515432,5.03061803 8.75207162,4.45796849 C7.07868768,3.95072223 5.64489185,4.06169421 4.85329303,4.85329303 C4.06169421,5.64489185 3.95072223,7.07868768 4.45796849,8.75207162 Z M17.8912379,13.5971347 C17.3185883,14.394052 16.6572549,15.1739167 15.9155858,15.9155858 C15.1739167,16.6572549 14.394052,17.3185883 13.5971347,17.8912379 C15.2705187,18.3984841 16.7043145,18.2875121 17.4959133,17.4959133 C18.2875121,16.7043145 18.3984841,15.2705187 17.8912379,13.5971347 Z M4.45796849,13.5971347 C3.95072223,15.2705187 4.06169421,16.7043145 4.85329303,17.4959133 C5.64489185,18.2875121 7.07868768,18.3984841 8.75207162,17.8912379 C7.95515432,17.3185883 7.1752897,16.6572549 6.43362057,15.9155858 C5.69195143,15.1739167 5.03061803,14.394052 4.45796849,13.5971347 Z M5.54454992,11.1746032 C6.16864691,12.236581 6.99599105,13.3173012 8.0139481,14.3352582 C9.03190516,15.3532153 10.1126254,16.1805594 11.1746032,16.8046564 C12.236581,16.1805594 13.3173012,15.3532153 14.3352582,14.3352582 C15.3532153,13.3173012 16.1805594,12.236581 16.8046564,11.1746032 C16.1805594,10.1126254 15.3532153,9.03190516 14.3352582,8.0139481 C13.3173012,6.99599105 12.236581,6.16864691 11.1746032,5.54454992 C10.1126254,6.16864691 9.03190516,6.99599105 8.0139481,8.0139481 C6.99599105,9.03190516 6.16864691,10.1126254 5.54454992,11.1746032 Z M13.5971347,4.45796849 C14.394052,5.03061803 15.1739167,5.69195143 15.9155858,6.43362057 C16.6572549,7.1752897 17.3185883,7.95515432 17.8912379,8.75207162 C18.3984841,7.07868768 18.2875121,5.64489185 17.4959133,4.85329303 C16.7043145,4.06169421 15.2705187,3.95072223 13.5971347,4.45796849 Z",transform:"translate(5 5)"})))),o.createElement(I.a,{onClick:function(){a(!1)}},o.createElement(U.a,null))),o.createElement(je,{open:i})),e.children)}function Ve(){var e,t=Object(y.d)(_e("currentUser")).data,n=Object(y.c)(),r=Object(x.f)(),i=o.useState(null),a=Object(v.a)(i,2),l=a[0],c=a[1],u=Boolean(l),s=function(){c(null)};return o.createElement(o.Fragment,null,o.createElement(w.a,{style:{display:"flex",alignItems:"center",textAlign:"center"}},o.createElement(A.a,{style:{minWidth:30}},o.createElement(I.a,null,o.createElement(Y.a,null))),o.createElement(A.a,{style:{minWidth:30}},o.createElement(I.a,null,o.createElement(q.a,null))),o.createElement(A.a,{style:{minWidth:30}},o.createElement(I.a,null,o.createElement(Q.a,null))),o.createElement(P.a,{title:t.displayName},o.createElement(I.a,{onClick:function(e){c(e.currentTarget)},size:"small",style:{ml:2},"aria-controls":u?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":u?"true":void 0},o.createElement(_.a,{style:{width:32,height:32},alt:t.displayName,src:t.photoURL})))),o.createElement(F.a,(e={anchorEl:l,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},id:"account-menu",open:u,onClose:s,onClick:s,PaperProps:{elevation:0,style:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",marginTop:1,"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}}},Object(S.a)(e,"transformOrigin",{horizontal:"right",vertical:"top"}),Object(S.a)(e,"anchorOrigin",{horizontal:"right",vertical:"bottom"}),e),o.createElement(w.a,{style:{display:"flex",flexDirection:"column",alignItems:"center"}},o.createElement(_.a,{style:{marginTop:"10px",width:"80px",height:"80px",border:"1px solid grey","& img":{borderRadius:"100%"}},src:t.photoURL}),o.createElement("div",{style:{margin:"15px",fontSize:"20px"}},t.displayName),o.createElement("div",{style:{padding:"0px 20px",width:"250px",fontSize:"17px",lineHeight:"25px",fontWeight:400,letterSpacing:"normal",color:"rgb(138, 148, 153)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center",marginBottom:"10px"}},t.email)),o.createElement(z.a,{onClick:function(){return r("/account/me")}},o.createElement(B.a,null,o.createElement(ee.a,{fontSize:"small"})),o.createElement(N.a,{primary:"Account"})),o.createElement(z.a,null,o.createElement(B.a,null,o.createElement(ne.a,{fontSize:"small"})),o.createElement(N.a,{primary:"Preferences"})),o.createElement(W.a,null),o.createElement(z.a,null,o.createElement(B.a,null,o.createElement(re.a,{fontSize:"small"})),o.createElement(N.a,{primary:"Help"})),o.createElement(z.a,null,o.createElement(B.a,null,o.createElement(ae.a,{fontSize:"small"})),o.createElement(N.a,{primary:"Apps"})),o.createElement(z.a,null,o.createElement(B.a,null,o.createElement(ce.a,{fontSize:"small"})),o.createElement(N.a,{primary:"Spread the love"})),o.createElement(z.a,{onClick:function(){n(Ae())}},o.createElement(B.a,null,o.createElement(se.a,{fontSize:"small"})),o.createElement(N.a,{primary:"Logout"}))))}function Ge(){return r.a.createElement(T,null,r.a.createElement(He,null,r.a.createElement(x.b,null)))}var Ue=n(1142),Ze=n(1143),Ye=n(402),Je=n.n(Ye),qe=Object(k.a)("nav",{shouldForwardProp:function(e){return"open"!==e}})((function(e){e.theme;var t=e.open;return Object(j.a)({padding:"15px"},!t&&{padding:"10px 0"})})),Xe=[{label:"Me",link:"me",active:!0,icon:o.createElement(he.a,null)},{label:"MindMeister",link:"mindmeister",active:!1,icon:o.createElement(ye.a,null)},{label:"Plan",link:"plan",active:!1,icon:o.createElement(Je.a,null)},{label:"Settings",link:"settings",active:!0,icon:o.createElement(Ee.a,null)},{label:"Integrations",link:"/integrations",active:!1,icon:o.createElement(Ce.a,null)}];var Qe=Object(we.a)((function(e){return{root:{minHeight:48,fontSize:15,borderRadius:0,cursor:"pointer",marginBottom:"2px","&.open":{borderRadius:"15px"},"&.active":{backgroundColor:e.palette.primary.main,color:e.palette.secondary.contrastText+"!important",pointerEvents:"none","& .list-item-text-primary":{color:"inherit"},"& .list-item-icon":{color:"inherit"}},"&:hover":{backgroundColor:e.palette.primary.light},"& .list-item-icon":{},"& .list-item-text":{padding:"0 0 0 16px"},color:"inherit!important",textDecoration:"none!important"}}}),{withTheme:!0})((function(e){var t=e.classes,n=e.open,r=Object(x.e)();return o.createElement(w.a,null,o.createElement(qe,{open:n},Xe.map((function(e){return o.createElement(pe.a,{button:!0,key:e.label,component:g.c,to:e.link,className:me()(t.root,{open:n,active:r.pathname===e.link}),onClick:function(){},disabled:!e.active},o.createElement(B.a,{style:{color:"inherit",paddingRight:1}},e.icon),o.createElement(N.a,{primary:e.label,primaryTypographyProps:{fontWeight:"medium"}}))}))))})),$e=function(e){return{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),backgroundColor:"#293033",color:"white",overflowX:"hidden"}},et=function(e){return Object(S.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),backgroundColor:"#293033",color:"white",overflowX:"hidden",width:"calc(".concat(e.spacing(7),"px + 1px)")},e.breakpoints.up("sm"),{width:"calc(".concat(e.spacing(7),"px + 1px)")})},tt=Object(k.a)("div")((function(e){var t=e.theme;return Object(j.a)({display:"flex",alignItems:"center",justifyContent:"space-between",padding:t.spacing(3,1)},t.mixins.toolbar)})),nt=Object(k.a)(D.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(j.a)({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),left:"calc(".concat(t.spacing(7),"px + 1px)"),width:"calc(100vw - ".concat(t.spacing(7),"px - 1px)")},n&&{marginLeft:240,left:0,width:"calc(100% - ".concat(240,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})})})),ot=Object(k.a)(L.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(j.a)(Object(j.a)({width:240,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box"},n&&Object(j.a)(Object(j.a)({},$e(t)),{},{"& .MuiDrawer-paper":$e(t)})),!n&&Object(j.a)(Object(j.a)({},et(t)),{},{"& .MuiDrawer-paper":et(t)}))}));function rt(e){Object(R.a)();var t=o.useState(!0),n=Object(v.a)(t,2),r=n[0],i=n[1],a=Object(y.d)(_e("currentUser")).data,l=Object(x.f)(),c=Object(Ue.a)("(min-width:800px)"),u=Object(x.e)();var s=function e(t,n){for(var o=0;o<t.length;o++){var r=t[o];if(r.path==n)return r;if(r.children){var i=e(r.children,n);if(i)return i}}}(pp,u.pathname);o.useEffect((function(){i(c)}),[c]);return o.createElement(w.a,{style:{display:"flex"}},o.createElement(K.a,null),o.createElement(nt,{position:"fixed",open:r,style:{backgroundColor:"#293033",color:"black",boxShadow:"none"}},o.createElement(M.a,{style:{display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:"white",minHeight:"64px",borderTopLeftRadius:20}},o.createElement(I.a,{color:"inherit","aria-label":"open drawer",onClick:function(){i(!r)},edge:"start",style:{marginRight:"30px",color:"black"}},o.createElement(V.a,null)),o.createElement(w.a,{style:{display:"flex",justifyContent:"space-between",flex:"1"}},o.createElement(A.a,{variant:"h6",noWrap:!0,component:"div"},s.name),o.createElement(A.a,{variant:"h6",noWrap:!0,component:"div",style:{}},o.createElement(Ze.a,{onClick:function(){return l("/dashboard")}},"Back to Mainpage"))))),o.createElement(ot,{variant:"permanent",open:r},o.createElement(tt,null,o.createElement("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",flexDirection:"column"}},o.createElement(_.a,{style:Object(j.a)(Object(j.a)({width:"130px",height:"130px"},!r&&{width:"45px",height:"45px"}),{},{mt:2,border:"5px double grey","& img":{borderRadius:"100%"}}),src:a.photoURL}),o.createElement("div",{style:Object(j.a)({marginTop:"30px",fontSize:"17px"},!r&&{display:"none"})},a.displayName))),o.createElement(Qe,{open:r})),e.children)}function it(){return r.a.createElement(T,null,r.a.createElement(rt,null,r.a.createElement(x.b,null)))}var at=n(1144),lt=n(39),ct=n(197),ut=n.n(ct),st=n(403),pt=n.n(st),dt=n(404),mt=n.n(dt),ft=n(405),ht=n.n(ft),gt=n(406),yt=n.n(gt),bt=n(462),xt=n(13),vt=Object(bt.a)((function(e){return{root:{flexGrow:1,height:"100vh",padding:30},drawerHeader:Object(j.a)({display:"flex",alignItems:"center",justifyContent:"space-between",padding:e.spacing(5,2)},e.mixins.toolbar),Item:Object(j.a)(Object(j.a)({},e.typography.body2),{},{flex:"auto",display:"flex",flexDirection:"column",justifyContent:"center",backgroundColor:"rgb(0 0 0 / 9%)",textAlign:"center",boxShadow:"none",borderRadius:15,fontSize:11,margin:3,flexGrow:1,flexShrink:1,height:"100px",color:e.palette.text.secondary,"&:hover":{backgroundColor:"#d3d3d3"}})}}));Object(xt.a)((function(e){return{paper:{borderRadius:"4px",boxShadow:"3px 2px 10px 0px grey","& ul":{padding:"5px 0"},"& li":{"& div":{minWidth:0},"& svg":{fontSize:18,color:e.palette.text.secondary,marginRight:e.spacing(1.5)},"&:hover":{backgroundColor:e.palette.primary.light},"&:active":{backgroundColor:Object(lt.a)(e.palette.primary.dark,e.palette.action.selectedOpacity)}}}}}))((function(e){return o.createElement(F.a,Object.assign({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},e))})),Object(xt.a)((function(e){return{root:{"&:focus":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}}))(z.a);function Et(){var e=o.useState(null),t=Object(v.a)(e,2),n=t[0],r=t[1],i=function(){r(null)},a=Object(bt.a)((function(e){return{Button:{textAlign:"center",fontSize:"20px","&:hover":{boxShadow:"0px 9px 20px -4px ".concat(e.palette.primary.dark)},boxShadow:"none",borderRadius:"15px",padding:0,margin:0,flexGrow:1,flexShrink:1,height:"100px",width:"100%"}}})),l=Object(x.f)(),c=a();return o.createElement("div",null,o.createElement(Ze.a,{className:c.Button,"aria-controls":"customized-menu","aria-haspopup":"true",variant:"contained",color:"primary",onClick:function(e){r(e.currentTarget)}},o.createElement(ut.a,{style:{width:"50px",height:"50px"}})),o.createElement(F.a,{id:"customized-menu",color:"primary",anchorEl:n,open:Boolean(n),onClose:i,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},o.createElement(z.a,{onClick:function(){return l("/mindmap")}},o.createElement(B.a,null,o.createElement(pt.a,null)),o.createElement(N.a,{primary:"New mind map"})),o.createElement(z.a,{onClick:i},o.createElement(B.a,null,o.createElement(mt.a,null)),o.createElement(N.a,{primary:"New from template"})),o.createElement(z.a,{onClick:i},o.createElement(B.a,null,o.createElement(ht.a,null)),o.createElement(N.a,{primary:"New folder"})),o.createElement(W.a,{style:{my:.5}}),o.createElement(z.a,{onClick:i},o.createElement(B.a,null,o.createElement(yt.a,null)),o.createElement(N.a,{primary:"Import"}))))}var Ot=function(e){var t=vt(),n=(e.type,Object(x.e)().pathname);return o.createElement(w.a,{component:"main",className:me()(t.root,"")},o.createElement("div",{className:me()(t.drawerHeader)}),o.createElement(at.a,{container:!0,spacing:1,style:{cursor:"pointer"}},o.createElement(at.a,{item:!0,xs:12,xl:6,sm:3,md:2,style:Object(j.a)({},"/dashboard"!==n&&{display:"none"})},o.createElement("div",{className:me()(t.Item,"")},o.createElement(Et,null))),o.createElement(at.a,{item:!0,xs:12,xl:6,sm:3,md:2},o.createElement("div",{className:me()(t.Item,"")},o.createElement("div",{style:{}},o.createElement("svg",{height:50,viewBox:"0 0 80 60"},o.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(7 8)"},o.createElement("path",{stroke:"#96DB0B",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.467",d:"M34.835 13.193l.615-2.955A7.333 7.333 0 0 1 42.63 4.4h11.637"}),o.createElement("path",{stroke:"#FA0",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.467",d:"M34.842 30.844l.608 2.918a7.333 7.333 0 0 0 7.18 5.838h11.637"}),o.createElement("path",{stroke:"#2BD9D9",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.467",d:"M31.518 13.11l-.43-2.582A7.333 7.333 0 0 0 23.854 4.4H12.467"}),o.createElement("path",{stroke:"#D01F2E",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.467",d:"M31.493 31.044l-.405 2.428a7.333 7.333 0 0 1-7.234 6.128H12.467"}),o.createElement("path",{stroke:"#FFD426",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.467",d:"M42.088 22H63.8"}),o.createElement("path",{stroke:"#A179F2",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.467",d:"M2.2 22h21"}),o.createElement("rect",{width:"10",height:"4",x:"28",y:"20",fill:"#3D474D",rx:"2"}),o.createElement("rect",{width:"15",height:"8.8",x:"41.8",fill:"#96DB0B",rx:"4.4"}),o.createElement("rect",{width:"15",height:"9",x:"10",fill:"#2BD9D9",rx:"4.5"}),o.createElement("rect",{width:"15",height:"9",x:"51.333",y:"17.6",fill:"#FFD426",rx:"4.5"}),o.createElement("rect",{width:"15",height:"9",y:"17.6",fill:"#A179F2",rx:"4.5"}),o.createElement("rect",{width:"14.667",height:"8.8",x:"41.8",y:"35.2",fill:"#FA0",rx:"4.4"}),o.createElement("rect",{width:"15",height:"9",x:"9",y:"35",fill:"#D01F2E",rx:"4.5"})))),o.createElement("div",null,"Mind Map"))),o.createElement(at.a,{item:!0,xs:12,xl:6,sm:3,md:2},o.createElement("div",{className:me()(t.Item,"")},o.createElement("div",{style:{}},o.createElement("svg",{height:50,viewBox:"0 0 80 60"},o.createElement("g",{fill:"none",fillRule:"evenodd"},o.createElement("g",{stroke:"#B2BBC0",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.47"},o.createElement("path",{d:"M40 14v6H22a5 5 0 0 0-5 5v3m23-14v6h18a5 5 0 0 1 5 5v3M40 14v14"})),o.createElement("path",{fill:"#FFD426",d:"M35.564 26h8.872c.892 0 1.215.093 1.54.267.327.174.583.43.757.756.174.326.267.65.267 1.54v1.873c0 .892-.093 1.215-.267 1.54-.174.327-.43.583-.756.757-.326.174-.65.267-1.54.267h-8.873c-.892 0-1.215-.093-1.54-.267a1.817 1.817 0 0 1-.757-.756c-.174-.326-.267-.65-.267-1.54v-1.873c0-.892.093-1.215.267-1.54.174-.327.43-.583.756-.757.326-.174.65-.267 1.54-.267z"}),o.createElement("path",{fill:"#FA0",d:"M58.564 26h8.872c.892 0 1.215.093 1.54.267.327.174.583.43.757.756.174.326.267.65.267 1.54v1.873c0 .892-.093 1.215-.267 1.54-.174.327-.43.583-.756.757-.326.174-.65.267-1.54.267h-8.873c-.892 0-1.215-.093-1.54-.267a1.817 1.817 0 0 1-.757-.756c-.174-.326-.267-.65-.267-1.54v-1.873c0-.892.093-1.215.267-1.54.174-.327.43-.583.756-.757.326-.174.65-.267 1.54-.267z"}),o.createElement("path",{fill:"#96DB0B",d:"M12.564 26h8.872c.892 0 1.215.093 1.54.267.327.174.583.43.757.756.174.326.267.65.267 1.54v1.873c0 .892-.093 1.215-.267 1.54-.174.327-.43.583-.756.757-.326.174-.65.267-1.54.267h-8.873c-.892 0-1.215-.093-1.54-.267a1.817 1.817 0 0 1-.757-.756c-.174-.326-.267-.65-.267-1.54v-1.873c0-.892.093-1.215.267-1.54.174-.327.43-.583.756-.757.326-.174.65-.267 1.54-.267z"}),o.createElement("path",{fill:"#FFD426",d:"M35.564 35h8.872c.892 0 1.215.093 1.54.267.327.174.583.43.757.756.174.326.267.65.267 1.54v1.873c0 .892-.093 1.215-.267 1.54-.174.327-.43.583-.756.757-.326.174-.65.267-1.54.267h-8.873c-.892 0-1.215-.093-1.54-.267a1.817 1.817 0 0 1-.757-.756c-.174-.326-.267-.65-.267-1.54v-1.873c0-.892.093-1.215.267-1.54.174-.327.43-.583.756-.757.326-.174.65-.267 1.54-.267z"}),o.createElement("path",{fill:"#3D474D",d:"M35.564 7h8.872c.892 0 1.215.093 1.54.267.327.174.583.43.757.756.174.326.267.65.267 1.54v1.873c0 .892-.093 1.215-.267 1.54-.174.327-.43.583-.756.757-.326.174-.65.267-1.54.267h-8.873c-.892 0-1.215-.093-1.54-.267a1.817 1.817 0 0 1-.757-.756c-.174-.326-.267-.65-.267-1.54V9.563c0-.892.093-1.215.267-1.54.174-.327.43-.583.756-.757.326-.174.65-.267 1.54-.267z"}),o.createElement("path",{fill:"#FA0",d:"M58.564 35h8.872c.892 0 1.215.093 1.54.267.327.174.583.43.757.756.174.326.267.65.267 1.54v1.873c0 .892-.093 1.215-.267 1.54-.174.327-.43.583-.756.757-.326.174-.65.267-1.54.267h-8.873c-.892 0-1.215-.093-1.54-.267a1.817 1.817 0 0 1-.757-.756c-.174-.326-.267-.65-.267-1.54v-1.873c0-.892.093-1.215.267-1.54.174-.327.43-.583.756-.757.326-.174.65-.267 1.54-.267z"}),o.createElement("path",{fill:"#96DB0B",d:"M12.564 35h8.872c.892 0 1.215.093 1.54.267.327.174.583.43.757.756.174.326.267.65.267 1.54v1.873c0 .892-.093 1.215-.267 1.54-.174.327-.43.583-.756.757-.326.174-.65.267-1.54.267h-8.873c-.892 0-1.215-.093-1.54-.267a1.817 1.817 0 0 1-.757-.756c-.174-.326-.267-.65-.267-1.54v-1.873c0-.892.093-1.215.267-1.54.174-.327.43-.583.756-.757.326-.174.65-.267 1.54-.267z"}),o.createElement("path",{fill:"#FFD426",d:"M35.564 44h8.872c.892 0 1.215.093 1.54.267.327.174.583.43.757.756.174.326.267.65.267 1.54v1.873c0 .892-.093 1.215-.267 1.54-.174.327-.43.583-.756.757-.326.174-.65.267-1.54.267h-8.873c-.892 0-1.215-.093-1.54-.267a1.817 1.817 0 0 1-.757-.756c-.174-.326-.267-.65-.267-1.54v-1.873c0-.892.093-1.215.267-1.54.174-.327.43-.583.756-.757.326-.174.65-.267 1.54-.267z"}),o.createElement("path",{fill:"#FA0",d:"M58.564 44h8.872c.892 0 1.215.093 1.54.267.327.174.583.43.757.756.174.326.267.65.267 1.54v1.873c0 .892-.093 1.215-.267 1.54-.174.327-.43.583-.756.757-.326.174-.65.267-1.54.267h-8.873c-.892 0-1.215-.093-1.54-.267a1.817 1.817 0 0 1-.757-.756c-.174-.326-.267-.65-.267-1.54v-1.873c0-.892.093-1.215.267-1.54.174-.327.43-.583.756-.757.326-.174.65-.267 1.54-.267z"}),o.createElement("path",{fill:"#96DB0B",d:"M12.564 44h8.872c.892 0 1.215.093 1.54.267.327.174.583.43.757.756.174.326.267.65.267 1.54v1.873c0 .892-.093 1.215-.267 1.54-.174.327-.43.583-.756.757-.326.174-.65.267-1.54.267h-8.873c-.892 0-1.215-.093-1.54-.267a1.817 1.817 0 0 1-.757-.756c-.174-.326-.267-.65-.267-1.54v-1.873c0-.892.093-1.215.267-1.54.174-.327.43-.583.756-.757.326-.174.65-.267 1.54-.267z"})))),o.createElement("div",null,"Org Chart"))),o.createElement(at.a,{item:!0,xs:12,xl:6,sm:3,md:2},o.createElement("div",{className:me()(t.Item,"")},o.createElement("div",{style:{}},o.createElement("svg",{height:50,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 60"},o.createElement("g",{fill:"none",fillRule:"evenodd"},o.createElement("path",{d:"m10.836 21.189.614-2.951a7.333 7.333 0 0 1 7.18-5.838h11.637M10.84 38.839l.61 2.923A7.333 7.333 0 0 0 18.63 47.6h11.637M17.994 30H39.8M47.267 30l.859-4.152A7.333 7.333 0 0 1 55.307 20h3.96m-12 10 .859 4.152A7.333 7.333 0 0 0 55.307 40h3.96M43 30h17",stroke:"#B2BBC0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("rect",{fill:"#D01F2E",x:"4",y:"28",width:"10",height:"4",rx:"2"}),o.createElement("rect",{fill:"#3D474D",x:"17.8",y:"8",width:"15",height:"8.8",rx:"3"}),o.createElement("rect",{fill:"#3D474D",x:"27.333",y:"25.6",width:"15",height:"9",rx:"3"}),o.createElement("rect",{fill:"#3D474D",x:"17.8",y:"43.2",width:"14.667",height:"8.8",rx:"3"}),o.createElement("rect",{fill:"#3ECB3D",x:"59",y:"17",width:"15",height:"6",rx:"2"}),o.createElement("rect",{fill:"#FFAB00",x:"59",y:"27",width:"15",height:"6",rx:"2"}),o.createElement("rect",{fill:"#8A9499",x:"59",y:"37",width:"15",height:"6",rx:"2"})))),o.createElement("div",null,"Project Retrospective"))),o.createElement(at.a,{item:!0,xs:12,xl:6,sm:3,md:2},o.createElement("div",{className:me()(t.Item,"")},o.createElement("div",{style:{}},o.createElement("svg",{height:50,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 60"},o.createElement("g",{fill:"none",fillRule:"evenodd"},o.createElement("path",{d:"m41.845 21.143.605-2.905a7.333 7.333 0 0 1 7.18-5.838h11.637",stroke:"#4070FF",strokeWidth:"1.467",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"m41.846 38.863.604 2.9a7.333 7.333 0 0 0 7.18 5.837h11.637",stroke:"#F7578C",strokeWidth:"1.467",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"m38.516 21.097-.428-2.57a7.333 7.333 0 0 0-7.234-6.127H19.467h0",stroke:"#FFD426",strokeWidth:"1.467",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"m38.518 38.891-.43 2.581a7.333 7.333 0 0 1-7.234 6.128H19.467h0",stroke:"#D01F2E",strokeWidth:"1.467",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{stroke:"#A179F2",strokeWidth:"1.467",strokeLinecap:"round",strokeLinejoin:"round",d:"M49.002 30H70.8"}),o.createElement("path",{stroke:"#FA0",strokeWidth:"1.467",strokeLinecap:"round",strokeLinejoin:"round",d:"M9.2 30H31"}),o.createElement("path",{fill:"#3D474D",d:"M35 28h10v4H35z"}),o.createElement("path",{fill:"#4070FF",d:"M48.8 8h15v8.8h-15z"}),o.createElement("path",{fill:"#FFD426",d:"M17 8h15v9H17z"}),o.createElement("path",{fill:"#A179F2",d:"M58.333 25.6h15v9h-15z"}),o.createElement("path",{fill:"#FA0",d:"M7 25.6h15v9H7z"}),o.createElement("path",{fill:"#F7578C",d:"M48.8 43.2h14.667V52H48.8z"}),o.createElement("path",{fill:"#D01F2E",d:"M16 43h15v9H16z"})))),o.createElement("div",null,"Product Launch"))),o.createElement(at.a,{item:!0,xs:12,xl:6,sm:3,md:2},o.createElement("div",{className:me()(t.Item,"")},o.createElement("div",{style:{}},o.createElement("svg",{height:50,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 60"},o.createElement("g",{fill:"none",fillRule:"evenodd"},o.createElement("path",{d:"m41.837 21.18.613-2.942a7.333 7.333 0 0 1 7.18-5.838h11.637",stroke:"#4070FF",strokeWidth:"1.467",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"m41.846 38.863.604 2.9a7.333 7.333 0 0 0 7.18 5.837h11.637",stroke:"#F7578C",strokeWidth:"1.467",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{stroke:"#A179F2",strokeWidth:"1.467",strokeLinecap:"round",strokeLinejoin:"round",d:"M48.983 30H70.8"}),o.createElement("rect",{fill:"#3D474D",x:"35",y:"28",width:"10",height:"4",rx:"2"}),o.createElement("rect",{fill:"#4070FF",x:"48.8",y:"8",width:"15",height:"8.8",rx:"4.4"}),o.createElement("rect",{fill:"#A179F2",x:"58.333",y:"25.6",width:"15",height:"9",rx:"4.5"}),o.createElement("rect",{fill:"#F7578C",x:"48.8",y:"43.2",width:"14.667",height:"8.8",rx:"4.4"}),o.createElement("g",{transform:"matrix(-1 0 0 1 38.333 8)"},o.createElement("path",{d:"m.001 13.164.61-2.926A7.333 7.333 0 0 1 7.79 4.4h11.636",stroke:"#96DB0B",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"M5.406 16.642c2.13-.522 6.716-.736 13.754-.642",stroke:"#FFD426",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"M5.28 27.496c2.134.54 6.76.764 13.88.674",stroke:"#FA0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"m0 30.83.61 2.932A7.333 7.333 0 0 0 7.79 39.6h11.637",stroke:"#D01F2E",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("rect",{fill:"#96DB0B",x:"6.96",width:"15",height:"8.8",rx:"4.4"}),o.createElement("rect",{fill:"#FFD426",x:"12.494",y:"11",width:"15",height:"9",rx:"4.5"}),o.createElement("rect",{fill:"#FA0",x:"12.494",y:"24",width:"15",height:"9",rx:"4.5"}),o.createElement("rect",{fill:"#D01F2E",x:"6.96",y:"35.2",width:"14.667",height:"8.8",rx:"4.4"}))))),o.createElement("div",null,"Monthly Blog Schedule")))))},Ct=n(155),wt=n(10),kt=n(18),Tt=n.n(kt),jt=n(140),St=n(4),Rt=n(38),Dt=n(95),Lt=n(93),Kt=n(5),Mt=n(198),It=function(e,t){return(It=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function At(e,t){function n(){this.constructor=e}It(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Pt=function(){return(Pt=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function _t(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a}function Ft(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(_t(arguments[t]));return e}Tt()("core:controller");function zt(e){var t,n;if(!Array.isArray(e))throw new TypeError("Middleware stack must be an array!");try{for(var o=function(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}(e),r=o.next();!r.done;r=o.next()){if("function"!==typeof r.value)throw new TypeError("Middleware must be composed of functions!")}}catch(i){t={error:i}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return function(t,n){var o=-1;return function r(i){if(i<=o)throw new Error("next() called multiple times");o=i;var a=e[i];i===e.length&&(a=n);if(!a)return null;try{return a(t,r.bind(null,i+1))}catch(l){throw l}}(0)}}var Bt,Nt=function(){function e(e){void 0===e&&(e={});var t=e.plugins,n=void 0===t?[]:t,o=e.onChange,r=e.readOnly;this.readOnly=r,this.onChange=o,this.middleware=new Map,function e(t,n){if(Array.isArray(n))n.forEach((function(n){return e(t,n)}));else if(null!=n)for(var o in n){var r=n[o];t.middleware[o]=t.middleware[o]||[],t.middleware[o].push(r)}}(this,function(e){void 0===e&&(e={});var t=e.plugins;return Ft(void 0===t?[]:t)}({plugins:n}))}return e.prototype.run=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=this.middleware,r=o[e]||[];Object(Lt.a)(0!==r.length,"the middleware function "+e+" is not found!");var i=Object(Dt.a)(zt)(r);return i.apply(void 0,Ft(t))},e.prototype.getValue=function(e,t){return this.run("getValue",Pt(Pt({},t),{propKey:e}))},e.prototype.change=function(e,t){this.onChange(e,t),this.currentModel=e},e}(),Wt="L",Ht="R",Vt="M";!function(e){e[e.LEFT_TO_RIGHT=0]="LEFT_TO_RIGHT",e[e.RIGHT_TO_LEFT=1]="RIGHT_TO_LEFT",e[e.LEFT_AND_RIGHT=2]="LEFT_AND_RIGHT",e[e.TOP_TO_BOTTOM=3]="TOP_TO_BOTTOM"}(Bt||(Bt={}));var Gt=0,Ut=1,Zt="CONTENT",Yt="DESC",Jt="NORMAL",qt="EDITING_CONTENT",Xt="EDITING_DESC",Qt="SHOW_POPUP",$t="DRAGGING",en="ANCESTOR",tn="DESCENDANT",nn="SIBLING",on="NONE",rn="TOGGLE_COLLAPSE",an="COLLAPSE_ALL",ln="EXPAND_ALL",cn="EXPAND_TO",un="ADD_CHILD",sn="ADD_EMOJI",pn="ADD_SIBLING",dn="DELETE_TOPIC",mn="FOCUS_TOPIC",fn="SET_FOCUS_MODE",hn="SET_STYLE",gn="SET_THEME",yn="SET_TOPIC_BLOCK",bn="DELETE_TOPIC_BLOCK",xn="START_EDITING_CONTENT",vn="START_EDITING_DESC",En="DRAG_AND_DROP",On="SET_EDITOR_ROOT";function Cn(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}var wn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return At(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this.get("data")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this.get("type")},enumerable:!0,configurable:!0}),t.create=function(e){return new t(e)},t.createList=function(e){if(Kt.List.isList(e)||Array.isArray(e))return Object(Kt.List)(e.map(t.create));throw new Error("Block.createList only accepts Array or List, but you passed it: "+e)},t}(Object(Kt.Record)({type:null,key:null,data:null})),kn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return At(t,e),Object.defineProperty(t.prototype,"key",{get:function(){return this.get("key")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentKey",{get:function(){return this.get("parentKey")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collapse",{get:function(){return this.get("collapse")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subKeys",{get:function(){return this.get("subKeys")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"blocks",{get:function(){return this.get("blocks")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relations",{get:function(){return this.get("relations")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this.get("style")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emoji",{get:function(){return this.get("emoji")},enumerable:!0,configurable:!0}),t.prototype.getBlock=function(e){var t=this.blocks.findIndex((function(t){return t.type===e}));return-1===t?{index:t,block:null}:{index:t,block:this.blocks.get(t)}},t.fromJSON=function(e){var n=e.key,o=e.parentKey,r=void 0===o?null:o,i=e.blocks,a=e.subKeys,l=void 0===a?[]:a,c=e.collapse,u=void 0!==c&&c,s=e.emoji;return new t({key:n,parentKey:r,emoji:void 0===s?null:s,collapse:u,subKeys:Object(Kt.List)(l),blocks:wn.createList(i)})},t.create=function(e){var n=e.key,o=e.parentKey,r=void 0===o?null:o,i=e.content,a=void 0===i?"":i,l=e.subKeys,c=void 0===l?[]:l,u=e.collapse,s=void 0!==u&&u,p=e.emoji,d=void 0===p?"":p,m=wn.create({type:Zt,data:a,key:null});return new t({key:n,parentKey:r,emoji:d,blocks:Object(Kt.List)([m]),subKeys:Object(Kt.List)(c),collapse:s})},t}(Object(Kt.Record)({key:null,parentKey:null,collapse:!1,subKeys:null,blocks:null,relations:null,style:null,emoji:null}));function Tn(e,t){var n=e.getTopic(t),o=[];if(n.subKeys.size>0){var r=n.subKeys.toArray();o.push.apply(o,Ft(r)),o=r.reduce((function(t,n){return t.push.apply(t,Ft(Tn(e,n))),t}),o)}return o}function jn(e,t,n){var o=e.getTopic(t),r=e.getTopic(n);if(o&&r){if(o.parentKey==r.parentKey)return nn;for(var i=o;i.parentKey;){if(i.parentKey===r.key)return tn;i=e.getParentTopic(i.key)}for(i=r;i.parentKey;){if(i.parentKey===o.key)return en;i=e.getParentTopic(i.key)}}return on}var Sn=Tt()("modifier");function Rn(e){var t=e.model,n=e.topicKey,o=e.focusMode;return Sn("focus topic"),n!==t.focusKey&&(t=t.set("focusKey",n)),o!==t.focusMode&&(t=t.set("focusMode",o)),t}var Dn={addChild:function(e){var t=e.model,n=e.topicKey;Sn("addChild:",n);var o=t.getTopic(n);if(o){var r=kn.create({key:Cn(),parentKey:o.key});return o=o.set("collapse",!1).update("subKeys",(function(e){return e.push(r.key)})),Rn({model:t=t.update("topics",(function(e){return e.set(n,o).set(r.key,r)})),topicKey:r.key,focusMode:qt})}return t},addEmoji:function(e){var t=e.model,n=e.topicKey,o=e.emoji,r=e.focusMode;return t.getTopic(n)?Rn({model:t=t.updateIn(["topics",n,"emoji"],(function(e){return o})),topicKey:n,focusMode:r}):t},addSibling:function(e){var t=e.model,n=e.topicKey;if(n===t.rootTopicKey)return t;var o=t.getTopic(n);if(o){var r=t.getTopic(o.parentKey),i=r.subKeys.indexOf(n),a=kn.create({key:Cn(),parentKey:r.key});return Rn({model:t=t.update("topics",(function(e){return e.set(a.key,a)})).updateIn(["topics",r.key,"subKeys"],(function(e){return e.insert(i+1,a.key)})),topicKey:a.key,focusMode:qt})}return t},toggleCollapse:function(e){var t=e.model,n=e.topicKey,o=t.getTopic(n);return o&&0!==o.subKeys.size&&(o=o.merge({collapse:!o.collapse}),t=t.updateIn(["topics",o.key,"collapse"],(function(e){return!e}))),t=Rn({model:t,topicKey:n,focusMode:Jt})},collapseAll:function(e){var t=e.model;Sn("collapseAll");var n=Tn(t,t.editorRootTopicKey);return Sn(t),t=t.withMutations((function(e){n.forEach((function(t){e.setIn(["topics",t,"collapse"],!0)}))})),Sn(t),t},expandAll:function(e){var t=e.model,n=Tn(t,t.editorRootTopicKey);return Sn(t),t=t.withMutations((function(e){n.forEach((function(t){e.setIn(["topics",t,"collapse"],!1)}))})),Sn(t),t},expandTo:function(e){var t=e.model,n=e.topicKey,o=function(e,t,n){void 0===n&&(n=!1);for(var o=[t],r=e.getTopic(t);r.parentKey;)n?o.push(r.parentKey):o.unshift(r.parentKey),r=e.getParentTopic(r.key);return o}(t,n).filter((function(e){return e!==n}));return jn(t=t.withMutations((function(e){o.forEach((function(t){e.setIn(["topics",t,"collapse"],!1)}))})),n,t.editorRootTopicKey)!==tn&&(t=t.set("editorRootTopicKey",t.rootTopicKey)),t},focusTopic:Rn,setFocusMode:function(e){var t=e.model,n=e.focusMode;return Sn("setFocusMode"),n!==t.focusMode&&(t=t.set("focusMode",n)),t},deleteTopic:function(e){var t=e.model,n=e.topicKey;if(n===t.editorRootTopicKey)return t;var o=t.getTopic(n);return o&&(t=t.withMutations((function(e){e.update("topics",(function(e){e=e.delete(n);var o=Tn(t,n);return e=e.withMutations((function(e){o.forEach((function(t){e.delete(t)}))}))})),e.updateIn(["topics",o.parentKey,"subKeys"],(function(e){return e.delete(e.indexOf(n))})),e.focusKey===n&&e.set("focusKey",null).set("focusMode",null)}))),t},setBlockData:function(e){var t=e.model,n=e.topicKey,o=e.blockType,r=e.focusMode,i=e.data,a=t.getTopic(n);if(a){var l=a.getBlock(o),c=l.index,u=l.block;-1===c?t=t.updateIn(["topics",n,"blocks"],(function(e){return e.push(wn.create({type:o,data:i}))})):u.data!==i&&(t=t.updateIn(["topics",n,"blocks",c,"data"],(function(e){return i}))),r&&(t=Rn({model:t,topicKey:n,focusMode:r}))}return t},deleteBlock:function(e){var t=e.model,n=e.topicKey,o=e.blockType,r=t.getTopic(n);if(r){var i=r.getBlock(o).index;-1!==i&&(t=t.updateIn(["topics",n,"blocks"],(function(e){return e.delete(i)}))),t=Rn({model:t,topicKey:null,focusMode:null})}return t},setStyle:function(e){var t=e.model,n=e.topicKey,o=e.style,r=t.getTopic(n);return r&&o!==r.style&&(t=t.updateIn(["topics",n,"style"],(function(e){return o}))),t},setTheme:function(e){var t=e.model,n=e.theme;return t=t.setIn(["config","theme"],n)},setLayoutDir:function(e){var t=e.model,n=e.layoutDir;return t.config.layoutDir===n?t:t=t.setIn(["config","layoutDir"],n)},setEditorRootTopicKey:function(e){var t=e.model,n=e.topicKey;return t.editorRootTopicKey!==n&&(t=t.set("editorRootTopicKey",n)),t.getTopic(n).collapse&&(t=t.setIn(["topics",n,"collapse"],!1)),t},setZoomFactor:function(e){var t=e.model,n=e.zoomFactor;return t.zoomFactor!==n&&(t=t.set("zoomFactor",n)),t}};var Ln={name:"default",randomColor:!1,background:"#f8f8f8",highlightColor:"rgb(0, 170, 255)",marginH:45,marginV:10,contentStyle:{lineHeight:"1.5"},linkStyle:{lineRadius:5},rootTopic:{contentStyle:{background:"#50C18A",color:"#fff",fontSize:"34px",borderRadius:"45px",padding:"16px 18px 16px 18px"},subLinkStyle:{lineType:"curve",lineWidth:"3px",lineColor:"#43a9ff"}},primaryTopic:{contentStyle:{background:"#ffffff",borderRadius:"45px",color:"rgb(103,103,103)",fontSize:"14px",padding:"6px 10px 5px 10px"},subLinkStyle:{lineType:"round",lineRadius:5,lineWidth:"3px",lineColor:"#43a9ff"}},normalTopic:{contentStyle:{background:"#fff",borderRadius:"45px",color:"rgb(103,103,103)",fontSize:"13px",padding:"3px 9px 4px"},subLinkStyle:{lineType:"round",lineRadius:5,lineWidth:"2px",lineColor:"#43a9ff"}}},Kn={readOnly:!1,allowUndo:!0,layoutDir:Bt.LEFT_AND_RIGHT,theme:Ln},Mn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return At(t,e),Object.defineProperty(t.prototype,"layoutDir",{get:function(){return this.get("layoutDir")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readOnly",{get:function(){return this.get("readOnly")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowUndo",{get:function(){return this.get("allowUndo")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"theme",{get:function(){return this.get("theme")},enumerable:!0,configurable:!0}),t.fromJSON=function(e){return new t(e)},t}(Object(Kt.Record)(Kn)),In={topics:Object(Kt.Map)(),extData:Object(Kt.Map)(),config:null,rootTopicKey:null,editorRootTopicKey:null,focusKey:null,focusMode:null,formatVersion:null,zoomFactor:1},An=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return At(t,e),t.isModel=function(e){return e instanceof t},t.create=function(e){if(void 0===e&&(e=null),null==e)return t.createEmpty();var n;if(t.isModel(e)&&(n=e),Object(Mt.a)(e)&&(n=t.fromJSON(e)),n)return null==n.focusKey&&(n=n.set("focusKey",n.rootTopicKey)),null==n.focusMode&&(n=n.set("focusMode",Jt)),n;throw new Error("`Value.create` only accepts objects or values, but you passed it: "+e)},t.createEmpty=function(){var e=new t,n=kn.create({key:Cn()});return e.update("topics",(function(e){return e.set(n.key,n)})).set("rootTopicKey",n.key).set("focusKey",n.key).set("focusMode",Jt)},t.fromJSON=function(e){var n=new t,o=e.topics,r=void 0===o?[]:o,i=e.config,a=void 0===i?{}:i,l=e.rootTopicKey,c=e.editorRootTopicKey;return void 0===c&&(c=l),n=(n=n.merge({rootTopicKey:l,editorRootTopicKey:c})).withMutations((function(e){r.forEach((function(t){e.update("topics",(function(e){return e.set(t.key,kn.fromJSON(t))}))})),e.set("config",Mn.fromJSON(a))}))},t.prototype.toJS=function(){return{rootTopicKey:this.rootTopicKey,topics:Object.values(this.topics.toJS()),config:this.config,extData:this.extData,zoomFactor:this.zoomFactor}},Object.defineProperty(t.prototype,"extData",{get:function(){return this.get("extData")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topics",{get:function(){return this.get("topics")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this.get("config")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatVersion",{get:function(){return this.get("formatVersion")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rootTopicKey",{get:function(){return this.get("rootTopicKey")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editorRootTopicKey",{get:function(){return this.get("editorRootTopicKey")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusKey",{get:function(){return this.get("focusKey")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusMode",{get:function(){return this.get("focusMode")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editingContentKey",{get:function(){return this.focusMode===qt?this.focusKey:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editingDescKey",{get:function(){return this.focusMode===Xt?this.focusKey:null},enumerable:!0,configurable:!0}),t.prototype.getTopic=function(e){return this.topics.get(e)},t.prototype.getExtDataItem=function(e,t){return this.extData.get(e)||new t},t.prototype.getParentTopic=function(e){var t=this.getTopic(e);return t.parentKey?this.getTopic(t.parentKey):null},t.prototype.getTopicVisualLevel=function(e){for(var t=this.getTopic(e),n=0;t&&t.key!==this.editorRootTopicKey;)n++,t=this.getParentTopic(t.key);return n},Object.defineProperty(t.prototype,"rootTopic",{get:function(){return this.getTopic(this.rootTopicKey)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoomFactor",{get:function(){return this.get("zoomFactor")},enumerable:!0,configurable:!0}),t}(Object(Kt.Record)(In));n(549),n(550);var Pn;!function(e){e[e.LEFT_TO_RIGHT=0]="LEFT_TO_RIGHT",e[e.RIGHT_TO_LEFT=1]="RIGHT_TO_LEFT",e[e.LEFT_AND_RIGHT=2]="LEFT_AND_RIGHT",e[e.TOP_TO_BOTTOM=3]="TOP_TO_BOTTOM"}(Pn||(Pn={}));const _n="CONTENT",Fn="DESC",zn="NORMAL",Bn="SET_TOPIC_BLOCK",Nn={type:null,key:null,data:null};Object(Kt.Record)(Nn);const Wn={readOnly:!1,allowUndo:!0,layoutDir:Pn.LEFT_AND_RIGHT,theme:{name:"default",randomColor:!0,background:"rgb(57,60,65)",highlightColor:"#50C9CE",marginH:60,marginV:20,contentStyle:{lineHeight:"1.5"},linkStyle:{lineRadius:5,lineType:"curve",lineWidth:"3px"},rootTopic:{contentStyle:{fontSize:"34px",borderRadius:"35px",padding:"16px 18px 16px 18px"},subLinkStyle:{lineType:"curve",lineWidth:"3px",lineColor:"rgb(113, 203, 45)"}},primaryTopic:{contentStyle:{borderWidth:"1px",borderStyle:"solid",borderRadius:"20px",fontSize:"17px",padding:"10px 15px 10px 15px"},subLinkStyle:{lineType:"curve",lineWidth:"3px",lineColor:"rgb(113, 203, 45)"}},normalTopic:{contentStyle:{border:"1px solid #e8eaec",borderRadius:"20px",fontSize:"17px",padding:"4px 10px"},subLinkStyle:{lineType:"curve",lineWidth:"3px",lineColor:"white"}}}};class Hn extends(Object(Kt.Record)(Wn)){get layoutDir(){return this.get("layoutDir")}get readOnly(){return this.get("readOnly")}get allowUndo(){return this.get("allowUndo")}get theme(){return this.get("theme")}static fromJSON(e){return new Hn(e)}}const Vn={key:null,parentKey:null,collapse:!1,subKeys:null,blocks:null,relations:null,style:null};Object(Kt.Record)(Vn);Tt()("modifier");const Gn={topics:Object(Kt.Map)(),extData:Object(Kt.Map)(),config:new Hn,rootTopicKey:null,editorRootTopicKey:null,focusKey:null,focusMode:null,formatVersion:null,zoomFactor:1};Object(Kt.Record)(Gn);Tt()("core:controller");var Un=n(137),Zn=n(58),Yn=function(e,t){return(Yn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Jn(e,t){function n(){this.constructor=e}Yn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var qn=function(){return(qn=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};var Xn,Qn,$n,eo=Tt()("node:text-editor"),to=wt.default.div($n||(Xn=["\n  padding: 6px;\n  background-color: ",";\n  cursor: ",";\n  min-width: 50px;\n"],Qn=["\n  padding: 6px;\n  background-color: ",";\n  cursor: ",";\n  min-width: 50px;\n"],Object.defineProperty?Object.defineProperty(Xn,"raw",{value:Qn}):Xn.raw=Qn,$n=Xn),(function(e){return e.readOnly?null:"white"}),(function(e){return e.readOnly?"pointer":"text"})),no=function(e){function t(t){var n=e.call(this,t)||this;return n.state={content:null},n.onMouseDown=function(e){e.stopPropagation()},n.onMouseMove=function(e){},n.onKeyDown=function(e){},n._handleClick=function(e){!n.root.contains(e.target)&&n.onClickOutSide(e)},n.rootRef=function(e){return function(t){e(t),n.root=t}},n.initState(),n}return Jn(t,e),t.prototype.onChange=function(e){var t=e.value;eo("onChange",t),this.setState({content:t})},t.prototype.componentDidMount=function(){this.props.readOnly||document.addEventListener("click",this._handleClick)},t.prototype.componentWillUnmount=function(){this.props.readOnly||document.removeEventListener("click",this._handleClick)},t.prototype.onClickOutSide=function(e){},t.prototype.getCustomizeProps=function(){return null},t.prototype.getContent=function(){var e=this.getCustomizeProps().block.data;return null==e?null:("string"===typeof e&&(e=Un.a.deserialize(e)),e)},t.prototype.initState=function(){var e=this.getContent();this.state={content:e}},t.prototype.render=function(){var e=this.props,t=e.topicKey,n=e.saveRef,r=this.getCustomizeProps(),i=r.readOnly,a=r.getRefKeyFunc,l=r.placeholder,c=r.style;eo(i);var u=a(t),s=i?this.getContent():this.state.content,p=this.onMouseDown,d=this.onMouseMove,m=this.onKeyDown,f={value:s,readOnly:i,onChange:this.onChange.bind(this),placeholder:l,style:c},h={key:u,readOnly:i,ref:this.rootRef(n(u)),onMouseDown:p,onMouseMove:d,onKeyDown:m};return Object(o.createElement)(to,qn({},h),Object(o.createElement)(Zn.Editor,qn({},f,{autoFocus:!0})))},t}(o.PureComponent),oo=Tt()("node:topic-content-editor");function ro(e){return"content-editor-"+e}var io=function(e){function t(t){var n=e.call(this,t)||this;return n.onKeyDown=function(e){e.nativeEvent.ctrlKey&&"Enter"===e.nativeEvent.code&&n.save()},n}return Jn(t,e),t.prototype.getCustomizeProps=function(){var e=this.props,t=e.model,n=e.topicKey,o=e.readOnly;return{block:t.getTopic(n).getBlock(_n).block,readOnly:o,getRefKeyFunc:ro,placeholder:"new",style:{whiteSpace:"pre"}}},t.prototype.onClickOutSide=function(e){oo("onClickOutSide"),this.save()},t.prototype.save=function(){var e=this.props,t=e.model,n=e.topicKey;t.editingContentKey!==n||this.props.controller.run("operation",qn(qn({},this.props),{opType:Bn,blockType:_n,data:this.state.content,focusMode:zn}))},t}(no),ao=Tt()("node:topic-desc-editor");function lo(e){return"desc-editor-"+e}var co=function(e){function t(t){var n=e.call(this,t)||this;return ao("constructor"),n}return Jn(t,e),t.prototype.initState=function(){e.prototype.initState.call(this);var t=this.props,n=t.controller,o="topic-desc-data-"+t.topicKey,r=this.state.content;n.run("setTempValue",{key:o,value:r})},t.prototype.getCustomizeProps=function(){var e=this.props,t=e.model,n=e.topicKey;return{block:t.getTopic(n).getBlock(Fn).block,readOnly:t.editingDescKey!==n,getRefKeyFunc:lo,placeholder:"write topic notes here"}},t.prototype.onChange=function(e){var t=e.value;ao("onChange");var n=this.props,o=n.controller,r=n.topicKey;if(!(n.model.editingDescKey!==r)){var i="topic-desc-data-"+r;o.run("setTempValue",{key:i,value:t}),this.setState({content:t})}},t}(no);var uo=function(){return{getTopicTitle:function(e){var t=e.model,n=e.controller,o=e.topicKey,r=e.maxLength,i=t.getTopic(o).getBlock(_n).block,a=n.run("serializeBlockData",qn(qn({},e),{block:i}));return null!=r&&(a=a.length>r?a.substr(0,r)+"...":a),a},renderTopicContentEditor:function(e){return Object(o.createElement)(io,qn({},e))},renderTopicDescEditor:function(e){return Object(o.createElement)(co,qn({},e))},isBlockEmpty:function(e,t){var n=e.block,o=e.controller;return n.type===_n||n.type===Fn?null==n.data||""===o.run("serializeBlockData",e):t()},serializeBlockData:function(e,t){var n=e.block;return n.type===_n||n.type===Fn?"string"===typeof n.data?n.data:Un.a.serialize(n.data):t()}}},so=n(1145),po=n(454),mo=n(416),fo=n.n(mo),ho=function(e,t){return(ho=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function go(e,t){function n(){this.constructor=e}ho(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var yo=function(){return(yo=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function bo(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}function xo(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function vo(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function Eo(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a}function Oo(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Eo(arguments[t]));return e}function Co(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var wo,ko,To,jo,So,Ro,Do,Lo,Ko,Mo,Io,Ao,Po,_o=function(e){function t(t){return e.call(this,t)||this}return go(t,e),t.prototype.operation=function(e,t){this.props.controller.run("operation",yo({opType:e},t))},t.prototype.run=function(e,t){this.props.controller.run(e,t)},Object.defineProperty(t.prototype,"topic",{get:function(){return this.props.model.getTopic(this.props.topicKey)},enumerable:!0,configurable:!0}),t}(o.PureComponent),Fo=Tt()("node:drag-scroll-widget"),zo=wt.default.div(wo||(wo=Co(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow: scroll;\n"],["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow: scroll;\n"]))),Bo=wt.default.div(ko||(ko=Co(["\n  position: relative;\n  width: max-content;\n"],["\n  position: relative;\n  width: max-content;\n"]))),No=function(e){function t(t){var n=e.call(this,t)||this;return n.contentResizeCallback=function(e,t){if(n.oldContentRect){var o={width:n.content.clientWidth+2*n.viewBox.clientWidth,height:n.content.clientHeight+2*n.viewBox.clientHeight};n.bigView.style.width=o.width+"px",n.bigView.style.height=o.height+"px"}n.oldContentRect=e[0].contentRect},n.contentResizeObserver=new Ct.a(n.contentResizeCallback),n.contentRef=function(e){e&&(n.content=e,n.contentResizeObserver.observe(n.content))},n.viewBoxRef=function(e){e&&(n.viewBox=e,n.props.enableMouseWheel||(Fo("addEventListener onwheel"),n.viewBox.addEventListener("wheel",(function(e){Fo("onwheel"),(e.ctrlKey||e.altKey)&&e.preventDefault()}),{passive:!1})),n.setViewBoxScroll(n.viewBox.clientWidth,n.viewBox.clientHeight))},n.bigViewRef=function(e){e&&(n.bigView=e)},n.setWidgetStyle=function(){n.content&&n.viewBox&&n.bigView&&(n.bigView.style.width=2*(n.content.clientWidth+n.viewBox.clientWidth)+"px",n.bigView.style.height=2*(n.content.clientHeight+n.viewBox.clientHeight)+"px",n.content.style.left=n.viewBox.clientWidth+"px",n.content.style.top=n.viewBox.clientHeight+"px")},n.setViewBoxScroll=function(e,t){Fo("setViewBoxScroll "+e+" "+t),n.viewBox&&(n.viewBox.scrollLeft=e,n.viewBox.scrollTop=t)},n.setViewBoxScrollDelta=function(e,t){Fo("setViewBoxScrollDelta "+e+" "+t),n.viewBox&&(n.viewBox.scrollLeft+=e,n.viewBox.scrollTop+=t)},n.onMouseDown=function(e){var t=n.props,o=t.mouseKey,r=t.needKeyPressed,i=t.canDragFunc;if((!i||i())&&(0===e.button&&"left"===o||2===e.button&&"right"===o)){if(r&&!e.ctrlKey)return;n._lastCoordX=n.viewBox.scrollLeft+e.nativeEvent.clientX,n._lastCoordY=n.viewBox.scrollTop+e.nativeEvent.clientY;var a=n.viewBox;a.addEventListener("mousemove",n.onMouseMove),a.addEventListener("mouseup",n.onMouseUp)}},n.onMouseUp=function(e){var t=n.viewBox;t.removeEventListener("mousemove",n.onMouseMove),t.removeEventListener("mouseup",n.onMouseUp)},n.onMouseMove=function(e){n.viewBox.scrollLeft=n._lastCoordX-e.clientX,n.viewBox.scrollTop=n._lastCoordY-e.clientY},n.handleContextMenu=function(e){e.preventDefault()},n.state={widgetStyle:{width:"10000px",height:"10000px"}},n}return go(t,e),t.prototype.componentDidMount=function(){this.setWidgetStyle(),document.addEventListener("contextmenu",this.handleContextMenu)},t.prototype.componentWillUnmount=function(){document.removeEventListener("contextmenu",this.handleContextMenu)},t.prototype.setZoomFactor=function(e){this.bigView.style.transform="scale("+e+")",this.bigView.style.transformOrigin="50% 50%"},t.prototype.render=function(){var e=yo({},this.state.widgetStyle);return Object(o.createElement)(zo,{ref:this.viewBoxRef,onMouseDown:this.onMouseDown},Object(o.createElement)("div",{style:e,ref:this.bigViewRef},Object(o.createElement)(Bo,{ref:this.contentRef,style:this.state.contentStyle},this.props.children(this.setViewBoxScroll,this.setViewBoxScrollDelta))))},t.defaultProps={mouseKey:"left",needKeyPressed:!1},t}(o.Component),Wo=Tt()("node:save-ref"),Ho=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getRef=function(e){return Wo(t),t[e]},t.saveRef=function(e){return function(n){n&&(t[e]=n,t.fireListener(e,n))}},t.deleteRef=function(e){Wo("deleteRef:",e),delete t[e]},t.observers=new Map,t.fireListener=function(e,n){var o,r;if(t.observers.has(e)){var i=t.observers.get(e);try{for(var a=vo(i),l=a.next();!l.done;l=a.next()){(0,l.value)(e,n)}}catch(c){o={error:c}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}}},t.registerRefListener=function(e,n){t.observers.has(e)?t.observers.get(e).push(n):t.observers.set(e,[n])},t}return go(t,e),t.prototype.render=function(){return this.props.children(this.saveRef,this.getRef,this.deleteRef,this.registerRefListener.bind(this))},t}(o.Component),Vo=wt.default.div(To||(To=Co(["\n  display: flex;\n  flex-direction: ",";\n  align-items: ",";\n  justify-content: ",";\n"],["\n  display: flex;\n  flex-direction: ",";\n  align-items: ",";\n  justify-content: ",";\n"])),(function(e){return e.flexDirection?e.flexDirection:"row"}),(function(e){return e.alignItems}),(function(e){return e.justifyContent})),Go=wt.default.div(jo||(jo=Co(["\n  margin: ",";\n"],["\n  margin: ",";\n"])),(function(e){return e.margin})),Uo=(wt.default.a(So||(So=Co(["\n  font-size: 20px !important;\n"],["\n  font-size: 20px !important;\n"]))),wt.default.div(Ro||(Ro=Co(["\n  padding: 5px;\n  cursor: pointer;\n"],["\n  padding: 5px;\n  cursor: pointer;\n"]))),wt.default.div(Do||(Do=Co(["\n  cursor: pointer;\n  &:hover {\n    color: #1ea7fd;\n  }\n"],["\n  cursor: pointer;\n  &:hover {\n    color: #1ea7fd;\n  }\n"])))),Zo=Object(wt.default)(jt.e)(Lo||(Lo=Co(["\n  margin-bottom: 0px !important;\n"],["\n  margin-bottom: 0px !important;\n"]))),Yo=Object(wt.default)(Uo)(Ko||(Ko=Co(["\n  position: absolute;\n  right: 5px;\n  top: 5px;\n  //padding: 5px;\n"],["\n  position: absolute;\n  right: 5px;\n  top: 5px;\n  //padding: 5px;\n"]))),Jo=wt.default.div(Mo||(Mo=Co(["\n  height: 16px;\n"],["\n  height: 16px;\n"]))),qo=wt.default.span(Io||(Io=Co(["\n  margin: 0px 10px;\n  &:hover {\n    color: palevioletred;\n  }\n"],["\n  margin: 0px 10px;\n  &:hover {\n    color: palevioletred;\n  }\n"]))),Xo=wt.default.div(Ao||(Ao=Co(["\n  z-index: ",";\n"],["\n  z-index: ",";\n"])),(function(e){return e.zIndex})),Qo=wt.default.div(Po||(Po=Co(["\n  min-width: 360px;\n  max-height: 470px;\n  overflow: auto;\n"],["\n  min-width: 360px;\n  max-height: 470px;\n  overflow: auto;\n"]))),$o=Tt()("plugin:event");function er(){var e={};return{handleTopicClick:function(e){$o("handleTopicClick");var t=e.controller,n=e.model,o=e.topicKey;$o(n.zoomFactor),null===n.editingDescKey&&n.editingContentKey!==o&&(n.focusKey===o&&n.focusMode===qt||t.run("operation",yo(yo({},e),{opType:mn,focusMode:Jt})))},handleTopicDoubleClick:function(e){var t=e.controller;null===e.model.editingDescKey&&t.run("operation",yo(yo({},e),{opType:mn,focusMode:qt}))},handleTopicContextMenu:function(e){e.controller.run("operation",yo(yo({},e),{opType:mn,focusMode:Qt}))},handleActiveModalClose:function(e){var t=e.controller,n=t.run("getActiveModalProps",e);return null==n?null:"edit-desc"===n.name?function(){t.run("operation",yo(yo({},e),{focusMode:Jt,opType:mn}))}:void 0},addEventListener:function(t){var n=t.key,o=t.listener,r=t.once,i=t.controller;function a(){o(),i.run("removeEventListener",{key:n,listener:o})}e[n]||(e[n]=[]),r?(a.origin=o,e[n].push(a)):e[n].push(o)},removeEventListener:function(t){var n=t.key,o=t.listener;e[n]&&(e[n]=e[n].filter((function(e){return e!==o&&e.origin!==o})))},fireEvent:function(t){var n=t.key;e[n]&&e[n].forEach((function(e){return e()}))}}}var tr="close",nr="color-picker",or="notes",rr="plus",ir="minus",ar="collapse",lr="expand",cr="center",ur="trash";function sr(e){return"icon iconfont bm-"+e}function pr(e){return Object(o.createElement)("span",{className:sr(e)})}function dr(e){return"content-"+e}function mr(e){return"content-editor-"+e}function fr(e){return"desc-editor-"+e}function hr(e){return"topic-widget-"+e}function gr(e){return"topic-"+e}function yr(e){return"links-"+e}function br(e){return"links-svg-"+e}function xr(e){return"collapse-"+e}function vr(e,t){return"dropArea-"+t+"-"+e}var Er="DIAGRAM-ROOT",Or="DragScrollWidget",Cr="svg-highlight",wr="focus-highlight",kr="drop-effect",Tr="CENTER_ROOT_TOPIC",jr="DIAGRAM_CUSTOMIZE_BASE_Z_INDEX",Sr="TOPIC_CONTEXT_MENU_ENABLED",Rr="TOPIC_TITLE",Dr=function(e){e.stopPropagation()};function Lr(e,t){!function(e,t){var n=document.createElement("a");n.href=e,n.download=t,n.click()}("data:text/plain,"+encodeURIComponent(e),t)}function Kr(e){var t=document.createElement("input");return t.type="file",t.accept=e,new Promise((function(e,n){t.addEventListener("change",(function(t){var o=t.target.files[0],r=new FileReader;r.onload=function(t){var n=t.target.result;e(n)},r.onerror=function(e){n(e.target.error)},r.readAsText(o)})),t.click()}))}function Mr(e){var t=e.top,n=void 0===t?0:t,o=e.right,r=void 0===o?0:o,i=e.bottom,a=void 0===i?0:i,l=e.left;return n+"px "+r+"px "+a+"px "+(void 0===l?0:l)+"px"}function Ir(e){return(e.top+e.bottom)/2}function Ar(e,t){return(e.x+t.x)/2}function Pr(e,t){return(e.y+t.y)/2}function _r(e){return[(e.left+e.right)/2,(e.top+e.bottom)/2]}function Fr(e,t,n){void 0===n&&(n=1);var o=e.getBoundingClientRect(),r=_r(t.getBoundingClientRect()),i=_r(o);i[0]=(i[0]-r[0])/n,i[1]=(i[1]-r[1])/n;var a=o.width/n,l=o.height/n;return{left:i[0]-a/2,right:i[0]+a/2,top:i[1]-l/2,bottom:i[1]+l/2,width:a,height:l}}function zr(e,t){var n=e.getBoundingClientRect(),o=_r(t.getBoundingClientRect()),r=_r(n);return[r[0]-o[0],r[1]-o[1]]}var Br="ADD_CHILD",Nr="ADD_SIBLING",Wr="DELETE_TOPIC",Hr="EDIT_CONTENT",Vr="EDIT_NOTES",Gr="SET_EDITOR_ROOT";function Ur(){return{customizeHotKeys:function(e){var t=function(t){return function(n){!function(e,t){var n=t.topicKey,o=t.model,r=t.controller;void 0===n&&(t=yo(yo({},t),{topicKey:o.focusKey})),r.run("operation",yo(yo({},t),{opType:e}))}(t,e)}};return{topicHotKeys:new Map([[Br,{label:"add child",combo:"tab",onKeyDown:t(un)}],[Nr,{label:"add sibling",combo:"enter",onKeyDown:t(pn)}],[Wr,{label:"delete topic",combo:"del",onKeyDown:t(dn)}],[Hr,{label:"edit content",combo:"space",onKeyDown:t(xn)}],[Vr,{label:"edit notes",combo:"alt + d",onKeyDown:t(vn)}],[Gr,{label:"set editor root",combo:"alt + shift + f",onKeyDown:t(On)}]]),globalHotKeys:new Map}}}}var Zr=Tt()("plugin:operation");function Yr(){var e=new Map([[rn,Dn.toggleCollapse],[an,Dn.collapseAll],[ln,Dn.expandAll],[cn,Dn.expandTo],[un,Dn.addChild],[sn,Dn.addEmoji],[pn,Dn.addSibling],[dn,Dn.deleteTopic],[mn,Dn.focusTopic],[fn,Dn.setFocusMode],[hn,Dn.setStyle],[gn,Dn.setTheme],[yn,Dn.setBlockData],[bn,Dn.deleteBlock],[xn,function(e){var t=e.model,n=e.topicKey;return Dn.focusTopic({model:t,topicKey:n,focusMode:qt})}],[vn,function(e){var t=e.model,n=e.topicKey,o=t.getTopic(n).getBlock(Yt);return null!=o.block&&null!=o.block.data||(t=Dn.setBlockData({model:t,topicKey:n,blockType:Yt,data:""})),t=Dn.focusTopic({model:t,topicKey:n,focusMode:Xt})}],[En,function(e){var t=e.srcKey,n=e.dstKey,o=e.dropDir,r=e.model,i=r.getTopic(t),a=r.getTopic(n),l=i.parentKey,c=r.getTopic(l).subKeys,u=c.indexOf(t);if(c=c.delete(u),"in"===o){var s=a.subKeys;s=s.push(t),r=r.withMutations((function(e){e.setIn(["topics",l,"subKeys"],c).setIn(["topics",t,"parentKey"],n).setIn(["topics",n,"subKeys"],s).setIn(["topics",n,"collapse"],!1)}))}else{var p=a.parentKey,d=r.getTopic(p).subKeys,m=d.indexOf(n);if(l===p){var f=Object(Kt.List)();d.forEach((function(e){e!==t&&(f=e===n?"prev"===o?f.push(t).push(e):f.push(e).push(t):f.push(e))})),r=r.withMutations((function(e){e.setIn(["topics",p,"subKeys"],f)}))}else"prev"===o?d=d.insert(m,t):"next"===o&&(d=d.insert(m+1,t)),r=r.withMutations((function(e){e.setIn(["topics",l,"subKeys"],c).setIn(["topics",t,"parentKey"],p).setIn(["topics",p,"subKeys"],d).setIn(["topics",p,"collapse"],!1)}))}return r}],[On,Dn.setEditorRootTopicKey]]),t=Object(Kt.Stack)(),n=Object(Kt.Stack)(),o=!0,r=new Set;return{isOperationEnabled:function(e){return o},enableOperation:function(){o=!0},disableOperation:function(e){var t=e.whiteList;o=!1,t?r=new Set(t):r.clear()},getOpMap:function(t){return e},getAllowUndo:function(e){var t=e.model,n=e.opType;if(n)switch(n){case mn:case xn:case vn:return!1}switch(t.focusMode){case"EDITING_DESC":case"EDITING_CONTENT":return!1}return t.config.allowUndo},getUndoRedoStack:function(){return{undoStack:t,redoStack:n}},setUndoStack:function(e){Zr("setUndoStack",e.undoStack),t=e.undoStack},setRedoStack:function(e){Zr("setRedoStack",e.redoStack),n=e.redoStack},canUndo:function(e){var t=e.controller,n=t.run("getUndoRedoStack",e).undoStack,o=t.run("getAllowUndo",e);return n.size>0&&o},canRedo:function(e){var t=e.controller,n=t.run("getUndoRedoStack",e).redoStack,o=t.run("getAllowUndo",e);return n.size>0&&o},undo:function(e){var t=e.controller,n=e.model;if(t.run("getAllowUndo",e)){var o=t.run("getUndoRedoStack",e),r=o.undoStack,i=o.redoStack,a=r.peek();a&&(t.run("setUndoStack",yo(yo({},e),{undoStack:r.shift()})),t.run("setRedoStack",yo(yo({},e),{redoStack:i.push(n)})),Zr(a),t.change(a))}},redo:function(e){var t=e.controller,n=e.model;if(t.run("getAllowUndo",e)){var o=t.run("getUndoRedoStack",e),r=o.undoStack,i=o.redoStack,a=i.peek();a&&(t.run("setUndoStack",yo(yo({},e),{undoStack:r.push(n)})),t.run("setRedoStack",yo(yo({},e),{redoStack:i.shift()})),t.change(a))}},operation:function(e){var t=e.controller,n=e.opType,o=e.model,i=e.opArray,a=e.callback;if(null!=i&&!Array.isArray(i))throw new Error("operation: the type of opArray must be array!");if(null!=n&&null!=i)throw new Error("operation: opType and opArray conflict!");if(!t.run("isOperationEnabled",e)){if(0===r.size)return;if(null!=i){var l=i.filter((function(e){return!r.has(e.opType)}));if(l&&l.length>0)return}else if(!r.has(n))return}Zr("operation:",n),Zr("operation:",o),Zr("operation:",e);var c,u=t.run("getOpMap",e);if(t.run("beforeOperation",e),t.run("getAllowUndo",e)){var s=t.run("getUndoRedoStack",e).undoStack;t.run("setUndoStack",yo(yo({},e),{undoStack:s.push(o)}))}if(null!=i)c=i.reduce((function(e,n){var o=n.opType;if(!u.has(o))throw new Error("opType:"+o+" not exist!");var r=u.get(o),i=yo(yo({controller:t},n),{model:e}),a=t.run("beforeOpFunction",i);return a=r(yo(yo({},i),{model:a})),a=t.run("afterOpFunction",yo(yo({},i),{model:a}))}),o);else{if(!u.has(n))throw new Error("opType:"+n+" not exist!");var p=u.get(n);c=t.run("beforeOpFunction",e),c=p(yo(yo({},e),{model:c})),c=t.run("afterOpFunction",yo(yo({},e),{model:c}))}Zr("newModel:",c),t.change(c,a),t.run("afterOperation",e)},deleteRefKey:function(e){var t,n,o=e.model,r=e.topicKey,i=e.deleteRef,a=Tn(o,r);a.push(r);try{for(var l=vo(a),c=l.next();!c.done;c=l.next()){var u=c.value;i(yr(u)),i(br(u)),i(dr(u)),i(mr(u)),i(fr(u)),i(hr(u)),i(gr(u)),i(xr(u)),i(vr(u,"next")),i(vr(u,"prev"))}}catch(s){t={error:s}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}},beforeOperation:function(e){},afterOperation:function(e){},beforeOpFunction:function(e){var t=e.controller,n=e.opType,o=e.model,r=e.topicKey;return n===dn&&r!==o.editorRootTopicKey&&t.run("deleteRefKey",e),o},afterOpFunction:function(e){return e.model}}}var Jr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return go(t,e),t.prototype.render=function(){var e=this.props.controller;return Object(o.createElement)(jt.n,null,e.run("customizeTopicContextMenu",this.props))},t}(_o),qr=[{icon:"edit",label:"edit",shortcut:"Space",rootCanUse:!0,opType:xn},{icon:"add-sibling",label:"add sibling",shortcut:"Enter",opType:pn},{icon:"add-child",label:"add child",shortcut:"Tab",rootCanUse:!0,opType:un},{icon:"notes",label:"edit notes",shortcut:"Alt + D",rootCanUse:!0,opType:vn},{icon:"delete-node",label:"delete node",shortcut:"Del",opType:dn},{icon:"root",label:"set as editor root",shortcut:"Alt + Shift + F",opType:On}];var Xr,Qr,$r=Tt()("node:topic-drop-effect"),ei=wt.default.svg(Xr||(Xr=Co(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 2;\n  pointer-events: none;\n"],["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 2;\n  pointer-events: none;\n"]))),ti=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={content:null},t}return go(t,e),t.prototype.layout=function(){var e=this.props,t=this.props,n=t.getRef,r=t.model,i=t.zoomFactor,a=t.controller.run("getDragTargetProps",e),l=a.key,c=a.dropDir;if($r("layout",c),null!==l){var u=n("in"===c?dr(l):vr(l,c)),s=n("svg-drop-effect"),p=n(Or).bigView,d=Fr(u,p,i),m=Fr(s,p,i),f=d.left-m.left-3,h=d.top-m.top-3,g=d.width+6,y=d.height+6;this.setState({content:Object(o.createElement)("g",null,Object(o.createElement)("rect",{x:f,y:h,width:g,height:y,fill:"none",stroke:r.config.theme.highlightColor,strokeDasharray:"5,5",strokeWidth:2}))})}else this.setState({content:null})},t.prototype.render=function(){var e=this.props.saveRef;return Object(o.createElement)(ei,{ref:e("svg-drop-effect")},this.state.content)},t}(_o),ni=Tt()("plugin:drag-and-drop"),oi=wt.default.div(Qr||(Qr=Co(["\n  height: ",";\n  width: 100%;\n  margin: 5px 0px;\n"],["\n  height: ",";\n  width: 100%;\n  margin: 5px 0px;\n"])),(function(e){return e.height+"px"}));function ri(){var e=null,t=null;return{renderTopicDropArea:function(e){var t=e.topicKey,n=e.dropDir,r=e.saveRef,i=e.controller,a=e.model,l={onDragEnter:function(o){ni("onDragEnter",t,n),i.run("handleTopicDragEnter",yo(yo({},e),{ev:o,dropDir:n}))},onDragLeave:function(o){ni("onDragLeave",t,n),i.run("handleTopicDragLeave",yo(yo({},e),{ev:o,dropDir:n}))},onDragOver:function(e){e.preventDefault()},onDrop:function(o){ni("onDrop",t,n),i.run("handleTopicDrop",yo(yo({},e),{ev:o,dropDir:n}))}};return Object(o.createElement)(oi,yo({height:a.config.theme.marginV/2,ref:r(vr(t,n))},l))},renderDragAndDropEffect:function(e){ni("renderDragAndDropEffect");var t=e.saveRef;return Object(o.createElement)(ti,yo({ref:t(kr)},e))},getDragTargetProps:function(n){return{key:e,dropDir:t}},handleTopicDragStart:function(e){var t=e.controller;e.ev.stopPropagation(),t.run("operation",yo(yo({},e),{opType:mn,focusMode:$t}))},canDrop:function(e){var t=e.srcKey,n=e.dstKey,o=e.model,r=e.dropDir;return t!==o.editorRootTopicKey&&t!==n&&jn(o,t,n)!==en&&((n!==o.editorRootTopicKey||"in"===r)&&(o.getTopic(t).parentKey!==n||"in"!==r))},handleTopicDragEnter:function(n){var o=n.dropDir,r=n.topicKey,i=n.controller,a=n.model;ni("handleTopicDragEnter:",r,o),i.run("canDrop",yo(yo({},n),{srcKey:a.focusKey,dstKey:r}))&&(e=r,t=o,i.change(a))},handleTopicDragLeave:function(n){var o=n.controller,r=n.model,i=n.topicKey,a=n.dropDir,l=n.getRef,c=n.ev.nativeEvent.relatedTarget;ni("handleTopicDragLeave:",i,a);var u=l(dr(i));u==c||u.contains(c)||(e=null,t=null,o.change(r))},handleTopicDrop:function(n){ni("handleTopicDrop");var o=n.controller,r=n.topicKey,i=n.model;n=yo(yo({},n),{srcKey:i.focusKey,dstKey:r}),e=null,t=null,o.run("canDrop",n)&&o.run("operation",yo(yo({},n),{opType:En}))}}}var ii,ai,li,ci,ui,si,pi,di,mi,fi,hi,gi=Object(wt.default)(Xo)(ii||(ii=Co(["\n  position: absolute;\n  width: 20%;\n  padding: 0 5px;\n  background: white;\n  left: 30px;\n  top: 20px;\n  border-radius: 2px;\n"],["\n  position: absolute;\n  width: 20%;\n  padding: 0 5px;\n  background: white;\n  left: 30px;\n  top: 20px;\n  border-radius: 2px;\n"]))),yi=wt.default.div(ai||(ai=Co(["\n  max-width: 600px;\n"],["\n  max-width: 600px;\n"]))),bi=wt.default.span(li||(li=Co([""],[""]))),xi=function(e){function t(t){var n=e.call(this,t)||this;return n.setEditorRootTopicKey=function(e){return function(){var t=n.props,o=t.model,r=t.controller;o.editorRootTopicKey!==e&&r.change(Dn.setEditorRootTopicKey({model:o,topicKey:e}))}},n.breadcrumbRenderer=function(e){var t=e.text,n=bo(e,["text"]),r=t.length>8,i=r?t.substr(0,8)+"...":t,a={content:Object(o.createElement)(yi,null,t),position:jt.u.BOTTOM_RIGHT},l=Object(o.createElement)(jt.b,yo({},n),Object(o.createElement)(bi,null,i));return r?Object(o.createElement)(jt.x,yo({},a),l):l},n.state={show:!1},n}return go(t,e),t.prototype.render=function(){var e=this.props,t=e.model,n=e.controller,r=e.zIndex,i=t.editorRootTopicKey;if(i===t.rootTopicKey)return null;for(var a=[],l=t.getTopic(i);null!=l;){var c=n.getValue(Rr,yo(yo({},e),{topicKey:l.key}));a.unshift({text:c,onClick:this.setEditorRootTopicKey(l.key)}),l=t.getTopic(l.parentKey)}var u={items:a,breadcrumbRenderer:this.breadcrumbRenderer};return Object(o.createElement)(gi,{zIndex:r},Object(o.createElement)(jt.c,yo({},u)))},t}(_o),vi=wt.default.div(ci||(ci=Co(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  padding: 5px;\n"],["\n  position: relative;\n  display: flex;\n  align-items: center;\n  padding: 5px;\n"]))),Ei=wt.default.div(ui||(ui=Co(["\n  width: 100%;\n  height: 100%;\n  background: ",";\n"],["\n  width: 100%;\n  height: 100%;\n  background: ",";\n"])),(function(e){return e.theme.background})),Oi=function(e){function t(t){var n=e.call(this,t)||this;return n.setZoomFactor=function(e){n.dragScrollWidget.setZoomFactor(e)},n.onWheel=function(e){if(e.altKey||e.ctrlKey){var t=n.props.controller,o=t.run("getZoomFactor",n.props);(o-=e.nativeEvent.deltaY>0?.1:-.1)<.5&&(o=.5),o>4&&(o=4),t.run("setZoomFactor",yo(yo({},n.props),{zoomFactor:o}))}},n}return go(t,e),t.prototype.renderHotkeys=function(){var e=this.props,t=e.controller,n=e.model,r=t.run("customizeHotKeys",e);if(null===r)return null;if(!(r.topicHotKeys instanceof Map&&r.globalHotKeys instanceof Map))throw new TypeError("topicHotKeys and globalHotKeys must be a Map");var i=[];return n.focusMode!==Jt&&n.focusMode!==Qt||r.topicHotKeys.forEach((function(e,t){i.push(Object(o.createElement)(jt.j,yo({key:t},e,{global:!0})))})),r.globalHotKeys.forEach((function(e,t){i.push(Object(o.createElement)(jt.j,yo({key:t},e,{global:!0})))})),Object(o.createElement)(jt.k,null,i)},t.prototype.componentDidMount=function(){var e=this.props,t=e.getRef,n=e.model;e.controller.run("addZoomFactorChangeEventListener",yo(yo({},this.props),{listener:this.setZoomFactor}));var o=t(gr(n.editorRootTopicKey)),r=t("node-layer"),i=o.getBoundingClientRect(),a=r.getBoundingClientRect();this.dragScrollWidget.setViewBoxScrollDelta(0,i.top-a.top-this.dragScrollWidget.viewBox.getBoundingClientRect().height/2+i.height),this.layout()},t.prototype.componentWillUnmount=function(){this.props.controller.run("removeZoomFactorChangeEventListener",yo(yo({},this.props),{listener:this.setZoomFactor}))},Object.defineProperty(t.prototype,"dragScrollWidget",{get:function(){return this.props.getRef(Or)},enumerable:!0,configurable:!0}),t.prototype.componentDidUpdate=function(){this.props.controller.run("fireEvent",yo(yo({},this.props),{key:Tr})),this.layout()},t.prototype.layout=function(){this.props.controller.run("layout",this.props)},t.prototype.render=function(){var e=this,t=this.props,n=t.saveRef,r=t.model,i=t.controller,a=r.editorRootTopicKey;return Object(o.createElement)(Ei,{onWheel:this.onWheel},Object(o.createElement)(No,yo({},this.state,{enableMouseWheel:!1,zoomFactor:r.zoomFactor,ref:n(Or)}),(function(t,r){var l=yo(yo({},e.props),{topicKey:a,setViewBoxScroll:t,setViewBoxScrollDelta:r});return Object(o.createElement)(vi,{ref:n("node-layer")},i.run("renderRootWidget",l))})))},t=xo([jt.l],t)}(o.Component),Ci=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClose=function(){var e=t.props.controller.run("handleActiveModalClose",t.props);e&&e()},t}return go(t,e),t.prototype.render=function(){var e=this.props.controller,t=e.run("renderModal",this.props),n=e.run("getActiveModalProps",this.props);return Object(o.createElement)(jt.g,{onClose:this.handleClose,isOpen:null!==t,autoFocus:!0,enforceFocus:!0,usePortal:!0,title:n&&n.title,style:n&&n.style},Object(o.createElement)("div",{className:St.a.DIALOG_BODY,style:{minHeight:0}},t))},t}(_o),wi=wt.default.svg(si||(si=Co(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 1;\n  pointer-events: none;\n"],["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 1;\n  pointer-events: none;\n"]))),ki=Tt()("node:root-sub-links"),Ti=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={curves:[]},t}return go(t,e),t.prototype.layout=function(){var e,t,n,r=this.props,i=r.model,a=r.getRef,l=r.topicKey,c=r.zoomFactor,u=r.controller,s=i.getTopic(l),p=a(dr(l)),d=a(br(l)),m=a(Or).bigView,f=Fr(p,m,c),h=Fr(d,m,c);e={x:(n=f,(n.left+n.right)/2-h.left),y:Ir(f)-h.top};var g=[];s.subKeys.forEach((function(n){var i,l=u.run("getLinkStyle",yo(yo({},r),{topicKey:n})),s=l.lineType,p=Fr(a(dr(n)),m,c);if(t={x:(t=p.left>f.right?{x:p.left,y:Ir(p)}:{x:p.right,y:Ir(p)}).x-h.left,y:t.y-h.top},"curve"===s)i="M "+e.x+" "+e.y+" C "+e.x+" "+Pr(e,t)+" "+Ar(e,t)+" "+t.y+" "+t.x+" "+t.y;else if("line"===s)i="M "+e.x+" "+e.y+" L "+t.x+" "+t.y;else if("round"===s){var d=t.y>e.y?1:-1,y=t.x>e.x?1:-1,b=l.lineRadius;if(null==b)throw new Error("link line type is round, but lineRadius is not provided!");i=t.y===e.y?"M "+e.x+" "+e.y+" H "+t.x:"M "+e.x+" "+e.y+"  V "+(t.y-d*b)+" A "+b+" "+b+" 0 0 "+(d*y===1?0:1)+" "+(e.x+b*y)+" "+t.y+" H "+t.x}g.push(Object(o.createElement)("path",{key:"link-"+n,d:i,strokeWidth:l.lineWidth,stroke:l.lineColor,fill:"none"}))})),this.setState({curves:g})},t.prototype.render=function(){ki("render");var e=this.props,t=e.topicKey,n=e.saveRef;return Object(o.createElement)(wi,{ref:n(br(t))},Object(o.createElement)("g",null,this.state.curves))},t}(_o),ji=Tt()("RootNode"),Si=wt.default.div(pi||(pi=Co(["\n  display: flex;\n  position: relative;\n\n  align-items: ",";\n  flex-direction: column;\n\n  padding: ",";\n"],["\n  display: flex;\n  position: relative;\n\n  align-items: ",";\n  flex-direction: column;\n\n  padding: ",";\n"])),(function(e){return e.topicDirection===Wt?"flex-end":"flex-start"}),(function(e){return e.topicDirection===Wt?"15px 60px 15px 0px":"15px 0px 15px 60px"})),Ri=wt.default.div(di||(di=Co(["\n  display: flex;\n  position: relative;\n  align-items: center;\n  z-index: 3;\n"],["\n  display: flex;\n  position: relative;\n  align-items: center;\n  z-index: 3;\n"]))),Di=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return go(t,e),t.prototype.renderPartTopics=function(e,t){var n=this.props,r=n.controller,i=n.saveRef,a=r.run("createSubTopics",yo(yo({},this.props),{dir:t,isRoot:!0,topics:e}));if(!a)return null;var l=a.subTopics,c="bm-layer-"+(t===Wt?"left":"right");return Object(o.createElement)(Si,{topicDirection:t,ref:i(c)},l)},t.prototype.render=function(){ji("render");var e=this.props,t=e.model,n=e.topicKey,r=e.saveRef,i=e.controller,a=i.run("getTopicContentStyle",e),l=t.config,c=i.run("renderTopicContent",yo(yo({},e),{topicStyle:a,dir:Vt})),u=i.run("getPartTopics",{layout:l.layoutDir,model:t,topicKey:n}),s=Object(o.createElement)(Ri,{ref:r(gr(n))},c),p=i.run("renderRootWidgetOtherChildren",e);switch(l.layoutDir){case Bt.LEFT_AND_RIGHT:return Object(o.createElement)(o.Fragment,null,this.renderPartTopics(u.L,"L"),s,this.renderPartTopics(u.R,"R"),p);case Bt.LEFT_TO_RIGHT:return Object(o.createElement)(o.Fragment,null,s,this.renderPartTopics(u.R,"R"),p);case Bt.RIGHT_TO_LEFT:return Object(o.createElement)(o.Fragment,null,this.renderPartTopics(u.L,"L"),s,p);case Bt.TOP_TO_BOTTOM:return Object(o.createElement)(o.Fragment,null,s,this.renderPartTopics(u.B,"B"),p)}return null},t}(o.Component),Li=wt.default.div(hi||(hi=Co(["\n  position: absolute;\n  top: calc(50% - 10px);\n  ",";\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  text-align: center;\n  //@ts-ignore\n  background: ",";\n  cursor: pointer;\n  padding: 0;\n  font-size: 14px;\n  line-height: 20px;\n  border: 0;\n  z-index: 2;\n"],["\n  position: absolute;\n  top: calc(50% - 10px);\n  ",";\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  text-align: center;\n  //@ts-ignore\n  background: ",";\n  cursor: pointer;\n  padding: 0;\n  font-size: 14px;\n  line-height: 20px;\n  border: 0;\n  z-index: 2;\n"])),(function(e){var t=e.dir;return t===Ht?Object(wt.css)(mi||(mi=Co(["\n        right: -25px;\n      "],["\n        right: -25px;\n      "]))):t===Wt?Object(wt.css)(fi||(fi=Co(["\n        left: -25px;\n      "],["\n        left: -25px;\n      "]))):void 0}),(function(e){return e.background}));function Ki(e){var t,n=e.model,r=e.topicKey,i=e.topicStyle,a=e.dir,l=e.saveRef,c=e.onClickCollapse,u=n.getTopic(r);return u.subKeys.size>0?Object(o.createElement)(Li,{ref:l(xr(r)),onClick:c,background:i.background,dir:a,className:me()((t={icon:!0,iconfont:!0},t["bm-"+(u.collapse?"plus":"minus")]=!0,t))}):null}var Mi,Ii,Ai=Tt()("node:topic-content2"),Pi=wt.default.div(Mi||(Mi=Co(["\n  position: relative;\n"],["\n  position: relative;\n"]))),_i=wt.default.div(Ii||(Ii=Co(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: auto;\n  z-index: 10;\n  color: black;\n"],["\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: auto;\n  z-index: 10;\n  color: black;\n"]))),Fi=function(e){Ai("cancelEvent"),e.preventDefault(),e.stopPropagation()};function zi(e){var t,n=e.controller,r=e.model,i=e.topicKey,a=e.getRef,l=r.editingContentKey!==i,c=r.getTopic(i),u=n.run("renderTopicContentEditor",yo(yo({},e),{readOnly:l}));if(l)t=u;else{var s,p={width:50,height:40},d=a("content-editor-"+i);d&&(p=d.getBoundingClientRect());var m=new Ct.a((function(e,t){var n=e[0].contentRect;s.style.left=(p.width-n.width)/2+"px",s.style.top=(p.height-n.height)/2+"px"}));Ai(p),t=Object(o.createElement)(o.Fragment,null,Object(o.createElement)("div",{style:{width:p.width,height:p.height}}),Object(o.createElement)(_i,{ref:function(e){e&&(s=e,m.observe(s))}},u))}return Object(o.createElement)(Pi,{onDragEnter:Fi,onDragOver:Fi},c.emoji&&Object(o.createElement)("div",{style:{textAlign:"center"}},c.emoji),t)}var Bi,Ni,Wi,Hi=Tt()("node:topic-content-widget"),Vi=wt.default.div(Bi||(Bi=Co(["\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  //overflow: hidden;\n  position: relative;\n"],["\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  //overflow: hidden;\n  position: relative;\n"]))),Gi=wt.default.div(Ni||(Ni=Co(["\n  position: relative;\n"],["\n  position: relative;\n"]))),Ui=function(e){function t(t){var n=e.call(this,t)||this;return n.onDragStart=function(e){n.run("handleTopicDragStart",yo(yo({},n.props),{ev:e}))},n.onDragOver=function(e){e.preventDefault()},n.onDragEnter=function(e){Hi("onDragEnter",n.props.topicKey),n.run("handleTopicDragEnter",yo(yo({},n.props),{ev:e,dropDir:"in"}))},n.onDragLeave=function(e){n.run("handleTopicDragLeave",yo(yo({},n.props),{ev:e,dropDir:"in"}))},n.onDrop=function(e){Hi("onDrop"),n.run("handleTopicDrop",yo(yo({},n.props),{ev:e,dropDir:"in"}))},n.onClick=function(e){var t=n.props.controller;n.handleTopicClickTimeout=setTimeout((function(){t.run("handleTopicClick",yo(yo({},n.props),{ev:e}))}),200)},n.onDoubleClick=function(e){clearTimeout(n.handleTopicClickTimeout),n.props.controller.run("handleTopicDoubleClick",yo(yo({},n.props),{ev:e}))},n.needRelocation=!1,n.onClickCollapse=function(e){e.stopPropagation();var t=n.props,o=t.topicKey,r=t.getRef;n.needRelocation=!0;var i=r(xr(o)).getBoundingClientRect();Hi("oldRect",i),n.oldCollapseIconVector=[i.left+i.width/2,i.top+i.height/2],Hi("oldCollapseIconVector",n.oldCollapseIconVector),n.operation(rn,n.props)},n.state={dragEnter:!1},n}return go(t,e),t.prototype.renderContextMenu=function(){var e=this.props.controller;if(e.getValue(Sr,yo({},this.props)))return this.operation(mn,yo(yo({},this.props),{focusMode:Qt})),e.run("renderTopicContextMenu",this.props)},t.prototype.onContextMenuClose=function(){},t.prototype.componentDidUpdate=function(){if(this.needRelocation){var e=this.props,t=e.getRef,n=e.topicKey,o=e.setViewBoxScrollDelta,r=t(xr(n)).getBoundingClientRect(),i=[r.left+r.width/2,r.top+r.height/2];Hi("newVector:",i),Hi("oldVector:",this.oldCollapseIconVector);var a=[i[0]-this.oldCollapseIconVector[0],i[1]-this.oldCollapseIconVector[1]];Hi("vector",a),o(a[0],a[1]),this.needRelocation=!1}},t.prototype.render=function(){var e=this.props,t=e.saveRef,n=e.topicKey,r=e.model,i=e.controller,a=e.topicStyle,l=e.dir;Hi("render",n,r.focusMode);var c=i.run("isOperationEnabled",e)&&r.editingContentKey!==n,u=i.run("renderTopicCollapseIcon",yo(yo({},e),{onClickCollapse:this.onClickCollapse.bind(this)})),s=i.run("renderTopicDropArea",yo(yo({},e),{dropDir:"prev"})),p=i.run("renderTopicDropArea",yo(yo({},e),{dropDir:"next"})),d={onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this.onDragOver,onDrop:this.onDrop};return Object(o.createElement)(Gi,null,s,Object(o.createElement)(Vi,yo({style:a,draggable:c,ref:t(dr(n)),onDragStart:this.onDragStart,onClick:this.onClick,onDoubleClick:this.onDoubleClick},d),i.run("renderTopicBlocks",e),i.run("renderTopicContentOthers",e)),p,l!==Vt&&u)},t=xo([jt.f],t)}(_o),Zi=Tt()("node:topic-desc"),Yi=wt.default.div(Wi||(Wi=Co(["\n  overflow: auto;\n"],["\n  overflow: auto;\n"])));function Ji(e){var t=e.controller,n=e.model,r=e.topicKey,i=e.getRef,a=n.editingDescKey===r;Zi("isEditing",a);var l=n.getTopic(r).getBlock(Yt);if(!a&&t.run("isBlockEmpty",yo(yo({},e),{block:l.block})))return null;var c=t.run("renderTopicDescEditor",e),u=i(Er),s={maxWidth:"800px",maxHeight:"600px"};if(u){var p=u.getBoundingClientRect();s.maxWidth=.6*p.width+"px",s.maxHeight=.8*p.height+"px"}var d={autoFocus:!1,content:Object(o.createElement)(Yi,{onClick:Dr,classname:St.a.POPOVER_DISMISS,style:s},c),target:Object(o.createElement)(qo,{onClick:function(n){n.stopPropagation(),t.run("operation",yo(yo({},e),{opType:vn}))},className:sr(or),tabIndex:-1}),interactionKind:jt.t.HOVER,hoverOpenDelay:500};return l.block&&Object(o.createElement)(jt.s,yo({},d))}var qi,Xi,Qi,$i,ea,ta,na,oa,ra,ia=wt.default.div(qi||(qi=Co(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 3;\n pointer-events: none;\n"],["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 3;\n pointer-events: none;\n"]))),aa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={content:null},t}return go(t,e),t.prototype.layout=function(){var e=this.props,t=e.getRef,n=e.model,r=e.zoomFactor,i=n.focusKey,a=n.focusMode;if(i&&a!==qt){var l=t(dr(i)),c=t(Or).bigView,u=t(Cr),s=Fr(l,c,r),p=Fr(u,c,r),d=s.left-p.left-6,m=s.top-p.top-6,f=s.width+12,h=s.height+12;this.setState({content:Object(o.createElement)("div",{style:{width:f,height:h,border:"3px solid "+n.config.theme.highlightColor,borderRadius:"50px",borderBottomRightRadius:"0px",position:"absolute",top:m+"px",left:d+"px"}},Object(o.createElement)("div",{id:"settingIcon",style:{zIndex:9,pointerEvents:"auto",display:"flex",justifyContent:"center",alignItems:"center",width:"20px",height:"20px",position:"absolute",right:"0px",top:"4%",...h<100&&{top:"-4%"},border:"2px solid "+n.config.theme.background,backgroundColor:""+n.config.theme.highlightColor,color:"white",borderRadius:"50%"},onMouseOver:function(e){"settingIcon"===e.target.id&&(e.target.style.color=n.config.theme.highlightColor,e.target.style.background=n.config.theme.background,e.target.style.borderColor=n.config.theme.highlightColor)},onMouseOut:function(e){"settingIcon"===e.target.id&&(e.target.style.background=n.config.theme.highlightColor,e.target.style.color=n.config.theme.background,e.target.style.borderColor=n.config.theme.background)}},Object(o.createElement)("div",{style:{pointerEvents:"none",position:"absolute",top:"-5px"}},"...")),Object(o.createElement)("div",{style:{width:"10px",height:"10px",borderRadius:"100%",border:"2px solid "+n.config.theme.highlightColor,position:"absolute",backgroundColor:""+n.config.theme.background,bottom:"-6px",right:"-6px"}}))})}else this.setState({content:null})},t.prototype.render=function(){var e=this.props.saveRef;return Object(o.createElement)(ia,{ref:e(Cr)},this.state.content)},t}(_o),la=wt.default.svg(Xi||(Xi=Co(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 1;\n  pointer-events: none;\n"],["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 1;\n  pointer-events: none;\n"]))),ca=Tt()("node:topic-sub-links"),ua=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={curves:[]},t}return go(t,e),t.prototype.layout=function(){var e,t,n,r=this.props,i=r.model,a=r.getRef,l=r.topicKey,c=r.dir,u=r.controller,s=u.run("getZoomFactor",r),p=i.getTopic(l),d=a(dr(l)),m=a(br(l)),f=a(xr(l)),h=a(Or).bigView,g=Fr(m,h,s),y=Fr(f,h,s),b=Fr(d,h,s);ca(l),ca("svgRect",g),ca("collapseRect",y),ca("contentRect",b),c===Ht?(e={x:0,y:Ir(b)-g.top},t={x:y.right-g.left+10,y:e.y}):c===Wt&&(e={x:g.right-g.left,y:Ir(b)-g.top},t={x:y.left-g.left-10,y:e.y});var x=[];p.subKeys.forEach((function(i){var l,d=u.run("getLinkStyle",yo(yo({},r),{topicKey:i})),m=a(dr(i));if(m){var f=Fr(m,h,s);c===Ht&&(n={x:f.left-g.left,y:Ir(f)-g.top}),c===Wt&&(n={x:f.right-g.left,y:Ir(f)-g.top});var y=d.lineType;if("curve"===y)l="M "+e.x+" "+e.y+" L "+t.x+" "+t.y+" C "+t.x+" "+Pr(t,n)+" "+Ar(t,n)+" "+n.y+" "+n.x+" "+n.y;else if("round"===y){var b=n.y>e.y?1:-1,v=n.x>e.x?1:-1,E=d.lineRadius;l=1===p.subKeys.size||Math.abs(n.y-e.y)<=1?"M "+e.x+" "+e.y+" L "+n.x+" "+n.y:"M "+e.x+" "+e.y+" H "+t.x+" V "+(n.y-b*E)+" A "+E+" "+E+" 0 0 "+(b*v===1?0:1)+" "+(t.x+E*v)+" "+n.y+" H "+n.x}else"line"===y&&(l="M "+e.x+" "+e.y+" H "+t.x+" L "+n.x+" "+n.y);x.push(Object(o.createElement)("path",{key:"link-"+i,d:l,strokeWidth:d.lineWidth,stroke:d.lineColor,fill:"none"}))}})),this.setState({curves:x})},t.prototype.render=function(){var e=this.props,t=e.topicKey,n=e.saveRef;return Object(o.createElement)(la,{ref:n(br(t))},Object(o.createElement)("g",null,this.state.curves))},t}(_o),sa=Tt()("node:topic-widget"),pa=wt.default.div(Qi||(Qi=Co(["\n  display: flex;\n  align-items: center;\n  flex-direction: ",";\n"],["\n  display: flex;\n  align-items: center;\n  flex-direction: ",";\n"])),(function(e){return e.topicDirection===Ht?"row":"row-reverse"})),da=wt.default.div($i||($i=Co(["\n  position: relative;\n  padding: ",";\n"],["\n  position: relative;\n  padding: ",";\n"])),(function(e){return e.dir===Ht?"0 0 0 "+e.marginH+"px":"0 "+e.marginH+"px 0 0"})),ma=wt.default.div(ea||(ea=Co(["\n  display: flex;\n  position: relative;\n  align-items: center;\n\n  flex-direction: ",";\n"],["\n  display: flex;\n  position: relative;\n  align-items: center;\n\n  flex-direction: ",";\n"])),(function(e){return e.topicDirection===Ht?"row":"row-reverse"})),fa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return go(t,e),t.prototype.renderSubTopics=function(){var e=this.props,t=e.controller,n=e.model,r=e.topicKey,i=e.dir,a=n.getTopic(r).subKeys.toArray(),l=t.run("createSubTopics",yo(yo({},e),{topics:a}));if(!l)return null;var c=l.subTopics,u=t.run("renderSubLinks",e);return Object(o.createElement)(da,{dir:i,marginH:n.config.theme.marginH},c," ",u)},t.prototype.layoutLinks=function(){var e=this.props,t=e.getRef,n=e.topicKey,o=e.model.getTopic(n);if(0!==o.subKeys.size&&!o.collapse){sa("layoutLinks",n);var r=t(yr(n));r&&r.layout()}},t.prototype.render=function(){var e=this.props,t=e.controller,n=e.topicKey,r=e.dir,i=e.saveRef;sa("render",n);var a=t.run("getTopicContentStyle",e),l=yo(yo({},e),{topicStyle:a}),c=t.run("renderTopicContent",l);return Object(o.createElement)(pa,{topicDirection:r},Object(o.createElement)(ma,{topicDirection:r,ref:i(gr(n))},c),this.renderSubTopics())},t}(o.Component),ha=Tt()("node:view-port-viewer"),ga=Object(wt.default)(Xo)(ta||(ta=Co(["\n  position: absolute;\n  background: white;\n  right: 30px;\n  bottom: 20px;\n  border-radius: 2px;\n  display: flex;\n  flex-direction: row;\n  user-select: none;\n border-radius: 50px;\n padding: 5px;\n box-shadow: rgb(185 185 185) 0px 0px 9px 0px;\n"],["\n  position: absolute;\n  background: white;\n  right: 30px;\n  bottom: 20px;\n  border-radius: 2px;\n  display: flex;\n  flex-direction: row;\n  user-select: none;\n border-radius: 50px;\n padding: 5px;\n box-shadow: rgb(185 185 185) 0px 0px 9px 0px;\n"]))),ya=Object(wt.default)(Uo)(na||(na=Co(["\n  margin: 10px;\n"],["\n  margin: 10px;\n"]))),ba=wt.default.span(oa||(oa=Co(["\n  display: inline-block;\n  width: 80px;\n  height: 18px;\n"],["\n  display: inline-block;\n  width: 80px;\n  height: 18px;\n"]))),xa=function(e){return Object(o.createElement)(jt.x,{content:e.tooltip,position:Rt.a.TOP,className:St.a.ICON},Object(o.createElement)(ya,{onClick:e.onClick,tabIndex:-1},e.children))},va=function(e){function t(t){var n=e.call(this,t)||this;return n.zoomFactorChange=function(e){ha("zoomFactorChange",e),n.setState({zoomFactor:e})},n.onClickResetZoom=function(e){var t=n.props;t.controller.run("setZoomFactor",yo(yo({},t),{zoomFactor:1}))},n.onClickAddZoom=function(e){var t=n.props,o=t.controller,r=o.run("getZoomFactor",t);o.run("setZoomFactor",yo(yo({},t),{zoomFactor:r+.1}))},n.onClickMinusZoom=function(e){var t=n.props,o=t.controller,r=o.run("getZoomFactor",t);o.run("setZoomFactor",yo(yo({},t),{zoomFactor:r-.1}))},n.onClickCollapseAll=function(e){var t=n.props,o=t.controller;o.run("addEventListener",yo(yo({},t),{key:Tr,listener:n.centerRootTopic,once:!0})),o.run("operation",yo(yo({},t),{opType:an}))},n.onClickExpandAll=function(e){var t=n.props,o=t.controller;o.run("addEventListener",yo(yo({},t),{key:Tr,listener:n.centerRootTopic,once:!0})),o.run("operation",yo(yo({},t),{opType:ln}))},n.centerRootTopic=function(){var e=n.props,t=e.model;e.controller.run("moveTopicToCenter",yo(yo({},n.props),{topicKey:t.editorRootTopicKey}))},n}return go(t,e),t.prototype.componentDidMount=function(){var e=this.props;e.controller.run("addZoomFactorChangeEventListener",yo(yo({},e),{listener:this.zoomFactorChange}))},t.prototype.componentWillUnmount=function(){var e=this.props;e.controller.run("removeZoomFactorChangeEventListener",yo(yo({},e),{listener:this.zoomFactorChange}))},t.prototype.render=function(){ha("render");var e=this.props,t=e.controller,n=e.zIndex,r=t.run("getZoomFactor",e);return Object(o.createElement)(ga,{zIndex:n},Object(o.createElement)(xa,{onClick:this.onClickCollapseAll,tooltip:"collapse all"},pr(ar)),Object(o.createElement)(xa,{onClick:this.onClickExpandAll,tooltip:"expand all"},pr(lr)),Object(o.createElement)(xa,{onClick:this.centerRootTopic,tooltip:"center root topic"},pr(cr)),Object(o.createElement)(xa,{onClick:this.onClickMinusZoom,tooltip:"zoom in"},pr(ir)),Object(o.createElement)(xa,{onClick:this.onClickResetZoom,tooltip:"reset zoom"},Object(o.createElement)(ba,null,"zoom:"+Math.floor(100*r)+"%")),Object(o.createElement)(xa,{onClick:this.onClickAddZoom,tooltip:"zoom out"},pr(rr)))},t}(_o),Ea=wt.default.div(ra||(ra=Co(["\n  overflow: auto;\n  padding: 0px 0px 0px 20px;\n  background: #88888850;\n"],["\n  overflow: auto;\n  padding: 0px 0px 0px 20px;\n  background: #88888850;\n"])));function Oa(e){var t=e.controller,n=e.model,r=e.topicKey;if(n.focusMode===Xt){var i=t.run("renderTopicDescEditor",e);return Object(o.createElement)(jt.i,{key:"drawer",title:"Edit Notes",icon:pr("note"),isOpen:!0,hasBackdrop:!0,backdropProps:{onMouseDown:Dr},isCloseButtonShown:!1,onClose:function(n){n.stopPropagation();var o="topic-desc-data-"+r,i=t.run("deleteTempValue",{key:o});t.run("operation",yo(yo({},e),{opType:yn,topicKey:r,blockType:Yt,data:i,focusMode:Jt}))},size:"70%"},Object(o.createElement)(Ea,null,i))}}function Ca(e){var t=e.theme,n=e.children;return Object(o.createElement)(wt.ThemeProvider,{theme:t},Object(o.createElement)(o.Fragment,null,n))}var wa,ka=Tt()("plugin:rendering");function Ta(){var e,t=wt.default.div(wa||(wa=Co(["\n    width: 100%;\n    height: 100%;\n    background: ",";\n    position: relative;\n  "],["\n    width: 100%;\n    height: 100%;\n    background: ",";\n    position: relative;\n  "])),(function(e){return e.theme.background}));return{getDiagramProps:function(){return e},renderDiagram:function(n){var r=n.model,i=n.controller;return Object(o.createElement)(Ho,null,(function(a,l,c){return e=yo(yo({},n),{saveRef:a,getRef:l,deleteRef:c}),ka("renderDiagram",r),Object(o.createElement)(Ca,{theme:r.config.theme},Object(o.createElement)(t,{ref:a(Er)},Object(o.createElement)(Oi,yo({},e)),i.run("renderDiagramCustomize",e)))}))},renderDrawer:Oa,renderDiagramCustomize:function(e){var t=e.controller,n=e.model,o=t.getValue(jr),r=yo(yo({},e),{zIndex:o,topicKey:n.focusKey});return[t.run("renderEditorRootBreadcrumbs",r),t.run("renderRightTopPanel",r),t.run("renderModals",yo(yo({},r),{zIndex:o+1})),t.run("renderDrawer",yo(yo({},r),{zIndex:o+1})),t.run("renderViewPortViewer",r)]},renderEditorRootBreadcrumbs:function(e){return Object(o.createElement)(xi,yo({key:"EditorRootBreadcrumbs"},e))},renderModals:function(e){return Object(o.createElement)(Ci,yo({key:"modals"},e))},renderModal:function(e){return null},getActiveModalProps:function(e){return null},renderDoc:function(e){return e.children},renderRootWidget:function(e){return Object(o.createElement)(Di,yo({},e))},renderTopicWidget:function(e){return Object(o.createElement)(fa,yo({},e))},renderTopicContent:function(e){return Object(o.createElement)(Ui,yo({},e))},renderTopicCollapseIcon:function(e){return Object(o.createElement)(Ki,yo({},e))},renderTopicContentOthers:function(e){return[]},renderTopicBlocks:function(e){var t=e.model,n=e.topicKey,r=e.controller,i=t.getTopic(n).blocks,a=[],l=0;return i.forEach((function(t){var n=r.run("renderTopicBlock",yo(yo({},e),{block:t,blockKey:"block-"+l}));n&&(a.push(Object(o.createElement)(o.Fragment,{key:"block-"+l},n)),l++)})),a},renderTopicBlock:function(e){var t=e.controller;switch(e.block.type){case Zt:return t.run("renderTopicBlockContent",e);case Yt:return t.run("renderTopicBlockDesc",e)}return null},renderTopicBlockContent:function(e){return Object(o.createElement)(zi,yo({},e))},renderTopicBlockDesc:function(e){return Object(o.createElement)(Ji,yo({},e))},renderSubLinks:function(e){var t=e.saveRef,n=e.topicKey,r=e.model.getTopic(n);return 0===r.subKeys.size||r.collapse?null:Object(o.createElement)(ua,yo({ref:t(yr(n))},e))},renderRootSubLinks:function(e){var t=e.saveRef,n=e.topicKey;return Object(o.createElement)(Ti,yo({ref:t(yr(n))},e))},renderFocusItemHighlight:function(e){var t=e.saveRef;return Object(o.createElement)(aa,yo({ref:t(wr)},e))},renderRootWidgetOtherChildren:function(e){var t=e.controller,n=t.run("getZoomFactor",e);return e=yo(yo({},e),{zoomFactor:n}),Object(o.createElement)(o.Fragment,null,t.run("renderRootSubLinks",e),t.run("renderFocusItemHighlight",e),t.run("renderDragAndDropEffect",e))},renderViewPortViewer:function(e){return Object(o.createElement)(va,yo({key:"view-port-viewer"},e))}}}var ja,Sa,Ra,Da=Object(wt.default)(Xo)(ja||(ja=Co(["\n  position: absolute;\n  background: white;\n  right: 30px;\n  top: calc(100vh - 75%);\n padding: 5px;\n box-shadow: rgb(185 185 185) 0px 0px 9px 0px;\n border-radius: 50px;\n  user-select: none;\n"],["\n  position: absolute;\n  background: white;\n  right: 30px;\n  top: calc(100vh - 65%);\n padding: 5px;\n box-shadow: rgb(185 185 185) 0px 0px 9px 0px;\n border-radius: 50px;\n  user-select: none;\n"]))),La=Object(wt.default)(Xo)(Ra||(Ra=Co(["\n  position: absolute;\n  background: white;\n  right: 30px;\n  top: calc(100vh - 75%);\n padding: 5px;\n box-shadow: rgb(185 185 185) 0px 0px 9px 0px;\n user-select: none;\n"],["\n  position: absolute;\n  background: white;\n  right: 30px;\n  top: calc(100vh - 65%);\n padding: 5px;\n box-shadow: rgb(185 185 185) 0px 0px 9px 0px;\n user-select: none;\n"]))),Ka=Object(wt.default)(jt.w)(Sa||(Sa=Co(["\n  padding: 0px 10px;\n"],["\n  padding: 0px 10px;\n"])));function Ma(e){var t=e.format,n=e.emoji,r=e.devicehub,i=e.controller,a=e.model,l=e.topicKey,c=e.zIndex,u=e.selectedTabId,s=e.handleTabIdChange,p=Eo(Object(o.useState)(!1),2),d=p[0],m=p[1],f=Eo(Object(o.useState)(!1),2),h=f[0],g=f[1];if(!d&&!h)return Object(o.createElement)(Da,{zIndex:c},Object(o.createElement)("div",{onClick:function(){return m(!0)}},t),Object(o.createElement)("div",{onClick:function(){return g(!0)}},n),Object(o.createElement)("div",{onClick:function(){return g(!0)}},r));return void 0===l&&(e=yo(yo({},e),{topicKey:a.focusKey})),Object(o.createElement)(La,{zIndex:c},Object(o.createElement)(Jo,null,Object(o.createElement)(Yo,{className:sr(tr),onClick:function(){m(!1),g(!1)}})),Object(o.createElement)(Ka,{id:u,onChange:s},d&&i.run("renderRightTopPanelTabs",e),h&&Object(o.createElement)(fo.a,{onEmojiClick:function(t){return function(t){i.run("operation",yo(yo({},e),{opType:sn,emoji:t.target.textContent,function(){var t=yo(yo({},e),{controller:i});return i.run("renderDiagram",t)}}))}(t)},disableAutoFocus:!0,groupNames:{smileys_people:"PEOPLE"},native:"true"})))}var Ia,Aa,Pa,_a,Fa,za,Ba,Na=wt.default.div(Ia||(Ia=Co(["\n  margin-top: 10px;\n  margin-bottom: 5px;\n  font-weight: bold;\n"],["\n  margin-top: 10px;\n  margin-bottom: 5px;\n  font-weight: bold;\n"]))),Wa=wt.default.span(Aa||(Aa=Co(["\n  margin: 0px 10px 0px 0px;\n"],["\n  margin: 0px 10px 0px 0px;\n"]))),Ha=wt.default.div(Pa||(Pa=Co(["\n  padding: 10px;\n  margin: 0 0 10px 0;\n  border: rgba(16, 22, 26, 0.15) solid 1px;\n  border-radius: 5px;\n"],["\n  padding: 10px;\n  margin: 0 0 10px 0;\n  border: rgba(16, 22, 26, 0.15) solid 1px;\n  border-radius: 5px;\n"]))),Va=Object(wt.default)(Wa)(_a||(_a=Co([""],[""]))),Ga=wt.default.div(Fa||(Fa=Co(["\n  display: flex;\n  align-items: center;\n  //justify-content: center;\n  margin: 5px 0;\n"],["\n  display: flex;\n  align-items: center;\n  //justify-content: center;\n  margin: 5px 0;\n"]))),Ua=wt.default.div(za||(za=Co(["\n  height: 3px;\n  width: 80%;\n  margin-left: 10%;\n  margin-right: 10%;\n  margin-bottom: 2px;\n  background: ",";\n"],["\n  height: 3px;\n  width: 80%;\n  margin-left: 10%;\n  margin-right: 10%;\n  margin-bottom: 2px;\n  background: ",";\n"])),(function(e){return e.color})),Za=wt.default.div(Ba||(Ba=Co(["\n  border: 1px solid grey;\n  cursor: pointer;\n  font-weight: bold;\n"],["\n  border: 1px solid grey;\n  cursor: pointer;\n  font-weight: bold;\n"])));function Ya(e){return Object(o.createElement)("div",null,e.children,Object(o.createElement)(jt.h,{style:{margin:"10px 0"}}))}function Ja(e){var t=e.color,n=e.handleColorChange;return Object(o.createElement)(Wa,null,Object(o.createElement)(jt.s,null,Object(o.createElement)(Za,null,Object(o.createElement)("div",{className:sr(nr)}),Object(o.createElement)(Ua,{color:t})),Object(o.createElement)("div",null,Object(o.createElement)(po.a,{color:t,onChangeComplete:function(e){return n(e.hex)}}))))}function qa(e){var t=e.title,n=e.handleClick;return Object(o.createElement)(Wa,null,Object(o.createElement)(jt.d,{onClick:n},t))}function Xa(e){var t=e.layout,n=void 0===t?"h":t,r=e.title,i=bo(e,["layout","title"]),a={flexDirection:"h"===n?"row":"column",alignItems:"center"};return Object(o.createElement)(Wa,null,Object(o.createElement)(Vo,yo({},a),Object(o.createElement)(Go,{margin:"0 5px 0 0"},r),Object(o.createElement)(jt.q,yo({},i))))}function Qa(e){var t=e.text,n=e.items,r=e.itemRenderer,i=e.onItemSelect,a=so.a.ofType(),l={items:n,itemRenderer:r,onItemSelect:i,filterable:!1};return Object(o.createElement)(Wa,null,Object(o.createElement)(a,yo({},l),Object(o.createElement)(jt.d,{text:t})))}var $a=function(e){return function(t,n){var r=n.handleClick;return Object(o.createElement)(jt.p,{text:""+t+e,key:t,onClick:r})}},el=(so.a.ofType(),Oo(Array(7).keys())),tl=Oo(Array(7).keys()),nl=[0,5,10,15,20,25,30,35],ol=["none","solid","dotted","dashed","double"];function rl(e){var t=e.contentStyle,n=e.setContentStyle;return Object(o.createElement)(Ya,null,Object(o.createElement)(Na,null,"Border"),Object(o.createElement)("div",null,Object(o.createElement)(Qa,{text:"width: "+(t.borderWidth?t.borderWidth:"0px"),items:tl,itemRenderer:$a("px"),onItemSelect:function(e){n({borderWidth:e+"px"})}}),Object(o.createElement)(Qa,{text:"style: "+(t.borderStyle?t.borderStyle:"none"),items:ol,itemRenderer:$a(""),onItemSelect:function(e){n({borderStyle:e})}}),Object(o.createElement)(Qa,{text:"radius: "+t.borderRadius,items:nl,itemRenderer:$a("px"),onItemSelect:function(e){n({borderRadius:e+"px"})}}),Object(o.createElement)(Ja,{color:t.borderColor,handleColorChange:function(e){n({borderColor:e})}})))}var il=["curve","round","line"],al=function(e,t){var n=t.handleClick;t.modifiers,t.query;return Object(o.createElement)(jt.p,{text:""+e,key:e,onClick:n})};function ll(e){var t=e.showLinkStyle,n=void 0===t||t,r=e.showSubLinkStyle,i=void 0===r||r,a=e.linkStyle,l=void 0===a?{}:a,c=e.subLinkStyle,u=void 0===c?{}:c,s=e.setLinkStyle,p=e.setSubLinkStyle;return Object(o.createElement)(Ya,null,Object(o.createElement)(Na,null,"Link"),n&&Object(o.createElement)(Ga,{alignItems:"center"},Object(o.createElement)(Go,{margin:"0 5px 0 0"},"LinkToParent: "),Object(o.createElement)(Qa,{text:"width: "+(l?l.lineWidth:"0px"),items:el,itemRenderer:$a("px"),onItemSelect:function(e){s({lineWidth:e+"px"})}}),Object(o.createElement)(Qa,{text:"lineType: "+l.lineType,items:il,itemRenderer:al,onItemSelect:function(e){s({lineType:e})}}),Object(o.createElement)(Ja,{color:l.lineColor,handleColorChange:function(e){s({lineColor:e})}})),i&&Object(o.createElement)(Ga,{alignItems:"center"},Object(o.createElement)(Go,{margin:"0 5px 0 0"},"SubLinks: "),Object(o.createElement)(Qa,{text:"width: "+(u?u.lineWidth:"0px"),items:el,itemRenderer:$a("px"),onItemSelect:function(e){p({lineWidth:e+"px"})}}),Object(o.createElement)(Qa,{text:"lineType: "+u.lineType,items:il,itemRenderer:al,onItemSelect:function(e){p({lineType:e})}}),Object(o.createElement)(Ja,{color:u.lineColor,handleColorChange:function(e){p({lineColor:e})}})))}function cl(e){var t=e.contentStyle,n=e.setContentStyle,r={title:"FontSize:",min:12,max:100,value:parseInt(t.fontSize),style:{width:50},onValueChange:function(e){n({fontSize:e})}},i={style:{width:50},value:t.lineHeight||"",onChange:function(e){n({lineHeight:e.target.value})}};return Object(o.createElement)(Ya,null,Object(o.createElement)(Na,null,"Text Editor"),Object(o.createElement)(Vo,null,Object(o.createElement)(Xa,yo({},r)),Object(o.createElement)(Wa,null,Object(o.createElement)(Vo,{alignItems:"center"},Object(o.createElement)(Go,{margin:"0 5px 0 0"},"LineHeight: "),Object(o.createElement)(jt.m,yo({},i)))),Object(o.createElement)(Ja,{color:t.color,handleColorChange:function(e){n({color:e})}})))}var ul,sl=Tt()("node:style-editor");function pl(e){var t=e.controller,n=e.model,r=e.topicKey,i=n.getTopic(r),a=function(n){t.run("setTopicContentStyle",yo(yo({},e),{style:n}))};if(!n.focusKey)return null;var l=t.run("getTopicContentStyle",e),c={linkStyle:t.run("getLinkStyle",e),subLinkStyle:t.run("getSubLinkStyle",e),setLinkStyle:function(n){t.run("setLinkStyle",yo(yo({},e),{linkStyle:n}))},setSubLinkStyle:function(n){t.run("setSubLinkStyle",yo(yo({},e),{subLinkStyle:n}))}},u={contentStyle:l,setContentStyle:a};return Object(o.createElement)(Qo,null,Object(o.createElement)(rl,yo({},u)),Object(o.createElement)(cl,yo({},u)),Object(o.createElement)(Ya,null,Object(o.createElement)(Na,null,"Background"),Object(o.createElement)(Ja,{color:l.background,handleColorChange:function(e){a({background:e})}})),Object(o.createElement)(ll,yo({},c)),Object(o.createElement)(Ya,null,Object(o.createElement)(qa,{title:"Clear Topic Style",handleClick:function(){i.style&&t.run("operation",yo(yo({},e),{opType:hn,style:null}))}}),Object(o.createElement)(qa,{title:"Copy Style",handleClick:function(){ul=t.run("getTopicStyle",e),sl(ul)}}),Object(o.createElement)(qa,{title:"Paste Style",handleClick:function(){ul&&t.run("operation",yo(yo({},e),{opType:hn,style:JSON.stringify(ul)}))}})),function(e){var t=e.controller;return Object(o.createElement)(Ya,null,Object(o.createElement)(Wa,null,Object(o.createElement)(jt.d,{onClick:function(n){t.run("clearAllCustomStyle",e)}},"Clear All Custom Styles")))}(e))}var dl=n(694);function ml(e){var t=e.contentStyle,n=e.setContentStyle,r=dl("padding",t.padding||"0"),i={layout:"v",min:0,max:99,style:{width:38}},a=parseInt(r["padding-top"]),l=parseInt(r["padding-right"]),c=parseInt(r["padding-bottom"]),u=parseInt(r["padding-left"]),s={top:a,right:l,bottom:c,left:u},p=function(e){return function(t){var o;n({padding:Mr(yo(yo({},s),(o={},o[e]=t,o)))})}},d=yo(yo({},i),{title:"top",value:a,onValueChange:p("top")}),m=yo(yo({},i),{title:"right",value:l,onValueChange:p("right")}),f=yo(yo({},i),{title:"bottom",value:c,onValueChange:p("bottom")}),h=yo(yo({},i),{title:"left",value:u,onValueChange:p("left")});return Object(o.createElement)(Ya,null,Object(o.createElement)(Na,null,"Padding"),Object(o.createElement)(Ga,null,Object(o.createElement)(Xa,yo({},d)),Object(o.createElement)(Xa,yo({},m)),Object(o.createElement)(Xa,yo({},f)),Object(o.createElement)(Xa,yo({},h))))}var fl,hl=wt.default.div(fl||(fl=Co(["\n  height: 250px;\n  overflow: auto;\n"],["\n  height: 250px;\n  overflow: auto;\n"])));function gl(e){var t=e.topicStyle,n=e.setTopicStyle,r=t.contentStyle,i=void 0===r?{}:r,a=t.linkStyle,l=void 0===a?{}:a,c=t.subLinkStyle,u=function(e){n({contentStyle:e})},s={contentStyle:i,setContentStyle:u},p={showLinkStyle:!1,linkStyle:l,subLinkStyle:void 0===c?{}:c,setLinkStyle:function(e){n({linkStyle:e})},setSubLinkStyle:function(e){n({subLinkStyle:e})}};return Object(o.createElement)(hl,null,Object(o.createElement)(rl,yo({},s)),Object(o.createElement)(ml,yo({},s)),Object(o.createElement)(cl,yo({},s)),Object(o.createElement)(Ya,null,Object(o.createElement)(Na,null,"Background"),Object(o.createElement)(Ja,{color:i.background,handleColorChange:function(e){u({background:e})}})),Object(o.createElement)(ll,yo({},p)))}var yl="normal";function bl(e){var t,n=Eo(Object(o.useState)(!1),2),r=(n[0],n[1],Eo(Object(o.useState)(!1),2)),i=r[0],a=r[1],l=e.model,u=e.controller,s=l.config.theme,p=s.rootTopic,d=s.primaryTopic,m=s.normalTopic,f=function(t){u.run("operation",yo(yo({},e),{opType:gn,theme:Object(c.clone)(t)}))},h=(t=function(e){f(Object(c.merge)(s,{randomColor:e}))},function(e){return t(e.target.checked)}),g={topicStyle:p,setTopicStyle:function(e){f(Object(c.merge)(s,{rootTopic:e}))}},y=Object(o.createElement)(gl,yo({},g)),b={topicStyle:d,setTopicStyle:function(e){f(Object(c.merge)(s,{primaryTopic:e}))}},x=Object(o.createElement)(gl,yo({},b)),v={topicStyle:m,setTopicStyle:function(e){f(Object(c.merge)(s,{normalTopic:e}))}},E=Object(o.createElement)(gl,yo({},v)),O={id:yl,handleTabIdChange:function(e){yl=e}},C=Object(o.createElement)(Ha,null,Object(o.createElement)(jt.w,yo({},O),Object(o.createElement)(jt.v,{id:"normal",title:"NormalTopic",panel:E}),Object(o.createElement)(jt.v,{id:"primary",title:"PrimaryTopic",panel:x}),Object(o.createElement)(jt.v,{id:"root",title:"RootTopic",panel:y}))),w={isOpen:i,onClose:function(e){a(!1)}},k=Object(o.createElement)(jt.a,yo({},w),Object(o.createElement)("p",null,"File format error"));return Object(o.createElement)(Qo,null,Object(o.createElement)(Ya,null,Object(o.createElement)(Na,null,"Global"),Object(o.createElement)(Ga,null,Object(o.createElement)(Va,null,"Background:"),Object(o.createElement)(Ja,{color:s.background,handleColorChange:function(e){f(Object(c.merge)(s,{background:e}))}}),Object(o.createElement)(Va,null,"Highlight:"),Object(o.createElement)(Ja,{color:s.highlightColor,handleColorChange:function(e){f(Object(c.merge)(s,{highlightColor:e}))}}),Object(o.createElement)(Va,null,"Random Color:"),Object(o.createElement)(Zo,{checked:s.randomColor,onChange:h}))),C,Object(o.createElement)(Ya,null,Object(o.createElement)(qa,{title:"Export Theme",handleClick:function(e){Lr(JSON.stringify(s),"blink-mind-theme.json")}}),Object(o.createElement)(qa,{title:"Import Theme",handleClick:function(e){Kr(".json,.txt").then((function(e){var t,n=JSON.parse(e);null!=(t=n).name&&null!=t.background&&null!=t.highlightColor?f(n):a(!0)}))}})),k)}function xl(){var e="topic-style",t=function(t){e=t};return{renderRightTopPanel:function(n){var r=yo(yo({},n),{key:"right-top-panel",selectedTabId:e,handleTabIdChange:t});return Object(o.createElement)(Ma,yo({},r))},renderRightTopPanelTabs:function(e){var t=e.controller;return[t.run("renderTopicStyleEditor",e),t.run("renderThemeEditor",e)]},renderTopicStyleEditor:function(e){var t={id:"topic-style",key:"topic-style",title:"TopicStyle",panel:Object(o.createElement)(pl,yo({},e))};return Object(o.createElement)(jt.v,yo({},t))},renderThemeEditor:function(e){var t={id:"theme-editor",key:"theme-editor",title:"Theme",panel:Object(o.createElement)(bl,yo({},e))};return Object(o.createElement)(jt.v,yo({},t))}}}var vl=Tt()("plugin:utils");function El(){var e=new Map,t=new Map;return{addTempValueChangeListener:function(e){var n=e.key,o=e.listener;t.has(n)||t.set(n,[]),t.get(n).push(o)},removeTempValueChangeListener:function(e){var n=e.key,o=e.listener;t.has(n)&&(t[n]=t.get(n).filter((function(e){return e!==o})))},getTempValue:function(t){var n=t.key;return vl("getTempValue",n),e.get(n)},setTempValue:function(n){var o,r,i=n.key,a=n.value;if(vl("setTempValue",i),e.set(i,a),t.has(i)){var l=t.get(i);try{for(var c=vo(l),u=c.next();!u.done;u=c.next()){(0,u.value)(a)}}catch(s){o={error:s}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(o)throw o.error}}}},deleteTempValue:function(t){var n=t.key;vl("deleteTempValue",n);var o=e.get(n);return e.delete(n),o}}}var Ol=Tt()("plugin:StylePlugin");function Cl(){var e=new Map,t=0;return{getTopicStyle:function(e){var t=e.controller;return{contentStyle:t.run("getTopicContentStyle",e),linkStyle:t.run("getLinkStyle",e),subLinkStyle:t.run("getSubLinkStyle",e)}},getTopicContentStyle:function(e){var t=e.topicKey,n=e.model,o=e.controller;Ol("getTopicContentStyle:",t,n);var r,i=n.getTopicVisualLevel(t),a=n.config.theme;if(r=i===Gt?a.rootTopic:i===Ut?a.primaryTopic:a.normalTopic,r=yo(yo({},a.contentStyle),r.contentStyle),a.randomColor){var l=o.run("getRandomColor",e);r=yo(yo({},r),{background:l,borderColor:l,subLinkStyle:yo(yo({},r.subLinkStyle),{lineColor:l})})}var c=n.getTopic(t);if(!c.style)return r;var u=JSON.parse(c.style);return yo(yo({},r),u.contentStyle)},getLinkStyle:function(e){var t=e.topicKey,n=e.model,o=e.controller;Ol("getLinkStyle",t);var r,i=n.getTopicVisualLevel(t),a=n.config.theme,l=a.linkStyle;r=i===Gt?a.rootTopic.linkStyle:i===Ut?a.primaryTopic.linkStyle:a.normalTopic.linkStyle,l=yo(yo({},l),r);var c=n.getTopic(t);if(null!=c.parentKey){var u=o.run("getSubLinkStyle",yo(yo({},e),{topicKey:c.parentKey}));l=yo(yo({},l),u)}if(!c.style)return l;var s=JSON.parse(c.style);return yo(yo({},l),s.linkStyle)},getSubLinkStyle:function(e){var t=e.topicKey,n=e.model,o=e.controller;Ol("getLinkStyle",t);var r,i=n.getTopicVisualLevel(t),a=n.config.theme,l=a.linkStyle;r=i===Gt?a.rootTopic.subLinkStyle:i===Ut?a.primaryTopic.subLinkStyle:a.normalTopic.subLinkStyle,l=yo(yo({},l),r);var c=n.getTopic(t);if(a.randomColor){var u=o.run("getRandomColor",e);Ol(u),l=yo(yo({},l),{lineColor:u})}if(!c.style)return l;var s=JSON.parse(c.style);return yo(yo({},l),s.subLinkStyle)},setTopicContentStyle:function(e){var t=e.topicKey,n=e.controller,o=e.style,r=e.model.getTopic(t).style,i=r?JSON.parse(r):{},a=yo(yo({},i),{contentStyle:yo(yo({},i.contentStyle),o)});if(!Object(c.isEqual)(i,a)){var l=JSON.stringify(a);n.run("operation",yo(yo({},e),{opType:hn,style:l}))}},setLinkStyle:function(e){var t=e.topicKey,n=e.controller,o=e.linkStyle,r=e.model.getTopic(t).style,i=r?JSON.parse(r):{},a=yo(yo({},i),{linkStyle:yo(yo({},i.linkStyle),o)});if(!Object(c.isEqual)(i,a)){var l=JSON.stringify(a);n.run("operation",yo(yo({},e),{opType:hn,style:l}))}},setSubLinkStyle:function(e){var t=e.topicKey,n=e.controller,o=e.subLinkStyle,r=e.model.getTopic(t).style,i=r?JSON.parse(r):{},a=yo(yo({},i),{subLinkStyle:yo(yo({},i.subLinkStyle),o)});if(!Object(c.isEqual)(i,a)){var l=JSON.stringify(a);n.run("operation",yo(yo({},e),{opType:hn,style:l}))}},getTopicThemeStyle:function(e){var t=e.topicKey,n=e.model,o=n.getTopicVisualLevel(t),r=n.config.theme;return o===Gt?r.rootTopic:o===Ut?r.primaryTopic:r.normalTopic},getRandomColor:function(n){var o=n.topicKey;if(e.has(o))return e.get(o);var r=["#00CC99","#FFEE88","#A167A5","#E5F993","#F5C396","#DB995A","#83BCFF","#ED7B84","#739E82","#D3BCC0","#FFA0FD","#EFD3D7","#C6878F"],i=r[++t%r.length];return e.set(o,i),Ol("getRandomColor",o,i),i},clearAllCustomStyle:function(e){var t=e.model,n=e.controller,o=t.withMutations((function(e){e.topics.keySeq().forEach((function(t){e.setIn(["topics",t,"style"],null)}))}));n.change(o)}}}function wl(){return[[Ta(),El(),{renderTopicContextMenu:function(e){return Object(o.createElement)(Jr,yo({},e))},customizeTopicContextMenu:function(e){var t=e.topicKey,n=e.model,r=e.controller,i=t===n.editorRootTopicKey;function a(t){return function(n){t.opType&&r.run("operation",yo(yo({},e),{opType:t.opType}))}}return qr.map((function(e){return i&&!e.rootCanUse?null:Object(o.createElement)(jt.p,{key:e.label,icon:pr(e.icon),text:e.label,labelElement:Object(o.createElement)("kbd",null,e.shortcut),onClick:a(e)})}))}},xl(),ri()],{getPartTopics:function(e){var t=e.layout,n=e.model,o=e.topicKey,r=n.getTopic(o),i=r.subKeys.size,a=r.subKeys.toArray();switch(t){case Bt.LEFT_TO_RIGHT:return{R:a};case Bt.RIGHT_TO_LEFT:return{L:a};case Bt.LEFT_AND_RIGHT:return{L:a.slice(Math.ceil(i/2),i),R:a.slice(0,Math.ceil(i/2))};case Bt.TOP_TO_BOTTOM:return{B:a}}},createSubTopics:function(e){var t=e.model,n=e.topicKey,o=e.controller,r=e.topics,i=e.saveRef,a=t.getTopic(n);if(0===r.size||a.collapse)return null;var l=[];return r.forEach((function(t){var n=yo(yo({},e),{topicKey:t,key:t,ref:i(hr(t))});l.push(o.run("renderTopicWidget",n))})),{subTopics:l}},layout:function(e){var t=e.getRef,n=e.model,o=t(yr(n.editorRootTopicKey)),r=t(wr),i=t(kr);o&&o.layout(),r&&r.layout(),i&&i.layout(),function e(o){var r,i;if(o.key!==n.editorRootTopicKey){var a=t(hr(o.key));a&&a.layoutLinks()}if(!o.collapse)try{for(var l=vo(o.subKeys),c=l.next();!c.done;c=l.next()){var u=c.value;e(n.getTopic(u))}}catch(s){r={error:s}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}(n.getTopic(n.editorRootTopicKey))},setLayoutDir:function(e){var t=e.layoutDir,n=e.model;e.controller.change(Dn.setLayoutDir({model:n,layoutDir:t}))},getRelativeRect:function(e){var t=e.element,n=e.controller,o=e.getRef,r=n.run("getZoomFactor",e);return Fr(t,o(Or).bigView,r)},getRelativeRectFromViewPort:function(e){var t=e.element,n=e.controller,o=e.getRef,r=n.run("getZoomFactor",e);return Fr(t,o(Or).viewBox,r)},getRelativeVectorFromViewPort:function(e){return zr(e.element,(0,e.getRef)(Or).viewBox)},addZoomFactorChangeEventListener:function(e){e.controller.run("addTempValueChangeListener",yo({key:"ZoomFactor"},e))},removeZoomFactorChangeEventListener:function(e){e.controller.run("removeTempValueChangeListener",yo({key:"ZoomFactor"},e))},setZoomFactor:function(e){var t=e.controller,n=e.zoomFactor;return t.run("setTempValue",{key:"ZoomFactor",value:n})},getZoomFactor:function(e){return e.controller.run("getTempValue",{key:"ZoomFactor"})||1},moveTopicToCenter:function(e){var t=e.getRef,n=e.topicKey,o=e.model;if(o.editorRootTopicKey!==n&&jn(o,n,o.editorRootTopicKey)!==tn)throw new Error("moveTopicToCenter error: topicKey "+n+" is not the DESCENDANT of editor root topic");var r=t(gr(n)),i=t(Or),a=i.viewBox;if(!r||!a)throw new Error("moveTopicToCenter error: topic or viewBox is null");var l=zr(r,a);i.setViewBoxScrollDelta(l[0],l[1])},focusTopicAndMoveToCenter:function(e){var t=e.controller,n=e.topicKey;t.run("operation",yo(yo({},e),{opArray:[{opType:mn,topicKey:n,focusMode:Jt},{opType:cn,topicKey:n}],callback:function(){t.run("moveTopicToCenter",yo(yo({},e),{topicKey:n}))}}))}},Yr(),Cl(),er(),Ur(),{getValue:function(e,t){var n=e.propKey,o=e.controller;switch(n){case jr:return 3;case Sr:return o.run("isOperationEnabled",e);case Rr:return o.run("getTopicTitle",e)}return t()}},uo()]}Tt()("node:Diagram");var kl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.resolveController=Object(Dt.a)((function(e,n){void 0===e&&(e=[]);var o=n();t.controller=new Nt({plugins:[e,o],construct:!1,onChange:t.props.onChange})})),t}return go(t,e),t.prototype.getDiagramProps=function(){return this.controller.run("getDiagramProps")},t.prototype.openNewModel=function(e){var t=this,n=this.getDiagramProps(),o=n.model,r=n.controller;r.run("deleteRefKey",yo(yo({},n),{topicKey:o.rootTopicKey})),r.run("operation",yo(yo({},n),{opType:cn,topicKey:e.focusKey,model:e,callback:function(){var e=t.getDiagramProps(),n=e.model;r.run("moveTopicToCenter",yo(yo({},e),{topicKey:n.focusKey}))}}))},t.prototype.render=function(){var e=this.props.plugins;return this.resolveController(e,wl),this.diagramProps=yo(yo({},this.props),{controller:this.controller}),this.controller.run("renderDiagram",this.diagramProps)},t}(o.Component),Tl=n(419),jl=n.n(Tl),Sl=n(257),Rl=n.n(Sl),Dl=function(e,t){return(Dl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Ll(e,t){function n(){this.constructor=e}Dl(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Kl=function(){return(Kl=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};var Ml,Il=Tt()("node:topic-content-editor"),Al=wt.default.div(Ml||(Ml=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}(["\n  ",";\n"],["\n  ",";\n"])),(function(e){return!e.readOnly&&"\n    // padding: 75px\n    // min-width: 150px\n    // min-height: 150px\n  "})),Pl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ll(t,e),t.prototype.initState=function(){e.prototype.initState.call(this);var t=this.props,n=t.controller,o="topic-desc-data-"+t.topicKey,r=this.state.content;n.run("setTempValue",{key:o,value:r})},t.prototype.getCustomizeProps=function(){var e=this.props,t=e.model,n=e.topicKey;return{block:t.getTopic(n).getBlock(Yt).block,readOnly:t.editingDescKey!==n,getRefKeyFunc:fr,placeholder:"write topic notes here"}},t.prototype.onChange=function(e){var t=this.props,n=t.controller,o="topic-desc-data-"+t.topicKey;n.run("setTempValue",{key:o,value:e}),this.setState({content:e})},t}(function(e){function t(t){var n=e.call(this,t)||this;return n.onMouseDown=function(e){e.stopPropagation()},n.onMouseMove=function(e){e.stopPropagation()},n.rootRef=function(e){return function(t){e(t),n.root=t}},n._handleClick=function(e){!n.root.contains(e.target)&&n.onClickOutSide(e)},n.initState(),n}return Ll(t,e),t.prototype.initState=function(){this.state={content:this.getContent()}},t.prototype.getContent=function(){return this.getCustomizeProps().block.data},t.prototype.onChange=function(e){this.setState({content:e})},t.prototype.getCustomizeProps=function(){return null},t.prototype.componentDidMount=function(){document.addEventListener("click",this._handleClick)},t.prototype.componentWillUnmount=function(){document.removeEventListener("click",this._handleClick)},t.prototype.onClickOutSide=function(e){},t.prototype.render=function(){var e=this.props,t=e.topicKey,n=e.saveRef,r=this.getCustomizeProps(),i=r.readOnly,a=r.getRefKeyFunc,l=r.placeholder;Il("readOnly:",i);var c=i?this.getContent():this.state.content;if(null==c)return null;var u=a(t),s=this.onMouseDown,p=this.onMouseMove,d={editorValue:c,readOnly:i,onChange:this.onChange.bind(this),placeholder:l},m={key:u,ref:this.rootRef(n(u)),readOnly:i,onMouseDown:s,onMouseMove:p};return Object(o.createElement)(Al,Kl({},m),Object(o.createElement)(jl.a,Kl({},d)))},t}(_o)),_l=new Rl.a;var Fl=function(){return{renderTopicDescEditor:function(e){return Object(o.createElement)(Pl,Kl({},e))},isBlockEmpty:function(e,t){var n=e.block,o=e.controller;return n.type===Zt||n.type===Yt?null==n.data||""===o.run("serializeBlockData",e):t()},serializeBlockData:function(e,t){var n=e.block;return n.type===Yt?"string"===typeof n.data?n.data:_l.serialize(n.data):t()}}},zl=function(){return(zl=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Bl=Tt()("plugin:json-serializer");var Nl={name:"default",randomColor:!1,background:"#f8f8f8",highlightColor:"rgb(0, 170, 255)",marginH:45,marginV:10,contentStyle:{lineHeight:"1.5"},linkStyle:{lineRadius:5},rootTopic:{contentStyle:{background:"#50C18A",color:"#fff",fontSize:"34px",borderRadius:"45px",padding:"16px 18px 16px 18px"},subLinkStyle:{lineType:"curve",lineWidth:"3px",lineColor:"#43a9ff"}},primaryTopic:{contentStyle:{background:"#ffffff",borderRadius:"45px",color:"rgb(103,103,103)",fontSize:"14px",padding:"6px 10px 5px 10px"},subLinkStyle:{lineType:"round",lineRadius:5,lineWidth:"3px",lineColor:"#43a9ff"}},normalTopic:{contentStyle:{background:"#fff",borderRadius:"45px",color:"rgb(103,103,103)",fontSize:"13px",padding:"3px 9px 4px"},subLinkStyle:{lineType:"round",lineRadius:5,lineWidth:"2px",lineColor:"#43a9ff"}}},Wl={name:"theme1",randomColor:!1,background:"rgb(250,245,205)",highlightColor:"#50C9CE",marginH:50,marginV:30,contentStyle:{lineHeight:"1.5"},linkStyle:{lineRadius:5},rootTopic:{contentStyle:{background:"rgb(221, 170, 68)",color:"#fff",fontSize:"34px",borderRadius:"45px",padding:"16px 18px 16px 18px"},subLinkStyle:{lineType:"curve",lineWidth:"2px",lineColor:"rgb(221, 170, 68)"}},primaryTopic:{contentStyle:{background:"#e8eaec",borderWidth:"2px",borderStyle:"solid",borderColor:"rgb(221, 170, 68)",borderRadius:"45px",fontSize:"17px",padding:"10px 15px 10px 15px"},subLinkStyle:{lineType:"curve",lineWidth:"2px",lineColor:"rgb(221, 170, 68)"}},normalTopic:{contentStyle:{background:"#fff",border:"1px solid #e8eaec",borderRadius:"45px",color:"rgb(187, 136, 34)",fontSize:"13px",padding:"4px 10px"},subLinkStyle:{lineType:"round",lineRadius:5,lineWidth:"1px",lineColor:"rgb(187, 136, 34)"}}},Hl={name:"theme2",randomColor:!0,background:"rgb(57,60,65)",highlightColor:"#50C9CE",marginH:60,marginV:20,contentStyle:{lineHeight:"1.5",fontSize:"16px"},linkStyle:{lineRadius:5,lineType:"curve",lineWidth:"3px"},rootTopic:{contentStyle:{fontSize:"36px",borderRadius:"45px"},subLinkStyle:{lineType:"curve",lineWidth:"3px"}},primaryTopic:{contentStyle:{fontSize:"24px",borderRadius:"45px"},subLinkStyle:{lineType:"curve",lineWidth:"3px"}},normalTopic:{subLinkStyle:{lineType:"curve",lineWidth:"3px"}}},Vl={name:"theme3",randomColor:!1,background:"#A9DEF9",highlightColor:"#50C9CE",marginH:50,marginV:20,contentStyle:{lineHeight:"1.5"},linkStyle:{lineRadius:5},rootTopic:{contentStyle:{background:"#FF99C8",color:"#fff",fontSize:"34px",borderRadius:"45px",padding:"16px 18px 16px 18px"},subLinkStyle:{lineType:"curve",lineWidth:"2px",lineColor:"#43a9ff"}},primaryTopic:{contentStyle:{background:"#FCF6BD",borderWidth:"1px",borderStyle:"solid",borderColor:"#E4C1F9",borderRadius:"45px",color:"rgb(103,103,103)",fontSize:"14px",padding:"6px 10px 5px 10px"},subLinkStyle:{lineType:"curve",lineWidth:"2px",lineColor:"#43a9ff"}},normalTopic:{contentStyle:{background:"#E4FDE1",borderRadius:"5px",color:"rgb(103,103,103)",fontSize:"13px",padding:"3px 9px 4px",boxShadow:"1px 1px 1px #ccc",borderRadius:"45px"},subLinkStyle:{lineType:"round",lineRadius:5,lineWidth:"1px",lineColor:"#43a9ff"}}},Gl={name:"theme3",randomColor:!1,background:"#CCFBFE",highlightColor:"#50C9CE",marginH:50,marginV:20,contentStyle:{lineHeight:"1.5"},linkStyle:{lineRadius:5},rootTopic:{contentStyle:{background:"#CD8987",color:"#fff",fontSize:"34px",borderRadius:"45px",padding:"16px 18px 16px 18px"},subLinkStyle:{lineType:"curve",lineWidth:"2px",lineColor:"#43a9ff"}},primaryTopic:{contentStyle:{background:"#CDACA1",borderWidth:"1px",borderStyle:"solid",borderColor:"#E4C1F9",borderRadius:"45px",color:"rgb(103,103,103)",fontSize:"14px",padding:"6px 10px 5px 10px"},subLinkStyle:{lineType:"line",lineWidth:"2px",lineColor:"#43a9ff"}},normalTopic:{contentStyle:{background:"#CDCACC",borderRadius:"45px",color:"rgb(103,103,103)",fontSize:"13px",padding:"3px 9px 4px",boxShadow:"1px 1px 1px #ccc"},subLinkStyle:{lineType:"line",lineRadius:5,lineWidth:"1px",lineColor:"#43a9ff"}}};var Ul=n(425),Zl=n(37),Yl=n(31),Jl=(n(1044),n(56)),ql=n(123),Xl=n(96),Ql=function(e,t){return(Ql=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function $l(e,t){function n(){this.constructor=e}Ql(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ec=function(){return(ec=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function tc(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function nc(e){var t=e.controller,n=e.model,r=e.topicKey,i=n.focusKey===r&&"FOCUS_MODE_EDITING_TOPOLOGY"===n.focusMode,a=n.getTopic(r).getBlock("TOPOLOGY").block;if(!i&&!a)return null;var l={className:sr("topology"),onClick:function(n){n.stopPropagation(),t.run("operation",ec(ec({},e),{opType:"OP_TYPE_START_EDITING_TOPOLOGY"}))},tabIndex:-1};return Object(o.createElement)(qo,ec({},l))}var oc,rc,ic,ac,lc,cc,uc,sc,pc,dc,mc=[{group:"Basic",children:[{name:"rectangle",icon:"icon-rect",data:{text:"Topology",rect:{width:100,height:100},paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,name:"rectangle",icon:"\ue64d",iconFamily:"topology",iconColor:"#2f54eb"}},{name:"rectangle",icon:"icon-rectangle",data:{text:"rectangle",rect:{width:200,height:50},paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,borderRadius:.1,name:"rectangle"}},{name:"circle",icon:"icon-circle",data:{text:"circle",rect:{width:100,height:100},name:"circle",textMaxLine:1}},{name:"triangle",icon:"icon-triangle",data:{text:"triangle",rect:{width:100,height:100},name:"triangle"}},{name:"diamond",icon:"icon-diamond",data:{text:"diamond",rect:{width:100,height:100},name:"diamond"}},{name:"pentagon",icon:"icon-pentagon",data:{text:"pentagon",rect:{width:100,height:100},name:"pentagon"}},{name:"hexagon",icon:"icon-hexagon",data:{text:"hexagon",rect:{width:100,height:100},paddingTop:10,paddingBottom:10,name:"hexagon"}},{name:"pentagram",icon:"icon-pentagram",data:{text:"pentagram",rect:{width:100,height:100},name:"pentagram"}},{name:"left arrow",icon:"icon-arrow-left",data:{text:"",rect:{width:200,height:100},name:"leftArrow"}},{name:"right arrow",icon:"icon-arrow-right",data:{text:"",rect:{width:200,height:100},name:"rightArrow"}},{name:"bidirectional arrow",icon:"icon-twoway-arrow",data:{text:"",rect:{width:200,height:100},name:"twowayArrow"}},{name:"line",icon:"icon-line",data:{text:"line",rect:{width:100,height:100},name:"line"}},{name:"cloud",icon:"icon-cloud",data:{text:"cloud",rect:{width:100,height:100},name:"cloud"}},{name:"message",icon:"icon-msg",data:{text:"message",rect:{width:100,height:100},paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,name:"message"}},{name:"file",icon:"icon-file",data:{text:"file",rect:{width:80,height:100},paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,name:"file"}},{name:"text",icon:"icon-text",data:{text:"text",rect:{width:160,height:30},name:"text"}},{name:"image",icon:"icon-image",data:{text:"",rect:{width:100,height:100},name:"image",image:"/assets/img/logo.png"}},{name:"cube",icon:"icon-cube",data:{rect:{width:50,height:70},is3D:!0,z:10,zRotate:15,fillStyle:"#ddd",name:"cube",icon:"\ue63c",iconFamily:"topology",iconColor:"#777",iconSize:30}},{name:"people",icon:"icon-people",data:{rect:{width:70,height:100},name:"people"}},{name:"multi media",icon:"icon-pc",data:{text:"multi media",rect:{width:200,height:200},paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,name:"div"}}]},{group:"Flow Graph",children:[{name:"start/end",icon:"icon-flow-start",data:{text:"start",rect:{width:120,height:40},borderRadius:.5,name:"rectangle"}},{name:"flow",icon:"icon-rectangle",data:{text:"flow",rect:{width:120,height:40},name:"rectangle"}},{name:"judgement",icon:"icon-diamond",data:{text:"judgement",rect:{width:120,height:60},name:"diamond"}},{name:"data",icon:"icon-flow-data",data:{text:"data",rect:{width:120,height:50},name:"flowData"}},{name:"prepare",icon:"icon-flow-ready",data:{text:"prepare",rect:{width:120,height:50},name:"hexagon"}},{name:"sub flow",icon:"icon-flow-subprocess",data:{text:"sub flow",rect:{width:120,height:50},name:"flowSubprocess"}},{name:"database",icon:"icon-db",data:{text:"database",rect:{width:80,height:120},name:"flowDb"}},{name:"document",icon:"icon-flow-document",data:{text:"document",rect:{width:120,height:100},name:"flowDocument"}},{name:"internal storage",icon:"icon-internal-storage",data:{text:"internal storage",rect:{width:120,height:80},name:"flowInternalStorage"}},{name:"external storage",icon:"icon-extern-storage",data:{text:"external storage",rect:{width:120,height:80},name:"flowExternStorage"}},{name:"queue",icon:"icon-flow-queue",data:{text:"queue",rect:{width:100,height:100},name:"flowQueue"}},{name:"input manually",icon:"icon-flow-manually",data:{text:"input manually",rect:{width:120,height:80},name:"flowManually"}},{name:"display",icon:"icon-flow-display",data:{text:"display",rect:{width:120,height:80},name:"flowDisplay"}},{name:"parallel",icon:"icon-flow-parallel",data:{text:"parallel",rect:{width:120,height:50},name:"flowParallel"}},{name:"comment",icon:"icon-flow-comment",data:{text:"comment",rect:{width:100,height:100},name:"flowComment"}}]},{group:"Activity Diagram",children:[{name:"start",icon:"icon-inital",data:{text:"",rect:{width:30,height:30},name:"circle",fillStyle:"#555",strokeStyle:"transparent"}},{name:"end",icon:"icon-final",data:{text:"",rect:{width:30,height:30},name:"activityFinal"}},{name:"action",icon:"icon-action",data:{text:"action",rect:{width:120,height:50},borderRadius:.25,name:"rectangle"}},{name:"decision/merge",icon:"icon-diamond",data:{text:"\u51b3\u7b56",rect:{width:120,height:50},name:"diamond"}},{name:"vertical swimming lane",icon:"icon-swimlane-v",data:{text:"vertical swimming lane",rect:{width:200,height:500},name:"swimlaneV"}},{name:"horizontal swimming lane",icon:"icon-swimlane-h",data:{text:"horizontal swimming lane",rect:{width:500,height:200},name:"swimlaneH"}},{name:"vertical fork/merge",icon:"icon-fork-v",data:{text:"",rect:{width:10,height:150},name:"forkV",fillStyle:"#555",strokeStyle:"transparent"}},{name:"horizontal fork/merge",icon:"icon-fork",data:{text:"",rect:{width:150,height:10},name:"forkH",fillStyle:"#555",strokeStyle:"transparent"}}]},{group:"Sequence Diagram && Class Diagram",children:[{name:"lifeline",icon:"icon-lifeline",data:{text:"lifeline",rect:{width:150,height:400},name:"lifeline"}},{name:"activation",icon:"icon-focus",data:{text:"",rect:{width:12,height:200},name:"sequenceFocus"}},{name:"simple class",icon:"icon-simple-class",data:{text:"Topolgoy",rect:{width:270,height:200},paddingTop:40,font:{fontFamily:"Arial",color:"#222",fontWeight:"bold"},fillStyle:"#ffffba",strokeStyle:"#7e1212",name:"simpleClass",children:[{text:"- name: string\n+ setName(name: string): void",name:"text",paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rectInParent:{x:0,y:0,width:"100%",height:"100%",rotate:0},font:{fontFamily:"Arial",color:"#222",textAlign:"left",textBaseline:"top"}}]}},{name:"class",icon:"icon-class",data:{text:"Topolgoy",rect:{width:270,height:200},paddingTop:40,font:{fontFamily:"Arial",color:"#222",fontWeight:"bold"},fillStyle:"#ffffba",strokeStyle:"#7e1212",name:"interfaceClass",children:[{text:"- name: string",name:"text",paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rectInParent:{x:0,y:0,width:"100%",height:"50%",rotate:0},font:{fontFamily:"Arial",color:"#222",textAlign:"left",textBaseline:"top"}},{text:"+ setName(name: string): void",name:"text",paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rectInParent:{x:0,y:"50%",width:"100%",height:"50%",rotate:0},font:{fontFamily:"Arial",color:"#222",textAlign:"left",textBaseline:"top"}}]}}]}],fc=wt.default.div(oc||(oc=tc(["\n  position: relative;\n  display: flex;\n  width: 100%;\n  height: 100%;\n"],["\n  position: relative;\n  display: flex;\n  width: 100%;\n  height: 100%;\n"]))),hc=wt.default.div(rc||(rc=tc(["\n  flex: 1;\n  width: initial;\n  position: relative;\n  overflow: auto;\n  background: #fff;\n"],["\n  flex: 1;\n  width: initial;\n  position: relative;\n  overflow: auto;\n  background: #fff;\n"]))),gc=wt.default.div(ic||(ic=tc(["\n  flex-shrink: 0;\n  width: 15rem;\n  background-color: #f8f8f8;\n  border-right: 1px solid #d9d9d9;\n  overflow-y: auto;\n"],["\n  flex-shrink: 0;\n  width: 15rem;\n  background-color: #f8f8f8;\n  border-right: 1px solid #d9d9d9;\n  overflow-y: auto;\n"]))),yc=wt.default.div(ac||(ac=tc(["\n  color: #0d1a26;\n  font-weight: 600;\n  font-size: 1em;\n  padding: 0.5rem 1rem;\n  margin-top: 0.08rem;\n  border-bottom: 1px solid #ddd;\n\n  &:first-child {\n    border-top: none;\n  }\n"],["\n  color: #0d1a26;\n  font-weight: 600;\n  font-size: 1em;\n  padding: 0.5rem 1rem;\n  margin-top: 0.08rem;\n  border-bottom: 1px solid #ddd;\n\n  &:first-child {\n    border-top: none;\n  }\n"]))),bc=wt.default.div(lc||(lc=tc(["\n  padding: 0.5rem 0;\n  a {\n    display: inline-block;\n    color: @text-color;\n    line-height: 1;\n    width: 2rem;\n    height: 2rem;\n    text-align: center;\n    text-decoration: none !important;\n\n    .iconfont {\n      font-size: 5rem;\n    }\n  }\n"],["\n  padding: 0.5rem 0;\n  a {\n    display: inline-block;\n    color: @text-color;\n    line-height: 1;\n    width: 2rem;\n    height: 2rem;\n    text-align: center;\n    text-decoration: none !important;\n\n    .iconfont {\n      font-size: 5rem;\n    }\n  }\n"]))),xc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={id:"",data:null,toolsConfig:mc,iconfont:{fontSize:"1.24rem"}},t.canvasOptions={},t.handleContextMenu=function(e){e.preventDefault(),e.stopPropagation()},t.onMessage=function(e,n){var o=(0,t.props.getRef)("TOPOLOGY_DIAGRAM_UTIL");switch(e){case"resize":case"scale":case"locked":t.topology&&o&&o.setCanvasData(t.topology.data)}},t}return $l(t,e),t.prototype.canvasRegister=function(){Object(Zl.registerNode)("flowData",Yl.flowData,Yl.flowDataAnchors,Yl.flowDataIconRect,Yl.flowDataTextRect),Object(Zl.registerNode)("flowSubprocess",Yl.flowSubprocess,null,Yl.flowSubprocessIconRect,Yl.flowSubprocessTextRect),Object(Zl.registerNode)("flowDb",Yl.flowDb,null,Yl.flowDbIconRect,Yl.flowDbTextRect),Object(Zl.registerNode)("flowDocument",Yl.flowDocument,Yl.flowDocumentAnchors,Yl.flowDocumentIconRect,Yl.flowDocumentTextRect),Object(Zl.registerNode)("flowInternalStorage",Yl.flowInternalStorage,null,Yl.flowInternalStorageIconRect,Yl.flowInternalStorageTextRect),Object(Zl.registerNode)("flowExternStorage",Yl.flowExternStorage,Yl.flowExternStorageAnchors,Yl.flowExternStorageIconRect,Yl.flowExternStorageTextRect),Object(Zl.registerNode)("flowQueue",Yl.flowQueue,null,Yl.flowQueueIconRect,Yl.flowQueueTextRect),Object(Zl.registerNode)("flowManually",Yl.flowManually,Yl.flowManuallyAnchors,Yl.flowManuallyIconRect,Yl.flowManuallyTextRect),Object(Zl.registerNode)("flowDisplay",Yl.flowDisplay,Yl.flowDisplayAnchors,Yl.flowDisplayIconRect,Yl.flowDisplayTextRect),Object(Zl.registerNode)("flowParallel",Yl.flowParallel,Yl.flowParallelAnchors,null,null),Object(Zl.registerNode)("flowComment",Yl.flowComment,Yl.flowCommentAnchors,null,null),Object(Zl.registerNode)("activityFinal",Jl.activityFinal,null,Jl.activityFinalIconRect,Jl.activityFinalTextRect),Object(Zl.registerNode)("swimlaneV",Jl.swimlaneV,null,Jl.swimlaneVIconRect,Jl.swimlaneVTextRect),Object(Zl.registerNode)("swimlaneH",Jl.swimlaneH,null,Jl.swimlaneHIconRect,Jl.swimlaneHTextRect),Object(Zl.registerNode)("forkH",Jl.fork,Jl.forkHAnchors,Jl.forkIconRect,Jl.forkTextRect),Object(Zl.registerNode)("forkV",Jl.fork,Jl.forkVAnchors,Jl.forkIconRect,Jl.forkTextRect),Object(Zl.registerNode)("simpleClass",ql.simpleClass,null,ql.simpleClassIconRect,ql.simpleClassTextRect),Object(Zl.registerNode)("interfaceClass",ql.interfaceClass,null,ql.interfaceClassIconRect,ql.interfaceClassTextRect),Object(Zl.registerNode)("lifeline",Xl.lifeline,Xl.lifelineAnchors,Xl.lifelineIconRect,Xl.lifelineTextRect),Object(Zl.registerNode)("sequenceFocus",Xl.sequenceFocus,Xl.sequenceFocusAnchors,Xl.sequenceFocusIconRect,Xl.sequenceFocusTextRect)},t.prototype.componentDidMount=function(){this.canvasRegister(),this.canvasOptions.on=this.onMessage,this.topology=new Ul.Topology("topology-canvas",this.canvasOptions),this.openData()},t.prototype.componentDidUpdate=function(){this.openData()},t.prototype.openData=function(){var e=this.props,t=e.model,n=e.topicKey,o=t.getTopic(n).getBlock("TOPOLOGY").block;o&&o.data&&""!==o.data&&(this.setState({data:o.data}),this.topology.open(o.data))},t.prototype.onDrag=function(e,t){e.dataTransfer.setData("Text",JSON.stringify(t.data))},t.prototype.renderTools=function(){var e=this;return Object(o.createElement)(gc,null,this.state.toolsConfig.map((function(t,n){return Object(o.createElement)("div",{key:n},Object(o.createElement)(yc,null,t.group),Object(o.createElement)(bc,null,t.children.map((function(t,n){return Object(o.createElement)("a",{key:n,title:t.name,draggable:!0,onDragStart:function(n){e.onDrag(n,t)}},Object(o.createElement)("i",{className:"iconfont "+t.icon,style:e.state.iconfont}))}))))})))},t.prototype.render=function(){return Object(o.createElement)(fc,null,this.renderTools(),Object(o.createElement)(hc,{id:"topology-canvas",onContextMenu:this.handleContextMenu}))},t}(_o),vc=wt.default.div(cc||(cc=tc(["\n  position: absolute;\n  background: white;\n  right: 30px;\n  bottom: 20px;\n  border-radius: 2px;\n  z-index: 3;\n  display: flex;\n  flex-direction: row;\n  user-select: none;\n"],["\n  position: absolute;\n  background: white;\n  right: 30px;\n  bottom: 20px;\n  border-radius: 2px;\n  z-index: 3;\n  display: flex;\n  flex-direction: row;\n  user-select: none;\n"]))),Ec=Object(wt.default)(Uo)(uc||(uc=tc(["\n  margin: 10px;\n"],["\n  margin: 10px;\n"]))),Oc=function(e){return Object(o.createElement)(jt.x,{content:e.tooltip,position:Rt.a.TOP,className:St.a.ICON},Object(o.createElement)(Ec,{onClick:e.onClick},e.children))},Cc=wt.default.span(sc||(sc=tc(["\n  display: inline-block;\n  width: 80px;\n  height: 18px;\n"],["\n  display: inline-block;\n  width: 80px;\n  height: 18px;\n"]))),wc=function(e){function t(t){var n=e.call(this,t)||this;return n.setCanvasData=function(e){n.setState({canvasData:e})},n.onClickResetZoom=function(e){n.getTopology().scaleTo(1)},n.state={deleteConfirm:!1,canvasData:null},n}return $l(t,e),t.prototype.getTopology=function(){return(0,this.props.getRef)("TOPOLOGY_DIAGRAM").topology},t.prototype.render=function(){var e=this,t=this.props,n=t.controller,r={isOpen:this.state.deleteConfirm,cancelButtonText:"cancel",onConfirm:function(e){n.run("operation",ec(ec({},t),{opType:bn,blockType:"TOPOLOGY"}))},onCancel:function(t){e.setState({deleteConfirm:!1})},onClose:function(t){e.setState({deleteConfirm:!1})}},i=this.state.canvasData,a=i?i.scale:1;return Object(o.createElement)(vc,null,Object(o.createElement)(Oc,{onClick:this.onClickResetZoom,tooltip:"reset zoom"},Object(o.createElement)(Cc,null,"zoom:"+Math.floor(100*a)+"%")),Object(o.createElement)(Oc,{onClick:function(t){e.setState({deleteConfirm:!0})},tooltip:"delete this diagram"},pr(ur)),Object(o.createElement)(jt.a,ec({},r),Object(o.createElement)("p",null,"Are you confirm to delete this topology diagram?")))},t}(o.Component),kc=wt.default.div(pc||(pc=tc(["\n  position: relative;\n  overflow: auto;\n  padding: 0px 0px 0px 5px;\n  background: #88888850;\n  height: 100%;\n"],["\n  position: relative;\n  overflow: auto;\n  padding: 0px 0px 0px 5px;\n  background: #88888850;\n  height: 100%;\n"]))),Tc=wt.default.span(dc||(dc=tc(["\n  padding: 0px 20px;\n"],["\n  padding: 0px 20px;\n"])));function jc(e){var t=e.controller,n=e.topicKey,r=e.getRef,i=e.saveRef,a=ec(ec({},e),{ref:i("TOPOLOGY_DIAGRAM")}),l=ec(ec({},e),{ref:i("TOPOLOGY_DIAGRAM_UTIL")});return Object(o.createElement)(jt.i,{title:Object(o.createElement)(Tc,null,"Topology Diagram Editor"),icon:pr("topology"),isOpen:!0,hasBackdrop:!0,backdropClassName:"backdrop",backdropProps:{onMouseDown:Dr},canOutsideClickClose:!1,isCloseButtonShown:!0,onClose:function(o){o.stopPropagation();var i=r("TOPOLOGY_DIAGRAM").topology.data;t.run("operation",ec(ec({},e),{opType:yn,topicKey:n,blockType:"TOPOLOGY",data:i,focusMode:Jt}))},size:"100%"},Object(o.createElement)(kc,{onClick:Dr,onDoubleClick:Dr},Object(o.createElement)(xc,ec({},a)),Object(o.createElement)(wc,ec({},l))))}function Sc(e){var t=e.model,n=e.topicKey,o=t.getTopic(n).getBlock("TOPOLOGY").block;return null!=o&&null!=o.data||(t=Dn.setBlockData({model:t,topicKey:n,blockType:"TOPOLOGY",data:""})),t=Dn.focusTopic({model:t,topicKey:n,focusMode:"FOCUS_MODE_EDITING_TOPOLOGY"})}var Rc=function(){return{renderTopicBlock:function(e,t){var n=e.controller;return"TOPOLOGY"===e.block.type?n.run("renderTopicBlockTopology",e):t()},renderTopicBlockTopology:function(e){return Object(o.createElement)(nc,ec({},e))},renderDrawer:function(e,t){var n=e.model;if("FOCUS_MODE_EDITING_TOPOLOGY"===n.focusMode){var r=ec(ec({},e),{topicKey:n.focusKey,key:"topology-drawer"});return Object(o.createElement)(jc,ec({},r))}return t()},customizeTopicContextMenu:function(e,t){var n=e.controller;return Object(o.createElement)(o.Fragment,null,t(),Object(o.createElement)(jt.o,null),Object(o.createElement)(jt.p,{icon:pr("topology"),text:"Edit Topology Diagram",onClick:function(t){n.run("operation",ec(ec({},e),{opType:"OP_TYPE_START_EDITING_TOPOLOGY"}))}}))},getOpMap:function(e,t){var n=t();return n.set("OP_TYPE_START_EDITING_TOPOLOGY",Sc),n}}},Dc=n(1146),Lc=function(e,t){return(Lc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Kc(e,t){function n(){this.constructor=e}Lc(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Mc=function(){return(Mc=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function Ic(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a}function Ac(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Pc,_c,Fc=Object(wt.default)(Xo)(Pc||(Pc=Ac(["\n  position: absolute;\n  left: calc(50% - 150px);\n  top: 30px;\n  width: 300px;\n  background: white;\n  padding: 10px;\n  user-select: none;\n"],["\n  position: absolute;\n  left: calc(50% - 150px);\n  top: 30px;\n  width: 300px;\n  background: white;\n  padding: 10px;\n  user-select: none;\n"]))),zc=wt.default.div(_c||(_c=Ac(["\n  margin-bottom: 10px;\n"],["\n  margin-bottom: 10px;\n"])));function Bc(e){var t=e.zIndex,n=e.controller,r=e.topicKey;return Object(o.createElement)(Fc,{zIndex:t},Object(o.createElement)(zc,null,"Please select the topics you want to reference. After selection, click the confirm button."),Object(o.createElement)(Vo,{justifyContent:"space-around"},Object(o.createElement)(jt.d,{onClick:function(t){var o=n.run("getSelectedReferenceKeys",e);n.run("enableOperation",e),n.run("operation",Mc(Mc({},e),{opArray:[{opType:"OP_TYPE_SET_REFERENCE_TOPICS",topicKey:r,referenceKeys:o},{opType:mn,topicKey:r,focusMode:Jt}]})),n.run("clearSelectedReferenceKeys",e)}},"Confirm"),Object(o.createElement)(jt.d,{onClick:function(t){n.run("clearSelectedReferenceKeys",e),n.run("enableOperation",e),n.run("operation",Mc(Mc({},e),{opType:fn,focusMode:Jt}))}},"Cancel")))}var Nc={keyList:Object(Kt.List)(),dataMap:Object(Kt.Map)()},Wc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kc(t,e),Object.defineProperty(t.prototype,"keyList",{get:function(){return this.get("keyList")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataMap",{get:function(){return this.get("dataMap")},enumerable:!0,configurable:!0}),t}(Object(Kt.Record)(Nc)),Hc={reference:Object(Kt.Map)()},Vc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kc(t,e),Object.defineProperty(t.prototype,"reference",{get:function(){return this.get("reference")},enumerable:!0,configurable:!0}),t.prototype.getReferenceKeys=function(e){return this.reference.has(e)?this.reference.get(e).keyList.toArray():[]},t.prototype.getReferencedKeys=function(e){var t=[];return this.reference.forEach((function(n,o){n.keyList.includes(e)&&t.push(o)})),t},t}(Object(Kt.Record)(Hc));function Gc(e){var t=e.model,n=e.topicKey,o=e.referenceKeys,r=t.getExtDataItem("TOPIC_REFERENCE",Vc),i=r.reference.get(n)||new Wc;return i=i.set("keyList",Object(Kt.List)(o)),r=r.setIn(["reference",n],i),t=t.setIn(["extData","TOPIC_REFERENCE"],r)}var Uc,Zc,Yc,Jc=wt.default.div(Uc||(Uc=Ac(["\n  display: flex;\n  width: 380px;\n  margin: 10px;\n  justify-content: center;\n  align-items: center;\n"],["\n  display: flex;\n  width: 380px;\n  margin: 10px;\n  justify-content: center;\n  align-items: center;\n"]))),qc=wt.default.div(Zc||(Zc=Ac(["\n  width: 300px;\n  text-decoration: underline;\n  cursor: pointer;\n"],["\n  width: 300px;\n  text-decoration: underline;\n  cursor: pointer;\n"]))),Xc=wt.default.div(Yc||(Yc=Ac(["\n  width: 80px;\n"],["\n  width: 80px;\n"])));function Qc(e){var t=e.controller,n=e.refKey,r=e.refType,i=e.removeHandler,a=Ic(Object(o.useState)(!1),2),l=a[0],c=a[1],u=t.getValue(Rr,Mc(Mc({},e),{topicKey:n,maxLength:100})),s={isOpen:l,cancelButtonText:"cancel",onConfirm:function(e){i(e)},onCancel:function(e){c(!1)},onClose:function(e){c(!1)}};return Object(o.createElement)(Jc,null,Object(o.createElement)(qc,{onClick:function(o){o.stopPropagation(),t.run("focusTopicAndMoveToCenter",Mc(Mc({},e),{topicKey:n}))}},u),Object(o.createElement)(Xc,null,"reference"===r&&Object(o.createElement)(o.Fragment,null,Object(o.createElement)(jt.d,{onClick:function(e){c(!0)}},"Remove"),Object(o.createElement)(jt.a,Mc({},s),Object(o.createElement)("p",null,"Are you confirm to remove this reference?")))))}var $c,eu,tu,nu,ou,ru=wt.default.div($c||($c=Ac([""],[""]))),iu=wt.default.div(eu||(eu=Ac(["\n  padding: 10px;\n"],["\n  padding: 10px;\n"]))),au=wt.default.div(tu||(tu=Ac(["\n  max-height: 200px;\n  overflow: auto;\n"],["\n  max-height: 200px;\n  overflow: auto;\n"]))),lu=wt.default.div(nu||(nu=Ac(["\n  font-size: 20px;\n  color: #106ba3;\n"],["\n  font-size: 20px;\n  color: #106ba3;\n"]))),cu=wt.default.div(ou||(ou=Ac(["\n  text-decoration: underline;\n  color: #106ba3;\n  cursor: pointer;\n"],["\n  text-decoration: underline;\n  color: #106ba3;\n  cursor: pointer;\n"])));function uu(e){var t=e.topicKey,n=e.controller,r=e.model,i=r.extData.get("TOPIC_REFERENCE"),a=i.getReferenceKeys(t),l=0===a.length?null:Object(o.createElement)(iu,null,Object(o.createElement)(lu,null,"Reference Topics:"),Object(o.createElement)(au,null,a.map((function(r){var a,l=Mc(Mc({},e),{key:r,refKey:r,refType:"reference",removeHandler:(a=r,function(o){o.stopPropagation();var r=i.reference.get(t).keyList;n.run("operation",Mc(Mc({},e),{opArray:[{opType:"OP_TYPE_SET_REFERENCE_TOPICS",topicKey:t,focusMode:Jt,referenceKeys:r.delete(r.indexOf(a)).toArray()}]}))})});return Object(o.createElement)(Qc,Mc({},l))})))),c=i.getReferencedKeys(t),u=0===c.length?null:Object(o.createElement)(iu,null,Object(o.createElement)(lu,null,"Referenced Topics:"),Object(o.createElement)(au,null,c.map((function(t){var n=Mc(Mc({},e),{key:t,refKey:t,refType:"referenced"});return Object(o.createElement)(Qc,Mc({},n))})))),s=r.focusKey!==t&&Object(o.createElement)(iu,null,Object(o.createElement)(cu,{onClick:function(t){t.stopPropagation(),n.run("focusTopicAndMoveToCenter",e)}},"Goto Origin Topic"));return Object(o.createElement)(ru,{onMouseDown:Dr},l,u,s)}function su(e){var t=e.model,n=e.topicKey,r=t.extData.get("TOPIC_REFERENCE")||new Vc,i=r.reference.get(n),a=[];if(r.reference.forEach((function(e,t){e.keyList.includes(n)&&a.push(t)})),(null==i||0===i.keyList.size)&&0===a.length)return null;var l={className:sr("reference"),tabIndex:-1},c=Object(o.createElement)(qo,Mc({},l)),u={autoFocus:!1,content:Object(o.createElement)(uu,Mc({},e)),target:c,interactionKind:jt.t.CLICK,hoverOpenDelay:500};return Object(o.createElement)(jt.s,Mc({},u))}function pu(e){var t=e.topicKey,n=e.selectedTopicKeys,r=n.has(t),i=Ic(Object(o.useState)(r),2),a=i[0],l=i[1],c={checked:a,onChange:function(){n.has(t)?n.delete(t):n.add(t),l(!a)}};return Object(o.createElement)(Zo,Mc({},c))}var du,mu,fu,hu,gu,yu=Dc.a.ofType(),bu=Object(wt.default)(yu)(du||(du=Ac(["\n  top: 20%;\n  left: 25% !important;\n  width: 50% !important;\n"],["\n  top: 20%;\n  left: 25% !important;\n  width: 50% !important;\n"]))),xu=wt.default.div(mu||(mu=Ac(["\n  margin: 0 5px;\n  padding: 10px 5px;\n  width: 100%;\n  font-size: 16px;\n  cursor: pointer;\n  &:hover {\n    background: #e3e8ec;\n  }\n"],["\n  margin: 0 5px;\n  padding: 10px 5px;\n  width: 100%;\n  font-size: 16px;\n  cursor: pointer;\n  &:hover {\n    background: #e3e8ec;\n  }\n"]))),vu=Object(wt.default)(jt.s)(fu||(fu=Ac(["\n  display: block;\n"],["\n  display: block;\n"]))),Eu=wt.default.div(hu||(hu=Ac(["\n  padding: 10px;\n  font-size: 16px;\n  //max-width: 800px;\n  //max-height: 600px;\n  overflow: auto;\n"],["\n  padding: 10px;\n  font-size: 16px;\n  //max-width: 800px;\n  //max-height: 600px;\n  overflow: auto;\n"]))),Ou=wt.default.div(gu||(gu=Ac(["\n  white-space: break-spaces;\n"],["\n  white-space: break-spaces;\n"]))),Cu={placeholder:"Search"};function wu(e){var t=e.model,n=(e.setSearchWord,e.controller),r=function(t){return function(o){n.run("focusTopicAndMoveToCenter",Mc(Mc({},e),{topicKey:t}))}},i=function(){var o=[];return t.topics.forEach((function(t,r){o.push({key:r,title:n.run("getTopicTitle",Mc(Mc({},e),{topicKey:r}))})})),o}();return Object(o.createElement)(bu,{inputProps:Cu,itemListPredicate:function(e,t){return t.filter((function(t){return t.title.toLowerCase().includes(e.toLowerCase())}))},isOpen:!0,items:i,itemRenderer:function(e,t){var n=e.key,i=e.title,a=i.length>100,l=a?i.substr(0,100)+"...":i,c={key:n,onClick:r(n)},u=Object(o.createElement)(xu,Mc({},c),l),s={key:n,target:u,content:Object(o.createElement)(Eu,null,Object(o.createElement)(Ou,null,i)),fill:!0,interactionKind:jt.t.HOVER_TARGET_ONLY,hoverOpenDelay:1e3};return a?Object(o.createElement)(vu,Mc({},s)):u},onClose:function(){n.run("operation",Mc(Mc({},e),{opType:fn,focusMode:Jt}))},resetOnSelect:!0})}var ku=n(205),Tu=n(431),ju=n.n(Tu),Su=n(432),Ru=n.n(Su),Du=n(433),Lu=n.n(Du),Ku=n(434),Mu=n.n(Ku),Iu=n(437),Au=n.n(Iu),Pu=n(435),_u=n.n(Pu),Fu=n(436),zu=n.n(Fu),Bu=n(440),Nu=n.n(Bu),Wu=n(441),Hu=n.n(Wu),Vu=n(267),Gu=n.n(Vu),Uu=n(439),Zu=n.n(Uu),Yu=n(438),Ju=n.n(Yu),qu=n(426),Xu=n.n(qu),Qu=n(427),$u=n.n(Qu),es=n(428),ts=n.n(es),ns=n(429),os=n.n(ns),rs=n(430),is=n.n(rs);var as=["classes","color","title"];var ls=Object(we.a)({root:{padding:"7px"}})((function(e){var t=e.classes,n=(e.color,e.title),r=void 0===n?"":n,i=Object(ku.a)(e,as);return o.createElement(P.a,{title:r},o.createElement(I.a,Object.assign({className:t.root},i)))}));function cs(e){var t=Object(x.f)(),n=Object(Ue.a)("(min-width:900px)"),r=o.useState(n),i=Object(v.a)(r,2),a=i[0],l=i[1];o.useEffect((function(){l(n)}),[n]);var c=e.diagram,u=e.onClickUndo,s=e.onClickRedo,p=c.getDiagramProps();p.controller,p.model;return o.createElement("div",{style:Object(j.a)(Object(j.a)({display:"flex"},!a&&{flexDirection:"column"}),{},{justifyContent:"space-between",margin:"10px 20px"})},o.createElement(w.a,{component:"div",style:Object(j.a)(Object(j.a)({backgroundColor:"white",flexGrow:0,padding:"4px"},!n&&{marginBottom:"10px "}),{},{borderRadius:"40px",display:"flex",alignContent:"center",boxShadow:"rgb(185 185 185) 0px 0px 9px 0px"})},o.createElement(ls,{onClick:function(){return t("/dashboard")}},o.createElement(U.a,null)),o.createElement(ds,null),o.createElement(ls,null,o.createElement(ju.a,null)),o.createElement(ls,null,o.createElement(Ru.a,null)),o.createElement(Ze.a,{variant:"contained",color:"primary",startIcon:o.createElement(xe.a,null),style:{borderRadius:"40px",boxShadow:"none"}},"Uprade Now")),o.createElement(w.a,{style:{display:"flex",alignContent:"center"}},o.createElement(ls,{title:"Add",style:{margin:"3px",marginRight:"10px",backgroundColor:"#ffa000",color:"white",boxShadow:"rgb(185 185 185) 0px 0px 9px 0px"}},o.createElement(ut.a,null)),o.createElement(w.a,{component:"div",style:{flex:1,backgroundColor:"white",padding:"4px",borderRadius:"40px",display:"flex",alignContent:"center",boxShadow:"rgb(185 185 185) 0px 0px 9px 0px"}},o.createElement(ls,{title:"Open folder",onClick:function(t){var n=e.diagram,o=n.getDiagramProps().controller;Kr(".json,.blinkmind,.bm").then((function(e){var t=JSON.parse(e),r=o.run("deserializeModel",{controller:o,obj:t});n.openNewModel(r)}))}},o.createElement(Lu.a,null)),o.createElement(ls,{title:"Export Json file",onClick:function(t){var n=e.diagram.getDiagramProps(),o=n.controller,r=n.model,i=o.run("serializeModel",n),a=JSON.stringify(i),l="data:text/plain,".concat(encodeURIComponent(a)),c=o.run("getTopicTitle",Object(j.a)(Object(j.a)({},n),{},{topicKey:r.rootTopicKey}));!function(e,t){var n=document.createElement("a");n.href=e,n.download=t,n.click()}(l,"".concat(c,".blinkmind"))}},o.createElement(Mu.a,null)),o.createElement(ss,{title:"Layout setting",diagram:c}),o.createElement(us,{title:"Theme setting",diagram:c}),o.createElement(ls,{title:"Search",onClick:function(t){var n=e.diagram.getDiagramProps();n.controller.run("operation",Object(j.a)(Object(j.a)({},n),{},{opType:fn,focusMode:"FOCUS_MODE_SEARCH"}))}},o.createElement(q.a,null)),o.createElement(ls,{title:"Undo",onClick:u},o.createElement(_u.a,null)),o.createElement(ls,{title:"Redo",onClick:s},o.createElement(zu.a,null)),o.createElement(Ze.a,{variant:"contained",color:"primary",startIcon:o.createElement(xe.a,null),style:{borderRadius:"40px",boxShadow:"none"}},"Invite"),o.createElement(ps,null))))}function us(e){var t,n=e.diagram.getDiagramProps(),r=n.controller,i=o.useState(null),a=Object(v.a)(i,2),l=a[0],c=a[1],u=Boolean(l),s=function(){c(null)},p=[["default",Xu.a],["theme1",$u.a],["theme2",ts.a],["theme3",os.a],["theme4",is.a]];return o.createElement(o.Fragment,null,o.createElement(w.a,{style:{display:"flex",alignItems:"center",textAlign:"center"}},o.createElement(ls,(t={"aria-controls":"theme-menu","aria-haspopup":"true",onClick:function(e){c(e.currentTarget)}},Object(S.a)(t,"aria-controls",u?"map-menu":void 0),Object(S.a)(t,"aria-haspopup","true"),Object(S.a)(t,"aria-expanded",u?"true":void 0),Object(S.a)(t,"variant","text"),t),o.createElement(Au.a,null))),o.createElement(F.a,{anchorEl:l,id:"theme-menu",open:u,onClose:s,onClick:s,getContentAnchorEl:null,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"center",vertical:"bottom"}},p.map((function(e){return o.createElement(z.a,{key:e[0],onClick:(t=e[0],function(e){r.run("setTheme",Object(j.a)(Object(j.a)({},n),{},{themeKey:t}))})},o.createElement("img",{src:e[1],alt:e[0],style:{width:"350px",height:"80px"}}));var t}))))}function ss(e){var t,n=e.diagram.getDiagramProps(),r=n.controller,i=o.useState(null),a=Object(v.a)(i,2),l=a[0],c=a[1],u=Boolean(l),s=function(){c(null)},p=[[Bt.LEFT_AND_RIGHT,"Left And Right",o.createElement(Gu.a,null)],[Bt.LEFT_TO_RIGHT,"Only Right",o.createElement(Ju.a,null)],[Bt.RIGHT_TO_LEFT,"Only Left",o.createElement(Zu.a,null)]];return o.createElement(o.Fragment,null,o.createElement(w.a,{style:{display:"flex",alignItems:"center",textAlign:"center"}},o.createElement(ls,(t={"aria-controls":"layout-menu","aria-haspopup":"true",onClick:function(e){c(e.currentTarget)}},Object(S.a)(t,"aria-controls",u?"map-menu":void 0),Object(S.a)(t,"aria-haspopup","true"),Object(S.a)(t,"aria-expanded",u?"true":void 0),Object(S.a)(t,"variant","text"),t),o.createElement(Gu.a,null))),o.createElement(F.a,{anchorEl:l,id:"layout-menu",open:u,onClose:s,onClick:s,getContentAnchorEl:null,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"center",vertical:"bottom"}},p.map((function(e){return o.createElement(z.a,{key:e[1],onClick:(t=e[0],function(e){r.run("setLayoutDir",Object(j.a)(Object(j.a)({},n),{},{layoutDir:t}))})},o.createElement(B.a,null,e[2]),e[1]);var t}))))}function ps(){var e=o.useState(null),t=Object(v.a)(e,2),n=t[0],r=t[1],i=Boolean(n),a=function(){r(null)};return o.createElement(o.Fragment,null,o.createElement(w.a,{style:{display:"flex",alignItems:"center",textAlign:"center"}},o.createElement(P.a,{title:"Account settings"},o.createElement(I.a,{onClick:function(e){r(e.currentTarget)},size:"small",style:{ml:2},"aria-controls":i?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":i?"true":void 0},o.createElement(_.a,{style:{width:32,height:32}},"M")))),o.createElement(F.a,{anchorEl:n,id:"account-menu",open:i,onClose:a,onClick:a,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},getContentAnchorEl:null,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"}},o.createElement(z.a,null,o.createElement(_.a,null)," Profile"),o.createElement(z.a,null,o.createElement(_.a,null)," My account"),o.createElement(W.a,null),o.createElement(z.a,null,o.createElement(B.a,null,o.createElement(Nu.a,{fontSize:"small"})),"Add another account"),o.createElement(z.a,null,o.createElement(B.a,null,o.createElement(ne.a,{fontSize:"small"})),"Settings"),o.createElement(z.a,null,o.createElement(B.a,null,o.createElement(se.a,{fontSize:"small"})),"Logout")))}function ds(){var e,t=o.useState(null),n=Object(v.a)(t,2),r=n[0],i=n[1],a=Boolean(r),l=function(){i(null)};return o.createElement(o.Fragment,null,o.createElement(w.a,{style:{display:"flex",alignItems:"center",textAlign:"center"}},o.createElement(P.a,{title:"Map settings"},o.createElement(Ze.a,(e={onClick:function(e){i(e.currentTarget)},size:"small",style:{ml:2},"aria-controls":a?"map-menu":void 0,"aria-haspopup":"true","aria-expanded":a?"true":void 0,variant:"text",color:"primary"},Object(S.a)(e,"style",{color:"black"}),Object(S.a)(e,"endIcon",o.createElement(Hu.a,null)),e),"My New Mind Map"))),o.createElement(F.a,{anchorEl:r,id:"map-menu",open:a,onClose:l,onClick:l,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"}},o.createElement(z.a,null,"Recent Maps"),o.createElement(z.a,null,"My New Mind Map"),o.createElement(z.a,null,"Basic commands of Git")))}n(1065);var ms=function(e){return r.a.createElement("div",null,r.a.createElement("div",{style:{position:"fixed",top:0,right:0,left:0,zIndex:9}},r.a.createElement(cs,e)))},fs=(n(1066),n(442)),hs=n.n(fs),gs=n(443),ys=n.n(gs),bs=[Fl(),function(){var e=new Map([["default",Ln],["random-color-square",Nl],["theme1",Wl],["theme2",Hl],["theme3",Vl],["theme4",Gl]]);return{getAllThemes:function(t){return e},setTheme:function(e){var t=e.model,n=e.controller,o=e.themeKey,r=n.run("getAllThemes",e);if(!r.has(o))throw new Error("setTheme: the theme key is not correct!");var i=r.get(o),a=Dn.setTheme({model:t,theme:i});n.change(a)}}}(),function(){var e=new Set;function t(t){var n=t.model,o=t.topicKey,r=n.getExtDataItem("TOPIC_REFERENCE",Vc);return e=new Set(r.getReferenceKeys(o)),n=Dn.focusTopic({model:n,topicKey:o,focusMode:"FOCUS_MODE_SET_REFERENCE_TOPICS"})}return{customizeTopicContextMenu:function(e,t){var n=e.controller;return Object(o.createElement)(o.Fragment,null,t(),Object(o.createElement)(jt.o,null),Object(o.createElement)(jt.p,{key:"EXT_KEY_TOPIC_REFERENCE",icon:pr("reference"),text:"Set Reference Topics",onClick:function(t){n.run("operation",Mc(Mc({},e),{opType:"OP_TYPE_START_SET_REFERENCE_TOPICS"})),n.run("disableOperation",Mc(Mc({},e),{whiteList:[rn]}))}}))},getOpMap:function(e,n){var o=n();return o.set("OP_TYPE_START_SET_REFERENCE_TOPICS",t),o.set("OP_TYPE_SET_REFERENCE_TOPICS",Gc),o},beforeOpFunction:function(e,t){var n=t(),o=e.opType,r=e.topicKey;if(o===dn&&r!==n.editorRootTopicKey){var i=Tn(n,r);i.push(r);var a=n.getExtDataItem("TOPIC_REFERENCE",Vc),l=a.reference;i.forEach((function(e){var t=a.getReferencedKeys(e);(l=l.withMutations((function(n){t.forEach((function(t){n.updateIn([t,"keyList"],(function(t){return t.delete(t.indexOf(e))}))}))}))).has(e)&&(l=l.delete(e))})),a=a.set("reference",l),n=n.setIn(["extData","TOPIC_REFERENCE"],a)}return n},renderDiagramCustomize:function(e,t){var n=e.model,r=e.controller.getValue(jr)+2,i=t();if("FOCUS_MODE_SET_REFERENCE_TOPICS"===n.focusMode){var a=Mc(Mc({},e),{zIndex:r,topicKey:n.focusKey,key:"AddReferenceTopicPanel"});i.push(Object(o.createElement)(Bc,Mc({},a)))}return i},renderTopicContentOthers:function(t,n){var r=t.model,i=t.topicKey,a=t.controller,l=n();if(l.push(a.run("renderTopicExtReference",Mc(Mc({},t),{key:"EXT_KEY_TOPIC_REFERENCE-icon"}))),"FOCUS_MODE_SET_REFERENCE_TOPICS"===r.focusMode&&r.focusKey!==i){var c=Mc(Mc({},t),{key:"checkbox",selectedTopicKeys:e}),u=Object(o.createElement)(pu,Mc({},c));l.push(u)}return l},renderTopicExtReference:function(e,t){return Object(o.createElement)(su,Mc({},e))},clearSelectedReferenceKeys:function(){e.clear()},getSelectedReferenceKeys:function(){return Array.from(e)},deserializeExtDataItem:function(e,t){var n=e.extDataKey,o=e.extDataItem;if("TOPIC_REFERENCE"===n){var r=new Vc,i=function(e){var t=o.reference[e],n=new Wc({keyList:Object(Kt.List)(t.keyList),dataMap:Object(Kt.Map)(t.dataMap)});r=r.update("reference",(function(t){return t.set(e,n)}))};for(var a in o.reference)i(a);return r}return t()}}}(),function(){var e=function(e){};return{customizeHotKeys:function(e,t){var n=e.controller,o=e.model,r=t();return r.globalHotKeys.set("DEFAULT_SEARCH",{label:"search",combo:"ctrl + f",onKeyDown:function(){n.run("operation",Mc(Mc({},e),{opType:mn,topicKey:o.focusKey,focusMode:"FOCUS_MODE_SEARCH"}))}}),r},renderDiagramCustomize:function(t,n){var r=n();if("FOCUS_MODE_SEARCH"===t.model.focusMode){var i=Mc(Mc({key:"search-panel"},t),{setSearchWorld:e});r.push(Object(o.createElement)(wu,Mc({},i)))}return r}}}(),Rc(),{serializeModel:function(e,t){var n=t();if(null!=n)return n;var o=e.model,r=e.controller;return{rootTopicKey:o.rootTopicKey,editorRootTopicKey:o.editorRootTopicKey,focusKey:o.focusKey,extData:r.run("serializeExtData",zl(zl({},e),{extData:o.extData})),topics:o.topics.valueSeq().toArray().map((function(t){return r.run("serializeTopic",zl(zl({},e),{topic:t}))})),config:r.run("serializeConfig",zl(zl({},e),{config:o.config})),formatVersion:o.formatVersion}},deserializeModel:function(e,t){var n=t();if(null!=n)return n;var o=e.obj,r=e.controller;null==o.formatVersion&&(o.formatVersion="0.0");var i=o.rootTopicKey,a=o.editorRootTopicKey,l=o.focusKey,c=o.topics,u=o.config,s=o.extData,p=o.formatVersion,d=new An;return null==(d=d.merge({rootTopicKey:i,editorRootTopicKey:null==a?i:a,focusKey:l,extData:r.run("deserializeExtData",zl(zl({},e),{extData:s,formatVersion:p})),config:r.run("deserializeConfig",zl(zl({},e),{config:u,formatVersion:p})),topics:r.run("deserializeTopics",zl(zl({},e),{topics:c,formatVersion:p})),formatVersion:o.formatVersion})).focusKey&&(d=d.set("focusKey",d.rootTopicKey)),null==d.focusMode&&(d=d.set("focusMode",Jt)),Bl("deserializeModel",d),d},serializeExtData:function(e,t){var n=t();if(null!=n)return n;var o=e.extData,r=e.controller,i={};return o.forEach((function(t,n){i[n]=r.run("serializeExtDataItem",{props:e,extDataKey:n,extDataItem:t})})),i},deserializeExtData:function(e,t){var n=t();if(null!=n)return n;var o=e.extData,r=e.controller,i=Object(Kt.Map)();for(var a in o)i=i.set(a,r.run("deserializeExtDataItem",zl(zl({},e),{extDataKey:a,extDataItem:o[a]})));return i},serializeExtDataItem:function(e,t){var n=t();if(null!=n)return n;var o=e.extDataItem;return Object(Kt.isImmutable)(o)?o.toJS():o},deserializeExtDataItem:function(e,t){var n=t();return null!=n?n:e.extDataItem},serializeConfig:function(e,t){var n=t();return null!=n?n:e.config.toJS()},deserializeConfig:function(e,t){var n=t();if(null!=n)return n;var o=e.config;return new Mn(o)},serializeTopic:function(e,t){var n=t();if(null!=n)return n;var o=e.topic,r=e.controller;return{key:o.key,parentKey:o.parentKey,emoji:o.emoji,subKeys:o.subKeys.toArray(),collapse:o.collapse,style:o.style,blocks:o.blocks.map((function(t){return r.run("serializeBlock",zl(zl({},e),{block:t}))}))}},deserializeTopic:function(e,t){var n=t();if(null!=n)return n;var o=e.topic,r=e.controller,i=o.key,a=o.parentKey,l=o.subKeys,c=o.blocks,u=o.style,s=o.collapse,p=new kn;return p=p.merge({key:i,parentKey:a,emoji:o.emoji,subKeys:Object(Kt.List)(l),style:u,collapse:s,blocks:r.run("deserializeBlocks",zl(zl({},e),{blocks:c}))})},deserializeTopics:function(e,t){var n=t();if(null!=n)return n;var o=e.topics,r=e.controller,i=Object(Kt.Map)();return i=i.withMutations((function(t){o.forEach((function(n){return t.set(n.key,r.run("deserializeTopic",zl(zl({},e),{topic:n})))}))}))},serializeBlock:function(e,t){var n=t();if(null!=n)return n;var o=e.block,r=e.controller;return{type:o.type,data:r.run("serializeBlockData",zl({},e))}},serializeBlockData:function(e,t){var n=t();return null!=n?n:e.block.data},deserializeBlock:function(e,t){var n=t();if(null!=n)return n;var o=e.block,r=e.controller,i=o.type;return new wn({type:i,data:r.run("deserializeBlockData",zl(zl({},e),{block:o}))})},deserializeBlockData:function(e,t){var n=t();return null!=n?n:e.block.data},deserializeBlocks:function(e,t){var n=t();if(null!=n)return n;var o=e.blocks,r=e.controller,i=Object(Kt.List)();return i=i.withMutations((function(t){o.forEach((function(n){return t.push(r.run("deserializeBlock",zl(zl({},e),{block:n})))}))}))}}],xs=function(e){Object(Se.a)(n,e);var t=Object(Re.a)(n);function n(e){var o;return Object(De.a)(this,n),(o=t.call(this,e)).diagramRef=function(e){o.diagram=e,o.setState({})},o.onClickUndo=function(e){var t=o.diagram.getDiagramProps();t.controller.run("undo",t)},o.onClickRedo=function(e){var t=o.diagram.getDiagramProps();t.controller.run("redo",t)},o.onChange=function(e,t){o.setState({model:e},t)},o.initModel(),o}return Object(Le.a)(n,[{key:"initModel",value:function(){var e=function(){var e=Cn();return An.create({rootTopicKey:e,topics:[{key:e,blocks:[{type:"CONTENT",data:"MainTopic"}]}]})}();this.state={model:e}}},{key:"renderDiagram",value:function(){return r.a.createElement(kl,{ref:this.diagramRef,model:this.state.model,onChange:this.onChange,plugins:bs,devicehub:r.a.createElement(I.a,null,r.a.createElement(he.a,null)),format:r.a.createElement(I.a,null,r.a.createElement(hs.a,null)),emoji:r.a.createElement(I.a,null,r.a.createElement(ys.a,null))})}},{key:"renderToolbar",value:function(){var e=this.diagram.getDiagramProps(),t=e.controller,n=t.run("canUndo",e),o=t.run("canRedo",e),i={diagram:this.diagram,onClickUndo:this.onClickUndo,onClickRedo:this.onClickRedo,canUndo:n,canRedo:o};return r.a.createElement(ms,i)}},{key:"render",value:function(){return r.a.createElement("div",{className:"mindmap"},this.diagram&&this.renderToolbar(),this.renderDiagram())}}]),n}(r.a.Component);function vs(){return o.createElement("div",null,o.createElement(xs,null))}var Es=n(1154),Os=n(1147),Cs=n(1151),ws=Object(bt.a)((function(e){return{root:{padding:"20px"}}}));function ks(){var e=ws(),t=Object(y.d)(_e("currentUser")).data;return o.createElement("div",{className:e.root},o.createElement(A.a,{variant:"h5",noWrap:!0,style:{marginTop:"10px"}},"Personal Details"),o.createElement(w.a,{style:{display:"flex",flexDirection:"row",justifyContent:"center",paddingTop:"20px"}},o.createElement(w.a,{style:{flex:2/3,display:"flex",flexDirection:"column",width:"60%"}},o.createElement(Cs.a,{id:"name",label:"Name",variant:"outlined",style:{margin:"10px"}}),o.createElement(Cs.a,{id:"website",label:"Website",variant:"outlined",style:{margin:"10px"}}),o.createElement(Cs.a,{id:"description",label:"Description",variant:"outlined",style:{margin:"10px"}}),o.createElement(Ze.a,{variant:"contained",color:"primary",style:{margin:"20px",textAlign:"center"}},"Save Change")),o.createElement(w.a,{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"40%"}},o.createElement(_.a,{style:{width:"130px",height:"130px",border:"5px double grey","& img":{borderRadius:"100%"}},src:t.photoURL}),o.createElement("div",{style:{textAlign:"center",marginTop:"10px"}},"My Avatar"),o.createElement("div",{style:{width:"150px",textAlign:"center",marginTop:"10px",color:"grey"}},"Your photo should be cool and may use transparency."))))}var Ts=Object(bt.a)((function(e){return{root:{padding:"20px"}}}));function js(){var e=Ts();return o.createElement("div",{className:e.root},o.createElement(A.a,{variant:"h5",noWrap:!0,style:{marginTop:"10px"}},"Password"),o.createElement(w.a,{style:{display:"flex",flexDirection:"column",width:"50%",margin:"30px"}},o.createElement(Cs.a,{id:"newpassword",label:"New Password",variant:"outlined",style:{margin:"10px"}}),o.createElement(Cs.a,{id:"confirmpassword",label:"Confirm New Password",variant:"outlined",style:{margin:"10px"}}),o.createElement(Ze.a,{variant:"contained",color:"primary",style:{margin:"20px",textAlign:"center"}},"Save Change")),o.createElement(w.a,null,o.createElement(A.a,{variant:"h5",noWrap:!0},"Email"),o.createElement("div",{style:{margin:"30px",color:"grey",lineHeight:2}},"Email Address ",o.createElement("br",null),"Please set a password above in order to be able to ",o.createElement("br",null),"change your email"),o.createElement(Cs.a,{id:"name",label:"alexey.khlebnikov.com",variant:"outlined",disabled:!0,style:{margin:"10px"}})))}function Ss(){return o.createElement(w.a,{component:"main",style:{p:3,mt:10},noValidate:!0,autoComplete:"off"},"Settings")}var Rs=["children","value","index"],Ds=Object(bt.a)((function(e){return{root:{flexGrow:1,padding:30},drawerHeader:Object(j.a)({display:"flex",alignItems:"center",justifyContent:"space-between",padding:e.spacing(5,2)},e.mixins.toolbar)}}));function Ls(e){var t=e.children,n=e.value,r=e.index,i=Object(ku.a)(e,Rs);return o.createElement("div",Object.assign({role:"tabpanel",hidden:n!==r,id:"account-tabpanel-".concat(r),"aria-labelledby":"account-tab-".concat(r)},i),n===r&&o.createElement(w.a,{style:{p:3}},t))}function Ks(e){return{id:"account-tab-".concat(e),"aria-controls":"account-tabpanel-".concat(e)}}function Ms(){var e=Ds(),t=o.useState(0),n=Object(v.a)(t,2),r=n[0],i=n[1];return o.createElement(w.a,{component:"main",className:me()(e.root,"")},o.createElement("div",{className:me()(e.drawerHeader)}),o.createElement(w.a,{style:{borderBottom:1,borderColor:"divider"}},o.createElement(Es.a,{value:r,onChange:function(e,t){i(t)},centered:!0,variant:"fullWidth","aria-label":"account tabs"},o.createElement(Os.a,Object.assign({label:"General"},Ks(0))),o.createElement(Os.a,Object.assign({label:"Password & Email",wrapped:!0},Ks(1))),o.createElement(Os.a,Object.assign({label:"Time & Language",wrapped:!0},Ks(2))),o.createElement(Os.a,Object.assign({label:"Connected Accounts",wrapped:!0},Ks(3))),o.createElement(Os.a,Object.assign({label:"Policies"},Ks(4))))),o.createElement(Ls,{value:r,index:0},o.createElement(ks,null)),o.createElement(Ls,{value:r,index:1},o.createElement(js,null)),o.createElement(Ls,{value:r,index:2}),o.createElement(Ls,{value:r,index:3}),o.createElement(Ls,{value:r,index:4}),o.createElement(x.b,null))}var Is=n(30),As=n(89),Ps=n(206),_s=n(444),Fs=n.n(_s),zs=n(91),Bs=n(1149),Ns=n(1157),Ws=n(1092),Hs=n(1159),Vs=n(1155),Gs=n(1148),Us=n(449),Zs=n.n(Us),Ys=n(202),Js=n.n(Ys),qs=n(203),Xs=n.n(qs),Qs=n(204),$s=n.n(Qs),ep=n(448),tp=n.n(ep);var np=function(e){var t=e.children,n=e.size,r="(min-width: 768px)";return"desktop"===n&&(r="(min-width: 1024px) "),"mobile"===n&&(r="(min-device-width: 320px) and (max-width: 767px)"),"mobile+tablet"===n&&(r="(min-device-width: 320px) and (max-width: 1023px)"),"tablet+desktop"===n&&(r="(min-width: 768px)"),"tablet"===n&&(r="(min-width: 768px) and (max-width: 1023px)"),o.createElement(tp.a,{query:r},t)},op=Object(Gs.a)((function(e){return{root:{display:"flex"},main:{height:"100vh"},nav:{display:"flex",flexWrap:"wrap",alignItems:"center",width:"100%",marginLeft:"auto",marginRight:"auto",padding:"20px 30px","& .logo":{color:"#00AAFF",lineHeight:"140%",maxWidth:"100%","& img":{width:"110px"}}},showSignup:{flex:1,display:"flex",justifyContent:"flex-end","& span":{cursor:"pointer",color:"#00AAFF",textDecoration:"none","&:hove":{}}},section:{alignItems:"center",paddingTop:"10px",display:"flex",flexFlow:"column",justifyContent:"flex-start",padding:"30px 40px",position:"relative","& form":{textAlign:"center"},"& h2":{marginBottom:"20px",marginTop:"20px",textAlign:"center",fontSize:"21px",color:"grey"}},loginGoogle:{display:"flex",margin:"auto",textDecoration:"none",padding:"11px 20px",borderRadius:"24px",boxShadow:"0px 3px 1px -2px rgb(0 0 0 / 20%)",border:"1px solid rgba(0,0,0,0.1)",backgroundColor:"white",height:"auto",cursor:"pointer",fontWeight:700,fontSize:"17px",lineHeight:"24px",color:"#00AAFF","& img":{borderEadius:"3px",width:"24px",height:"24px",marginRight:"10px"}},rememberButton:{marginBottom:"15px",display:"flex",flexWrap:"nowrap",alignItems:"center",marginTop:"10px"},loginButton:{width:"200px",borderRadius:20}}}));function rp(e){return r.a.createElement("div",Object.assign({color:"text.secondary",align:"center"},e,{style:{marginTop:"30px"}}),"Copyright \xa9 ",r.a.createElement(g.b,{to:"https://Mindmeister.com/"},"MindMeister")," ",(new Date).getFullYear(),".")}function ip(e){var t,n,i=op(),a=Object(y.c)(),l=Object(x.f)(),c=Object(o.useRef)(),u=Object(o.useState)(!1),s=Object(v.a)(u,2),p=s[0],d=s[1],m=Object(o.useState)(null),f=Object(v.a)(m,2),h=f[0],g=f[1],b=Object(o.useState)([]),E=Object(v.a)(b,2),O=E[0],C=E[1],k=Object(o.useState)(!1),T=Object(v.a)(k,2),S=T[0],R=T[1],D=Object(o.useState)(void 0),L=Object(v.a)(D,2),K=L[0],M=L[1],A=Object(y.d)(_e("error")),P=zs.b().shape({email:zs.c().required("Email is required").email("Email is invalid"),password:zs.c().required("Password is required")}),_={resolver:Object(Ps.a)(P)},F=Object(As.d)(_),z=F.register,B=F.handleSubmit,N=F.formState.errors;function W(){B((function(e){return a(function(e){var t=e.email,n=e.password;return function(e){return Ie.signInWithEmailAndPassword(t,n).then((function(t){return e(Pe(t)),e({type:"TYPE_LOGIN_SUCCESS"})})).catch((function(t){return e({type:"TYPE_LOGIN_ERROR",error:t})}))}}(e))}))()}Object(o.useEffect)((function(){var e=A.email,t=A.password;e?C((function(t){return[].concat(Object(Is.a)(t),[{message:e,key:(new Date).getTime()}])})):t&&C((function(e){return[].concat(Object(Is.a)(e),[{message:t,key:(new Date).getTime()}])}))}),[A]),Object(o.useEffect)((function(){O.length&&!K?(M(Object(j.a)({},O[0])),C((function(e){return e.slice(1)})),R(!0)):O.length&&K&&S&&R(!1)}),[O,K,S]);var H=function(e,t){"clickaway"!==t&&R(!1)},V=function(){M(void 0)},G=r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(Cs.a,Object.assign({name:"email",label:"Email",placeholder:"Type your Email",InputProps:{style:{borderRadius:"15px"},startAdornment:r.a.createElement(Bs.a,{position:"start"},r.a.createElement(ee.a,null))},autoComplete:"off"},z("email"),{variant:"outlined",error:!!N.email,helperText:null===(t=N.email)||void 0===t?void 0:t.message,color:"secondary",style:{marginTop:"15px"}})),r.a.createElement(Cs.a,Object.assign({name:"password",label:"Password",type:p?"text":"password",placeholder:"Type our Password",InputProps:{style:{borderRadius:"15px"},startAdornment:r.a.createElement(Bs.a,{position:"start"},r.a.createElement(Js.a,null)),endAdornment:r.a.createElement(Bs.a,{position:"end"},r.a.createElement(I.a,{"aria-label":"toggle password visibility",onClick:function(){return d(!p)},onMouseDown:function(){return d(!p)}},p?r.a.createElement(Xs.a,null):r.a.createElement($s.a,null)))}},z("password"),{variant:"outlined",error:!!N.password,helperText:null===(n=N.password)||void 0===n?void 0:n.message,color:"secondary",style:{marginTop:"15px"}}))),U=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{component:"nav",className:i.nav},r.a.createElement("a",{className:"logo",href:"https://www.mindmeister.com",title:"Mindmeister"},r.a.createElement("img",{src:"assets/images/logo/logo.svg",alt:"Mindmerster Logo"})),r.a.createElement("div",{id:"show-signup",className:i.showSignup},r.a.createElement("span",{onClick:function(){return l("/register")}},"Sign Up"))),r.a.createElement(w.a,null,r.a.createElement(w.a,{component:"main",autoComplete:"off"},r.a.createElement("div",null,r.a.createElement("div",{id:"site-flash-messages"})),r.a.createElement("div",null,r.a.createElement("h1",{style:{textAlign:"center",fontWeight:700}},"Log In")),r.a.createElement(w.a,{component:"section",className:i.section},r.a.createElement("form",{onSubmit:B((function(e){h.execute()})),ref:c},r.a.createElement("button",{type:"submit",className:i.loginGoogle},r.a.createElement("img",{src:"assets/images/logo/google_logo.svg",alt:"google_logo"}),r.a.createElement("span",null,"Log in with Google")),r.a.createElement("h2",null,"or with your MindMeister account"),G,r.a.createElement("div",{className:i.rememberButton},r.a.createElement(Ns.a,{style:{inputProps:{ariaLabel:"Checkbox demo"}}}),r.a.createElement("span",null,"Remember me")),r.a.createElement(Ze.a,{type:"submit",variant:"contained",className:i.loginButton,color:"secondary"},"Log In"),r.a.createElement(rp,null)))))),Z=function(e){return r.a.createElement(at.a,{container:!0,component:"main",className:i.main},e?r.a.createElement(r.a.Fragment,null,r.a.createElement(at.a,{item:!0,xs:!1,sm:4,md:7,style:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),r.a.createElement(at.a,{item:!0,xs:12,sm:8,md:5,component:Ws.a,elevation:6,square:!0},U)):r.a.createElement(w.a,{style:{width:"100%"}},U),r.a.createElement(Fs.a,{ref:function(e){return g(e)},secureKey:"6LfTw_4dAAAAAHOjPrtusI5alBPpYu2lW5yW7P1n",sitekey:"6LfTw_4dAAAAAJWeqtDrom6-GCX2ujbX6BDxRNU0",onResolved:W}),r.a.createElement(Hs.a,{anchorOrigin:{vertical:"top",horizontal:"center"},key:K?K.key:void 0,open:S,autoHideDuration:6e3,onClose:H,TransitionProps:{onExited:V},action:r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{"aria-label":"close",color:"white",style:{p:.5},onClick:H},r.a.createElement(Zs.a,null)))},r.a.createElement(Vs.a,{onClose:H,severity:"error",style:{width:"100%"}},K?K.message:void 0)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(np,{size:"mobile+tablet"},Z(!1)),r.a.createElement(np,{size:"desktop"},Z(!0)))}var ap=n(450),lp=n.n(ap),cp=Object(Gs.a)((function(e){return{root:{display:"flex"},main:{height:"100vh"},nav:{display:"flex",flexWrap:"wrap",alignItems:"center",width:"100%",marginLeft:"auto",marginRight:"auto",padding:"20px 30px","& .logo":{color:"#00AAFF",lineHeight:"140%",maxWidth:"100%","& img":{width:"110px"}}},showSignup:{flex:1,display:"flex",justifyContent:"flex-end","& span":{cursor:"pointer",color:"#00AAFF",textDecoration:"none","&:hove":{}}},section:{alignItems:"center",paddingTop:"10px",display:"flex",flexFlow:"column",justifyContent:"flex-start",padding:"30px 40px",position:"relative","& form":{textAlign:"center"},"& h2":{marginBottom:"20px",marginTop:"20px",textAlign:"center",fontSize:"21px",color:"grey"}},loginGoogle:{display:"flex",margin:"auto",textDecoration:"none",padding:"11px 20px",borderRadius:"24px",boxShadow:"0 1px 2px 0 rgb(0 0 0 / 10%)",border:"1px solid rgba(0,0,0,0.1)",backgroundColor:"white",height:"auto",cursor:"pointer",fontWeight:700,fontSize:"17px",lineHeight:"24px",color:"#00AAFF","& img":{borderEadius:"3px",width:"24px",height:"24px",marginRight:"10px"}},rememberButton:{marginBottom:"15px",display:"flex",flexWrap:"nowrap",alignItems:"center",marginTop:"10px"},signupButton:{width:"200px",borderRadius:20}}}));function up(e){var t,n,i,a,l=cp(),c=Object(x.f)(),u=Object(o.useRef)(),s=Object(Ue.a)("(min-width:800px)"),p=Object(o.useState)(!1),d=Object(v.a)(p,2),m=d[0],f=d[1],h=zs.b().shape({name:zs.c().required("First Name is required"),email:zs.c().required("Email is required").email("Email is invalid"),password:zs.c().min(6,"Password must be at least 6 characters").required("Password is required"),acceptTerms:zs.a().oneOf([!0],"Accept Ts & Cs is required")}),g={resolver:Object(Ps.a)(h)},y=Object(As.d)(g),b=y.register,E=y.handleSubmit,O=y.formState.errors;var C=r.a.createElement("form",{onSubmit:E((function(t){return e.registerRequest(t),!1})),ref:u,style:{}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(Cs.a,Object.assign({name:"name",label:"Name",placeholder:"Type your Name",InputProps:{style:{borderRadius:"10px",height:"50px"},startAdornment:r.a.createElement(Bs.a,{position:"start"},r.a.createElement(lp.a,null))}},b("email"),{variant:"outlined",error:!!O.name,helperText:null===(t=O.name)||void 0===t?void 0:t.message,color:"secondary",style:{marginTop:"0px"}})),r.a.createElement(Cs.a,Object.assign({name:"email",label:"Email",placeholder:"Type your Email",InputProps:{style:{borderRadius:"10px",height:"50px"},startAdornment:r.a.createElement(Bs.a,{position:"start"},r.a.createElement(ee.a,null))}},b("email"),{variant:"outlined",error:!!O.email,helperText:null===(n=O.email)||void 0===n?void 0:n.message,color:"secondary",style:{marginTop:"15px"}})),r.a.createElement(Cs.a,Object.assign({name:"password",label:"Password",type:m?"text":"password",placeholder:"Type your Password",InputProps:{style:{borderRadius:"10px",height:"50px"},startAdornment:r.a.createElement(Bs.a,{position:"start"},r.a.createElement(Js.a,null)),endAdornment:r.a.createElement(Bs.a,{position:"end"},r.a.createElement(I.a,{"aria-label":"toggle password visibility",onClick:function(){return f(!m)},onMouseDown:function(){return f(!m)}},m?r.a.createElement(Xs.a,null):r.a.createElement($s.a,null)))}},b("password"),{variant:"outlined",error:!!O.password,helperText:null===(i=O.password)||void 0===i?void 0:i.message,color:"secondary",style:{marginTop:"15px"}})),r.a.createElement("div",{style:{marginBottom:"20px"}},r.a.createElement("div",{style:{display:"flex",flexFlow:"column",justifyContent:"flex-start"}},r.a.createElement("label",{style:{display:"flex"}},r.a.createElement("div",{style:{marginTop:"5px",fontSize:"15px"}},r.a.createElement(Ns.a,Object.assign({name:"acceptTerms"},b("acceptTerms"),{id:"acceptTerms",style:{inputProps:{ariaLabel:"Checkbox demo"}}})),r.a.createElement("span",null,"I agree to the",r.a.createElement("a",null,"Term "),"and",r.a.createElement("a",null," Privacy Poicy")),r.a.createElement(A.a,{className:"invalid-feedback",style:{color:"red",textAlign:"center",fontSize:"15px"}},null===(a=O.acceptTerms)||void 0===a?void 0:a.message)))),r.a.createElement("div",{style:{display:"flex",flexFlow:"column",justifyContent:"flex-start"}},r.a.createElement("label",{style:{display:"flex"}},r.a.createElement("div",{style:{display:"flex",marginTop:"5px",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",fontSize:"15px"}},r.a.createElement(Ns.a,{style:{inputProps:{ariaLabel:"Checkbox demo"}}}),r.a.createElement("span",null,"I agree to receive periodic product updates, offers, and promotions"))))),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(Ze.a,{className:l.signupButton,type:"submit",variant:"contained",color:"primary"},"Sign Up"))));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{component:"nav",className:l.nav},r.a.createElement("a",{className:"logo",href:"https://www.mindmeister.com",title:"Mindmeister"},r.a.createElement("img",{src:"assets/images/logo/logo.svg",alt:"Mindmerster Logo"})),r.a.createElement("div",{id:"show-signup",className:l.showSignup},r.a.createElement("span",{onClick:function(){return c("/login")}},"Back"))),r.a.createElement(w.a,{component:"main",style:{maxWidth:"1024px",width:"100%",margin:"0 auto 20px auto"}},r.a.createElement(K.a,null),r.a.createElement(w.a,{component:"main",style:{display:"flex",flexDirection:"column"}},r.a.createElement("div",{className:"ui-message-bar"},r.a.createElement("div",{id:"site=flash-messages"})),r.a.createElement("div",{className:"signup-wrapper",style:{display:"flex",flexWrap:"wrap",justifyContent:"center",marginTop:"50px",padding:"0 20px"}},r.a.createElement("div",{className:"align-items-center",style:{width:"340px",display:"flex",flexDirection:"column"}},r.a.createElement("header",null,r.a.createElement("h1",{style:{textAlign:"center",fontWeight:700,marginTop:0}},"Get Started")),r.a.createElement("h2",{style:{marginBottom:"20px",marginTop:0,textAlign:"center",fontSize:"21px",color:"#8A9499"}},"with one of these services"),r.a.createElement("button",{type:"submit",style:{display:"flex",textDecoration:"none",padding:"11px 20px",borderRadius:"24px",boxShadow:"0 1px 2px 0 rgb(0 0 0 / 10%)",border:"1px solid rgba(0,0,0,0.1)",backgroundColor:"white",height:"auto",cursor:"pointer",fontWeight:700,fontSize:"17px",lineHeight:"24px",color:"#00AAFF",justifyContent:"center"}},r.a.createElement("img",{src:"assets/images/logo/google_logo.svg",alt:"google_logo",style:{borderEadius:"3px",width:"24px",height:"24px",marginRight:"10px"}}),r.a.createElement("span",null,"Sign up with Google"))),r.a.createElement("div",{className:"separator",style:Object(j.a)({position:"relative",padding:"0 25px"},!s&&{backgroundColor:"#DCE2E6",height:"1px",margin:"70px 0",padding:0,position:"relative",textAlign:"center",width:"100%"})},r.a.createElement("div",{className:"vertical-line",style:Object(j.a)({backgroundColor:"#DCE2E6",width:"1px",height:"100%",position:"absolute",left:"50%",transform:"translateX(-50%)"},!s&&{textAlign:"center"})}),r.a.createElement("p",{style:Object(j.a)({backgroundColor:"#DCE2E6",padding:"5px 10px",minWidth:"48px",borderRadius:"24px",fontSize:"24px",color:"white",textAlign:"center",display:"inline-block",position:"relative",margin:"100px 0"},!s&&{margin:0,transform:"translate(0, -50%)"})},"or")),r.a.createElement("div",{className:"align-items-center",style:{width:"340px",display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("img",{src:"assets/images/logo/email.svg",alt:"email",style:{width:"60px",maxWidth:"60px",marginBottom:"10px"}}),r.a.createElement("h2",{style:{textAlign:"center",fontSize:"21px",color:"#8A9499"}},"with your email address"),C)),r.a.createElement("div",{className:"justify-center",style:{marginTop:"20px",marginBottom:"0px",textAlign:"center",color:"#8A949"}},r.a.createElement("a",{href:"/account/login?product=1",style:{color:"#00AAFF",textDecoration:"none","&:hove":{}}},"I already have an account")))))}var sp=function(e){var t=Object(x.e)(),n=Object(x.f)();return o.createElement("div",null,o.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh"}},o.createElement("div",{style:{fontSize:"30px",fontWeight:"bold",margin:"20px"}},"This page is not ready: ".concat(t.pathname)),o.createElement("a",{onClick:function(){n("/")}},"Go to Main page.")))},pp=[{path:"/login",name:"Login",key:"login",icon:"",element:o.createElement(ip,null)},{path:"/register",element:o.createElement(up,null)},{path:"/",name:"",key:"",icon:"",element:o.createElement(Ge,null),children:[{path:"/",name:"My Map",key:"mymap",icon:"",element:o.createElement(Ot,null)},{path:"/dashboard",name:"My Map",key:"mymap",icon:"",element:o.createElement(Ot,null)},{path:"/recent",name:"Recent",key:"recent",icon:"",element:o.createElement(Ot,null)},{path:"/public",name:"Public",key:"public",icon:"",element:o.createElement(Ot,null)},{path:"/favorites",name:"Favorites",key:"favorite",icon:"",element:o.createElement(Ot,null)},{path:"/trash",name:"Trash",key:"trash",icon:"",element:o.createElement(Ot,null)}]},{path:"/mindmap",name:"MindMap",key:"mindmap",icon:"",element:o.createElement(vs,null)},{path:"/account",name:"Account",key:"account",icon:"",element:o.createElement(it,null),children:[{path:"/account/me",name:"Me",key:"me",icon:"",element:o.createElement(Ms,null)},{path:"/account/settings",name:"Settings",key:"settings",icon:"",element:o.createElement(Ss,null)}]},{path:"*",name:"ErrorPage",key:"error_page",icon:"",element:o.createElement(sp,null)}],dp=function(){var e=Object(x.h)(pp);return o.createElement(C,null,e)},mp=n(120),fp=function(e){Object(Se.a)(n,e);var t=Object(Re.a)(n);function n(e){var o;return Object(De.a)(this,n),(o=t.call(this,e)).onAutoLogin=function(){Ie.signInWithToken().then((function(e){o.props.setUserData(e),o.setState({checkingJwt:!1})}))},o.onAutoLogout=function(){o.props.logout(),o.setState({checkingJwt:!1})},o.state={checkingJwt:!0},o}return Object(Le.a)(n,[{key:"componentDidMount",value:function(){Ie.on("onAutoLogin",this.onAutoLogin),Ie.on("onAutoLogout",this.onAutoLogout),Ie.init()}},{key:"componentWillUnmount",value:function(){Ie.off("onAutoLogin",this.onAutoLogin),Ie.off("onAutoLogout",this.onAutoLogout)}},{key:"render",value:function(){var e=this.props.children;return this.state.checkingJwt?r.a.createElement("div",null,"Loading..."):r.a.createElement(r.a.Fragment,null,e)}}]),n}(o.Component);var hp=Object(y.b)(null,(function(e){return Object(mp.b)({logout:Ae,setUserData:Pe},e)}))(fp),gp=function(e){Object(Se.a)(n,e);var t=Object(Re.a)(n);function n(e){var o;return Object(De.a)(this,n),(o=t.call(this,e)).state={accessGranted:!0},o}return Object(Le.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return t.accessGranted!==this.state.accessGranted}},{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.accessGranted,o=t.redirect;return n?r.a.createElement(r.a.Fragment,null,e):r.a.createElement(x.a,{to:o.to,state:o.state})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.location,o=e.user,r=n.pathname,i=n.state,a=!!o,l=null;o?["/login","/register"].includes(r)&&(a=!1,l={to:i&&i.redirectUrl?i.redirectUrl:"/"}):["/login","/register"].includes(r)?a=!0:l={to:"/login",state:{redirectUrl:r}};return{accessGranted:a,redirect:l}}}]),n}(r.a.Component);var yp,bp=(yp=Object(y.b)((function(e){return{user:e.auth.currentUser}}))(gp),function(e){var t=Object(x.e)();return r.a.createElement(yp,Object.assign({location:t},e))}),xp=n(451),vp={token:localStorage.getItem("jwt_access_token"),currentUser:null,success:!1,error:{email:null,password:null}},Ep=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vp,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TYPE_LOGOUT_USER":return Object(j.a)(Object(j.a)({},e),{},{currentUser:null,token:null});case"TYPE_SET_USER_DATA":var n=Object(j.a)(Object(j.a)({},e),{},{currentUser:t.user});return n;case"TYPE_LOGIN_SUCCESS":return Object(j.a)(Object(j.a)({},e),{},{success:!0});case"TYPE_LOGIN_ERROR":return console.log(t),Object(j.a)(Object(j.a)({},e),{},{success:!1,error:Object(j.a)(Object(j.a)({},e.error),{},{email:t.error.email,password:t.error.password})});default:return e}},Op=Object(mp.c)({auth:Ep}),Cp=Object(mp.d)(Op,Object(mp.a)(xp.a)),wp=n(452),kp=n.n(wp),Tp=n(453),jp=n.n(Tp),Sp={palette:{primary:kp.a,secondary:jp.a}},Rp=Object(f.a)(Sp),Dp=Object(d.a)({productionPrefix:"c"}),Lp=function(){return r.a.createElement(h.a,{theme:Rp},r.a.createElement(m.b,{generateClassName:Dp},r.a.createElement(y.a,{store:Cp},r.a.createElement(hp,null,r.a.createElement(g.a,{history:Object(b.b)()},r.a.createElement(bp,null,r.a.createElement(dp,null)))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(1087);localStorage.debug=["app","plugin:layout"].join(","),a.a.render(r.a.createElement(Lp,null),document.getElementById("root"))},426:function(e,t,n){e.exports=n.p+"static/media/default.b18193fb.jpg"},427:function(e,t,n){e.exports=n.p+"static/media/theme1.2f59f00b.jpg"},428:function(e,t,n){e.exports=n.p+"static/media/theme2.4f8c4983.jpg"},429:function(e,t,n){e.exports=n.p+"static/media/theme3.61c97910.jpg"},430:function(e,t,n){e.exports=n.p+"static/media/theme4.1e21408c.jpg"},520:function(e,t,n){},549:function(e,t,n){}}]);
//# sourceMappingURL=chunk-blinkmind.6cd4e7b6.chunk.js.map