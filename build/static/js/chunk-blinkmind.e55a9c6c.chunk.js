(window["webpackJsonpreact-mindmap"]=window["webpackJsonpreact-mindmap"]||[]).push([[0],{1071:function(e,t,n){},1092:function(e,t,n){},1093:function(e,t,n){},1114:function(e,t,n){},1115:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(15),a=n.n(i),l=(n(542),new(n(543))(n(97))),c=n(29),s=n(74),u=n.n(s).a.runInContext();u.mixin({setIn:function(e,t,n){return u.setWith(u.clone(e),t,n,u.clone)}});var p=u;Object({NODE_ENV:"production",PUBLIC_URL:"/react-mindmap"}).JWT_SECRET;function d(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()}var m={users:[{uuid:"XgbuVEXBU5gtSKdbQRP1Zbbby1i1",from:"custom-db",password:"admin",role:"admin",data:{displayName:"Abbott Keitch",photoURL:"/assets/images/avatars/Abbott.jpg",email:"admin@admin.com",settings:{layout:{style:"layout1",config:{scroll:"content",navbar:{display:!0,folded:!0,position:"left"},toolbar:{display:!0,style:"fixed",position:"below"},footer:{display:!0,style:"fixed",position:"below"},mode:"fullwidth"}},customScrollbars:!0,theme:{main:"defaultDark",navbar:"defaultDark",toolbar:"defaultDark",footer:"defaultDark"}},shortcuts:["calendar","mail","contacts"]}},{uuid:"XgbuVEXBU6gtSKdbTYR1Zbbby1i3",from:"custom-db",password:"staff",role:"staff",data:{displayName:"Arnold Matlock",photoURL:"/assets/images/avatars/Arnold.jpg",email:"staff@staff.com",settings:{layout:{style:"layout2",config:{mode:"boxed",scroll:"content",navbar:{display:!0},toolbar:{display:!0,position:"below"},footer:{display:!0,style:"fixed"}}},customScrollbars:!0,theme:{main:"greeny",navbar:"mainThemeDark",toolbar:"mainThemeDark",footer:"mainThemeDark"}},shortcuts:["calendar","mail","contacts","todo"]}}]};l.onGet("/api/auth").reply((function(e){var t=JSON.parse(e.data),n=t.email,r=t.password,o=p.cloneDeep(m.users.find((function(e){return e.data.email===n}))),i={email:o?null:"Check your username/email",password:o&&o.password===r?null:"Check your password"};return i.email||i.password||i.displayName?[200,{error:i}]:(delete o.password,[200,{user:o,access_token:JSON.stringify({id:o.uuid})}])})),l.onGet("/api/auth/access-token").reply((function(e){var t=JSON.parse(e.data).access_token;try{var n=JSON.parse(t).id,r=p.cloneDeep(m.users.find((function(e){return e.uuid===n})));return delete r.password,[200,{user:r,access_token:JSON.stringify({id:r.uuid})}]}catch(o){return[401,{error:"Invalid access token detected"}]}})),l.onPost("/api/auth/register").reply((function(e){var t=JSON.parse(e.data),n=t.displayName,r=t.password,o=t.email,i={email:m.users.find((function(e){return e.data.email===o}))?"The email is already in use":null,displayName:""!==n?null:"Enter display name",password:null};if(i.displayName||i.password||i.email)return[200,{error:i}];var a={uuid:d(),from:"custom-db",password:r,role:"admin",data:{displayName:n,photoURL:"assets/images/avatars/Abbott.jpg",email:o,settings:{},shortcuts:[]}};m.users=[].concat(Object(c.a)(m.users),[a]);var l=p.cloneDeep(a);return delete l.password,[200,{user:l,access_token:JSON.stringify({id:l.uuid})}]})),l.onAny().passThrough();var f=n(1152),g=n(1179),h=n(476),y=n(1176),b=n(52),x=n(41),v=n(65),E=n(30),O=n(18),C=n(269),w=n.n(C);w.a.config({barColors:{0:"rgb(247 87 140)",.5:"rgb(247 87 140)","1.0":"rgb(247 87 140)"},shadowBlur:5});var k=function(e){var t=e.children,n=Object(r.useState)(!1),i=Object(O.a)(n,2),a=i[0],l=i[1],c=Object(r.useState)(""),s=Object(O.a)(c,2),u=s[0],p=s[1],d=Object(E.e)();return Object(r.useEffect)((function(){l(!1)}),[u]),Object(r.useEffect)((function(){p(d.pathname),l(!0),d.pathname===u&&p("")}),[d]),o.a.createElement(o.a.Fragment,null,a&&o.a.createElement(w.a,{color:"#f11946"}),t)},T=n(1178),j=n(408),S=Object(j.a)(T.a)((function(){return{justifyContent:"space-between",background:"white"}})),R=n(14),D=n(33),L=(n(8),n(63)),K=n(1164),M=n(42),I=n(1156),P=n(1184),_=n(1158),A=n(1159),z=n(1160),F=n(132),N=n(1185),B=n(477),W=n(1162),H=n(1153),V=n(1154),U=n(1155),G=n(1186),Y=n(1163),Z=n(1187),J=n(199),q=n.n(J),X=n(200),Q=n.n(X),$=n(158),ee=n.n($),te=n(206),ne=n.n(te),re=n(263),oe=n.n(re),ie=n(106),ae=n.n(ie),le=n(201),ce=n.n(le),se=n(202),ue=n.n(se),pe=n(203),de=n.n(pe),me=n(204),fe=n.n(me),ge=n(205),he=n.n(ge),ye=n(415),be=n.n(ye),xe=n(416),ve=n.n(xe),Ee=n(1119),Oe=n(11),Ce=n.n(Oe),we=n(141),ke=n.n(we),Te=n(194),je=n.n(Te),Se=n(108),Re=n.n(Se),De=n(195),Le=n.n(De),Ke=n(120),Me=n.n(Ke),Ie=n(1118),Pe=n(280),_e=Object(j.a)("nav",{shouldForwardProp:function(e){return"open"!==e}})((function(e){e.theme;var t=e.open;return Object(R.a)({padding:"15px"},!t&&{padding:"15px 0"})})),Ae=[{label:"My map",link:"/dashboard",icon:r.createElement(ke.a,null)},{label:"Recent",link:"/recent",icon:r.createElement(je.a,null)},{label:"Favorites",link:"/favorites",icon:r.createElement(Re.a,null)},{label:"Public",link:"/public",icon:r.createElement(Le.a,null)},{label:"Trash",link:"/trash",icon:r.createElement(Me.a,null)}];var ze=Object(Ie.a)((function(e){return{root:{minHeight:48,fontSize:15,borderRadius:0,cursor:"pointer",marginBottom:"2px","&.open":{borderRadius:"10px"},"&.active":{backgroundColor:e.palette.primary.main,color:e.palette.secondary.contrastText+"!important",pointerEvents:"none","& .list-item-text-primary":{color:"inherit"},"& .list-item-icon":{color:"inherit"}},"&:hover":{backgroundColor:e.palette.primary.light},"& .list-item-icon":{},"& .list-item-text":{padding:"0 0 0 16px"},color:"inherit!important",textDecoration:"none!important"}}}),{withTheme:!0})((function(e){var t=e.classes,n=e.open,o=Object(E.e)().pathname;return r.createElement(T.a,null,r.createElement(_e,{open:n},Ae.map((function(e){return r.createElement(Ee.a,{button:!0,key:e.label,component:b.c,to:e.link,className:Ce()(t.root,{open:n,active:o===e.link}),onClick:function(){}},r.createElement(H.a,{style:{color:"inherit",paddingRight:1}},e.icon),r.createElement(V.a,{primary:e.label,primaryTypographyProps:{fontWeight:"medium"}}))}))),r.createElement(Ne,null))})),Fe=Object(Pe.a)((function(e){return{root:{position:"absolute",left:0,right:0,bottom:0,margin:"10px",padding:"15px",borderRadius:"10px",backgroundColor:"rgba(255, 255, 255, 0.15)"},title:{fontSize:"18px"},text:{whiteSpace:"normal",lineHeight:2},button:{padding:"5px 15px",textTransform:"capitalize",borderRadius:"50px",color:"white",backgroundColor:"rgb(255, 170, 0)","&:hover":{backgroundColor:"rgb(247 194 87)"}}}}));function Ne(){var e=Fe();return r.createElement("div",{className:e.root},r.createElement("div",null,r.createElement("div",{className:e.title},"Go Pro"),r.createElement("div",{className:e.text},"Get unlimited maps, attached files and images, export to PDF & more.")),r.createElement(U.a,{className:e.button,startIcon:r.createElement(Re.a,null)},"Upgrade"))}var Be=n(47),We=n(49),He=n(35),Ve=n(36),Ue=n(97),Ge=n.n(Ue),Ye=(n(413),new(function(e){Object(Be.a)(n,e);var t=Object(We.a)(n);function n(){var e;Object(He.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).setInterceptors=function(){Ge.a.interceptors.response.use((function(e){return e}),(function(t){return new Promise((function(n,r){throw 401===t.response.status&&t.config&&!t.config.__isRetryRequest&&(e.emit("onAutoLogout","Invalid access_token"),e.setSession(null)),t}))}))},e.handleAuthentication=function(){var t=e.getAccessToken();e.isAuthTokenValid(t)?(e.setSession(t),e.emit("onAutoLogin",!0)):(e.setSession(null),e.emit("onAutoLogout","access_token expired"))},e.createUser=function(t){return new Promise((function(n,r){Ge.a.post("/api/auth/register",t).then((function(t){t.data.user?(e.setSession(t.data.access_token),n(t.data.user)):r(t.data.error)}))}))},e.signInWithEmailAndPassword=function(t,n){return new Promise((function(r,o){Ge.a.get("/api/auth",{data:{email:t,password:n}}).then((function(t){t.data.user?(e.setSession(t.data.access_token),r(t.data.user)):o(t.data.error)}))}))},e.signInWithToken=function(){return new Promise((function(t,n){Ge.a.get("/api/auth/access-token",{data:{access_token:e.getAccessToken()}}).then((function(r){r.data.user?(e.setSession(r.data.access_token),t(r.data.user)):n(r.error)}))}))},e.setSession=function(e){e?(localStorage.setItem("jwt_access_token",e),Ge.a.defaults.headers.common.Authorization="Bearer "+e):(localStorage.removeItem("jwt_access_token"),delete Ge.a.defaults.headers.common.Authorization)},e.logout=function(){e.setSession(null)},e.isAuthTokenValid=function(e){if(!e)return!1;try{return!0}catch(t){return!1}},e.getAccessToken=function(){return window.localStorage.getItem("jwt_access_token")},e}return Object(Ve.a)(n,[{key:"init",value:function(){this.setInterceptors(),this.handleAuthentication()}}]),n}(function(){function e(){Object(He.a)(this,e),this._events={}}return Object(Ve.a)(e,[{key:"on",value:function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)}},{key:"off",value:function(e,t){var n=this._events[e]||[],r=n.indexOf(t);n.splice(r,1)}},{key:"emit",value:function(e,t){(this._events[e]||[]).forEach((function(e){e(t)}))}}]),e}())));function Ze(){return function(e){Ye.logout(),e({type:"TYPE_LOGOUT_USER"})}}var Je=function(e){return{type:"TYPE_SET_USER_DATA",user:e}};function qe(e){var t=e.email,n=e.password;return function(e){return Ye.signInWithEmailAndPassword(t,n).then((function(t){return e(Je(t)),e({type:"TYPE_LOGIN_SUCCESS"})})).catch((function(t){return e({type:"TYPE_LOGIN_ERROR",error:t})}))}}var Xe=function(e){return function(t){return t.auth[e]}},Qe=function(e){return e.layout.sortType},$e=function(e){return e.layout.upgradeType},et=function(e){return{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),backgroundColor:"#293033",color:"white",overflowX:"hidden"}},tt=function(e){return Object(D.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),backgroundColor:"#293033",color:"white",overflowX:"hidden",width:"calc(".concat(e.spacing(7),"px + 1px)")},e.breakpoints.up("sm"),{width:"calc(".concat(e.spacing(7),"px + 1px)")})},nt=Object(j.a)("div")((function(e){var t=e.theme;return Object(R.a)({display:"flex",alignItems:"center",justifyContent:"space-between",padding:t.spacing(3,1)},t.mixins.toolbar)})),rt=Object(j.a)(I.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(R.a)({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})})})),ot=Object(j.a)(P.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(R.a)(Object(R.a)({width:240,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box"},n&&Object(R.a)(Object(R.a)({},et(t)),{},{"& .MuiDrawer-paper":et(t)})),!n&&Object(R.a)(Object(R.a)({},tt(t)),{},{"& .MuiDrawer-paper":tt(t)}))}));function it(e){var t=Object(L.a)(),n=r.useState(!0),o=Object(O.a)(n,2),i=o[0],a=o[1],l=Object(E.e)();var c=function e(t,n){for(var r=0;r<t.length;r++){var o=t[r];if(o.path==n)return o;if(o.children){var i=e(o.children,n);if(i)return i}}}(td,l.pathname);return r.createElement(T.a,{style:{display:"flex"}},r.createElement(_.a,null),r.createElement(rt,{position:"fixed",open:i,style:{backgroundColor:"#293033",color:"black",boxShadow:"none"}},r.createElement(A.a,{style:Object(R.a)({display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:"white"},i&&{borderTopLeftRadius:20})},r.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},r.createElement(z.a,{color:"inherit","aria-label":"open drawer",onClick:function(){a(!0)},edge:"start",style:Object(R.a)({marginRight:"0px",marginLeft:"-20px",width:"52px",height:"52px"},i&&{display:"none"})},r.createElement(q.a,null)),r.createElement(F.a,{variant:"h5",noWrap:!0,component:"div",style:{padding:t.spacing(4,2)}},c&&c.name)),r.createElement(lt,null))),r.createElement(ot,{variant:"permanent",open:i},r.createElement(nt,null,r.createElement("div",{style:{display:"flex",alignItems:"center"}},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:{width:"120px",marginLeft:"10px",color:"white"},viewBox:"0 0 95 36"},r.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(0 2)"},r.createElement("path",{fill:"white",fillRule:"nonzero",d:"M39,10.728 L41.352,10.728 L41.352,12.8 L41.408,12.8 C41.4640003,12.6133324 41.6086655,12.3800014 41.842,12.1 C42.0753345,11.8199986 42.3739982,11.5540013 42.738,11.302 C43.1020018,11.0499987 43.5313309,10.8353342 44.026,10.658 C44.5206691,10.4806658 45.0666637,10.392 45.664,10.392 C46.6533383,10.392 47.4839966,10.5973313 48.156,11.008 C48.8280034,11.4186687 49.3786645,12.0346626 49.808,12.856 C50.2373355,12.0346626 50.8439961,11.4186687 51.628,11.008 C52.4120039,10.5973313 53.2053293,10.392 54.008,10.392 C55.0346718,10.392 55.8746634,10.5599983 56.528,10.896 C57.1813366,11.2320017 57.6946648,11.6753306 58.068,12.226 C58.4413352,12.7766694 58.6979993,13.4019965 58.838,14.102 C58.9780007,14.8020035 59.048,15.5253296 59.048,16.272 L59.048,24 L56.528,24 L56.528,16.608 C56.528,16.1039975 56.4953337,15.618669 56.43,15.152 C56.3646663,14.685331 56.2293344,14.2746684 56.024,13.92 C55.8186656,13.5653316 55.5293352,13.2806677 55.156,13.066 C54.7826648,12.8513323 54.2880031,12.744 53.672,12.744 C52.4586606,12.744 51.5906693,13.1173296 51.068,13.864 C50.5453307,14.6106704 50.284,15.5719941 50.284,16.748 L50.284,24 L47.764,24 L47.764,17.056 C47.764,16.4213302 47.7313337,15.8426693 47.666,15.32 C47.6006663,14.7973307 47.470001,14.3446686 47.274,13.962 C47.077999,13.5793314 46.7980018,13.2806677 46.434,13.066 C46.0699982,12.8513323 45.5800031,12.744 44.964,12.744 C44.5159978,12.744 44.0820021,12.8326658 43.662,13.01 C43.2419979,13.1873342 42.8733349,13.4533316 42.556,13.808 C42.2386651,14.1626684 41.9866676,14.6153306 41.8,15.166 C41.6133324,15.7166694 41.52,16.3653296 41.52,17.112 L41.52,24 L39,24 L39,10.728 Z M61.780333,10.728 L64.300333,10.728 L64.300333,24 L61.780333,24 L61.780333,10.728 Z M61.192333,5.968 C61.192333,5.46399748 61.3743312,5.03000182 61.738333,4.666 C62.1023348,4.30199818 62.5363305,4.12 63.040333,4.12 C63.5443355,4.12 63.9783312,4.30199818 64.342333,4.666 C64.7063348,5.03000182 64.888333,5.46399748 64.888333,5.968 C64.888333,6.47200252 64.7063348,6.90599818 64.342333,7.27 C63.9783312,7.63400182 63.5443355,7.816 63.040333,7.816 C62.5363305,7.816 62.1023348,7.63400182 61.738333,7.27 C61.3743312,6.90599818 61.192333,6.47200252 61.192333,5.968 Z M67.032666,10.728 L69.552666,10.728 L69.552666,12.772 L69.608666,12.772 C69.9260009,12.0626631 70.4766621,11.4886689 71.260666,11.05 C72.0446699,10.6113311 72.9499942,10.392 73.976666,10.392 C74.6113358,10.392 75.2226631,10.489999 75.810666,10.686 C76.3986689,10.882001 76.9119971,11.1853313 77.350666,11.596 C77.7893349,12.0066687 78.1393314,12.5339968 78.400666,13.178 C78.6620006,13.8220032 78.792666,14.5826623 78.792666,15.46 L78.792666,24 L76.272666,24 L76.272666,16.16 C76.272666,15.5439969 76.1886668,15.0166689 76.020666,14.578 C75.8526652,14.1393311 75.6286674,13.784668 75.348666,13.514 C75.0686646,13.243332 74.7466678,13.0473339 74.382666,12.926 C74.0186642,12.8046661 73.640668,12.744 73.248666,12.744 C72.7259967,12.744 72.2406682,12.8279992 71.792666,12.996 C71.3446638,13.1640008 70.9526677,13.4299982 70.616666,13.794 C70.2806643,14.1580018 70.0193336,14.6199972 69.832666,15.18 C69.6459984,15.7400028 69.552666,16.4026628 69.552666,17.168 L69.552666,24 L67.032666,24 L67.032666,10.728 Z M94.628999,24 L92.108999,24 L92.108999,22.096 L92.052999,22.096 C91.5676632,22.8053369 90.9003366,23.355998 90.050999,23.748 C89.2016614,24.140002 88.3290035,24.336 87.432999,24.336 C86.4063272,24.336 85.4776698,24.1586684 84.646999,23.804 C83.8163282,23.4493316 83.1070019,22.9546698 82.518999,22.32 C81.9309961,21.6853302 81.4783339,20.9480042 81.160999,20.108 C80.8436641,19.2679958 80.684999,18.3533383 80.684999,17.364 C80.684999,16.3746617 80.8436641,15.4553376 81.160999,14.606 C81.4783339,13.7566624 81.9309961,13.0193365 82.518999,12.394 C83.1070019,11.7686635 83.8163282,11.2786684 84.646999,10.924 C85.4776698,10.5693316 86.4063272,10.392 87.432999,10.392 C88.3850038,10.392 89.2809948,10.5926647 90.120999,10.994 C90.9610032,11.3953353 91.6049968,11.9413299 92.052999,12.632 L92.108999,12.632 L92.108999,2.832 L94.628999,2.832 L94.628999,24 Z M87.740999,21.984 C88.4130024,21.984 89.019663,21.8673345 89.560999,21.634 C90.102335,21.4006655 90.5596638,21.0833353 90.932999,20.682 C91.3063342,20.2806647 91.5956646,19.7953362 91.800999,19.226 C92.0063334,18.6566638 92.108999,18.0360034 92.108999,17.364 C92.108999,16.6919966 92.0063334,16.0713362 91.800999,15.502 C91.5956646,14.9326638 91.3063342,14.4473353 90.932999,14.046 C90.5596638,13.6446647 90.102335,13.3273345 89.560999,13.094 C89.019663,12.8606655 88.4130024,12.744 87.740999,12.744 C87.0689956,12.744 86.462335,12.8606655 85.920999,13.094 C85.379663,13.3273345 84.9223342,13.6446647 84.548999,14.046 C84.1756638,14.4473353 83.8863334,14.9326638 83.680999,15.502 C83.4756646,16.0713362 83.372999,16.6919966 83.372999,17.364 C83.372999,18.0360034 83.4756646,18.6566638 83.680999,19.226 C83.8863334,19.7953362 84.1756638,20.2806647 84.548999,20.682 C84.9223342,21.0833353 85.379663,21.4006655 85.920999,21.634 C86.462335,21.8673345 87.0689956,21.984 87.740999,21.984 Z"}),r.createElement("path",{fill:"white",d:"M0.103704557,3.33964011 L1.09358565,3.33964011 C1.15086009,3.33964011 1.19729021,3.38607022 1.19729021,3.44334466 L1.19729021,3.89365166 C1.2527205,3.8153062 1.30815005,3.73696191 1.38020954,3.65861645 C1.45226904,3.58027099 1.53818483,3.51032074 1.63795952,3.44876359 C1.7377342,3.38720645 1.85136477,3.33684226 1.97885465,3.29766953 C2.10634452,3.2584968 2.24491839,3.23891073 2.39458041,3.23891073 C2.67727535,3.23891073 2.92809405,3.29766895 3.14704405,3.41518714 C3.36599405,3.53270533 3.53089695,3.717374 3.64175771,3.96919869 C3.78587669,3.70618179 3.96047977,3.51871511 4.16557217,3.40679302 C4.37066458,3.29487094 4.62286902,3.23891073 4.92219307,3.23891073 C5.19380193,3.23891073 5.42244881,3.2850779 5.60814058,3.37741362 C5.79383235,3.46974934 5.94072065,3.5956598 6.04880989,3.75514877 C6.15689913,3.91463774 6.2345005,4.10210442 6.28161632,4.31755444 C6.32873214,4.53300445 6.3522897,4.76384029 6.3522897,5.01006888 L6.3522897,7.31547516 C6.3522897,7.37274961 6.30585959,7.41917972 6.24858514,7.41917972 L5.20881696,7.41917972 C5.15154252,7.41917972 5.1051124,7.37274961 5.1051124,7.31547516 L5.1051124,5.04364534 C5.1051124,4.85337779 5.06492598,4.6896942 4.98455193,4.55258964 C4.90417788,4.41548509 4.7614468,4.34693384 4.55635439,4.34693384 C4.41223541,4.34693384 4.29167614,4.37071692 4.19467298,4.41828381 C4.09766981,4.4658507 4.02006845,4.53160394 3.96186655,4.6155455 C3.90366465,4.69948706 3.86209249,4.79741742 3.83714882,4.9093395 C3.81220515,5.02126159 3.7997335,5.13877802 3.7997335,5.26189231 L3.7997335,7.31547516 C3.7997335,7.37274961 3.75330339,7.41917972 3.69602894,7.41917972 L2.65626076,7.41917972 C2.59898631,7.41917972 2.5525562,7.37274961 2.5525562,7.31547516 L2.5525562,5.26189231 C2.5525562,5.18914295 2.54978472,5.09960663 2.54424169,4.99328065 C2.53869865,4.88695467 2.51929831,4.7862263 2.48604008,4.69109253 C2.45278185,4.59595876 2.39873804,4.51481646 2.32390703,4.44766321 C2.24907602,4.38050996 2.13960266,4.34693384 1.99548368,4.34693384 C1.83473558,4.34693384 1.70447614,4.37631294 1.60470146,4.43507204 C1.50492677,4.49383113 1.42871115,4.57217542 1.37605228,4.67010724 C1.32339342,4.76803907 1.28874996,4.87856047 1.27212084,5.00167476 C1.25549173,5.12478906 1.2471773,5.25349752 1.2471773,5.38780403 L1.2471773,7.31547516 C1.2471773,7.37274961 1.20074719,7.41917972 1.14347274,7.41917972 L0.103704557,7.41917972 C0.0464301116,7.41917972 2.08918844e-17,7.37274961 1.38777878e-17,7.31547516 L0,3.44334466 C1.84208665e-17,3.38607022 0.0464301116,3.33964011 0.103704557,3.33964011 Z M10.7410276,6.79948023 C10.6900458,6.85803924 10.6480969,6.9030308 10.6151809,6.93445493 C10.4544665,7.08788518 10.2684537,7.21308495 10.0571399,7.31005623 C9.75227281,7.44995884 9.43632439,7.51990909 9.10928515,7.51990909 C8.79887503,7.51990909 8.50648416,7.46954491 8.23210379,7.36881503 C7.95772341,7.26808515 7.71937635,7.12398763 7.51705547,6.93651814 C7.31473459,6.74904865 7.15537464,6.52380883 7.03897084,6.26079193 C6.92256704,5.99777503 6.86436602,5.70398396 6.86436602,5.37940991 C6.86436602,5.05483586 6.92256704,4.7610448 7.03897084,4.4980279 C7.15537464,4.235011 7.31473459,4.00977118 7.51705547,3.82230169 C7.71937635,3.63483219 7.95772341,3.49073467 8.23210379,3.39000479 C8.50648416,3.28927492 8.79887503,3.23891073 9.10928515,3.23891073 C9.39752312,3.23891073 9.65942774,3.28927492 9.89500685,3.39000479 C10.130586,3.49073467 10.3301323,3.63483219 10.493652,3.82230169 C10.6571716,4.00977118 10.7832738,4.235011 10.8719624,4.4980279 C10.960651,4.7610448 11.0049946,5.05483586 11.0049946,5.37940991 L11.0049946,5.63566055 C11.0049946,5.71202647 10.9430878,5.77393329 10.8667219,5.77393329 L8.11154331,5.77393329 C8.16143066,6.01456577 8.26951827,6.20622947 8.43580941,6.34893013 C8.60210055,6.49163079 8.80718988,6.56298005 9.05108355,6.56298005 C9.25617595,6.56298005 9.42939329,6.51681288 9.57074075,6.42447716 C9.65799274,6.36747949 9.73837958,6.3003538 9.81190213,6.22309924 C9.82992443,6.20416213 9.85236285,6.17824023 9.87921739,6.14533355 L9.87909053,6.14523003 C9.91415624,6.10226164 9.97679326,6.09442192 10.0213673,6.12742251 L10.7244644,6.64753712 C10.7706482,6.68172948 10.7803692,6.74688724 10.7461768,6.79307104 C10.7445456,6.79527444 10.7428278,6.7974125 10.7410276,6.79948023 Z M23.9458574,6.79948023 C23.8948756,6.85803924 23.8529267,6.9030308 23.8200107,6.93445493 C23.6592963,7.08788518 23.4732835,7.21308495 23.2619697,7.31005623 C22.9571026,7.44995884 22.6411542,7.51990909 22.314115,7.51990909 C22.0037048,7.51990909 21.711314,7.46954491 21.4369336,7.36881503 C21.1625532,7.26808515 20.9242062,7.12398763 20.7218853,6.93651814 C20.5195644,6.74904865 20.3602044,6.52380883 20.2438006,6.26079193 C20.1273968,5.99777503 20.0691958,5.70398396 20.0691958,5.37940991 C20.0691958,5.05483586 20.1273968,4.7610448 20.2438006,4.4980279 C20.3602044,4.235011 20.5195644,4.00977118 20.7218853,3.82230169 C20.9242062,3.63483219 21.1625532,3.49073467 21.4369336,3.39000479 C21.711314,3.28927492 22.0037048,3.23891073 22.314115,3.23891073 C22.6023529,3.23891073 22.8642575,3.28927492 23.0998367,3.39000479 C23.3354158,3.49073467 23.5349621,3.63483219 23.6984818,3.82230169 C23.8620014,4.00977118 23.9881036,4.235011 24.0767922,4.4980279 C24.1654808,4.7610448 24.2098245,5.05483586 24.2098245,5.37940991 L24.2098245,5.63566055 C24.2098245,5.71202647 24.1479176,5.77393329 24.0715517,5.77393329 L21.3163731,5.77393329 C21.3662605,6.01456577 21.4743481,6.20622947 21.6406392,6.34893013 C21.8069304,6.49163079 22.0120197,6.56298005 22.2559134,6.56298005 C22.4610058,6.56298005 22.6342231,6.51681288 22.7755706,6.42447716 C22.8628226,6.36747949 22.9432094,6.3003538 23.0167319,6.22309924 C23.0347542,6.20416213 23.0571927,6.17824023 23.0840472,6.14533355 L23.0839203,6.14523003 C23.1189861,6.10226164 23.1816231,6.09442192 23.2261971,6.12742251 L23.9292942,6.64753712 C23.975478,6.68172948 23.985199,6.74688724 23.9510067,6.79307104 C23.9493754,6.79527444 23.9476576,6.7974125 23.9458574,6.79948023 Z M9.75781735,4.91773362 C9.76336039,4.70508166 9.69407345,4.523211 9.54995446,4.37211618 C9.40583548,4.22102137 9.22014649,4.14547509 8.99288194,4.14547509 C8.85430599,4.14547509 8.73236098,4.16785917 8.62704326,4.21262801 C8.52172554,4.25739684 8.43165253,4.31475605 8.35682152,4.38470735 C8.2819905,4.45465866 8.22378948,4.53580095 8.18221669,4.62813667 C8.14064391,4.72047239 8.11708635,4.81700374 8.11154331,4.91773362 L9.75781735,4.91773362 Z M11.6374357,3.33964011 L12.6772039,3.33964011 C12.7344784,3.33964011 12.7809085,3.38607022 12.7809085,3.44334466 L12.7809085,7.31547516 C12.7809085,7.37274961 12.7344784,7.41917972 12.6772039,7.41917972 L11.6374357,7.41917972 C11.5801613,7.41917972 11.5337312,7.37274961 11.5337312,7.31547516 L11.5337312,3.44334466 C11.5337312,3.38607022 11.5801613,3.33964011 11.6374357,3.33964011 Z M12.1599787,2.96363316 C11.7581626,2.96363316 11.4324263,2.63446141 11.4324263,2.22840749 C11.4324263,1.82235356 11.7581626,1.49318182 12.1599787,1.49318182 C12.5617947,1.49318182 12.887531,1.82235356 12.887531,2.22840749 C12.887531,2.63446141 12.5617947,2.96363316 12.1599787,2.96363316 Z M15.7207921,4.53999847 C15.5378718,4.31055819 15.2967533,4.19583978 14.9974292,4.19583978 C14.8921115,4.19583978 14.7895669,4.22102187 14.6897922,4.27138681 C14.5900175,4.32175175 14.5401309,4.40849006 14.5401309,4.53160435 C14.5401309,4.63233423 14.5914032,4.7064815 14.6939494,4.75404839 C14.7964956,4.80161527 14.9267551,4.84358543 15.0847317,4.8799601 C15.2427082,4.91633478 15.4117684,4.95550692 15.5919171,4.99747771 C15.7720658,5.03944849 15.9411259,5.10520173 16.0991025,5.19473939 C16.2570791,5.28427706 16.3873385,5.4059905 16.4898847,5.55988337 C16.5924309,5.71377624 16.6437033,5.91942999 16.6437033,6.17685078 C16.6437033,6.43986768 16.586888,6.65671347 16.4732557,6.82739465 C16.3596234,6.99807583 16.2141209,7.13517833 16.0367437,7.23870626 C15.8593664,7.34223419 15.6598201,7.41498245 15.4380986,7.45695323 C15.216377,7.49892401 14.9974303,7.51990909 14.7812518,7.51990909 C14.4985569,7.51990909 14.2130947,7.47933794 13.9248568,7.39819443 C13.6366188,7.31705092 13.3927288,7.1729534 13.1931794,6.96589754 L13.9498003,6.11809198 C14.0662041,6.26359069 14.1950778,6.37411209 14.3364253,6.4496595 C14.4777727,6.52520691 14.6426756,6.56298005 14.8311389,6.56298005 C14.9752579,6.56298005 15.1055174,6.54199497 15.2219212,6.50002419 C15.338325,6.45805341 15.396526,6.38110813 15.396526,6.26918604 C15.396526,6.16286006 15.3452536,6.08311677 15.2427074,6.02995378 C15.1401612,5.97679079 15.0099018,5.93202263 14.8519252,5.89564795 C14.6939486,5.85927327 14.5248885,5.82010113 14.3447398,5.77813035 C14.1645911,5.73615957 13.9955309,5.67320434 13.8375544,5.58926277 C13.6795778,5.50532121 13.5493183,5.38640578 13.4467721,5.23251291 C13.3442259,5.07862004 13.2929536,4.8729663 13.2929536,4.6155455 C13.2929536,4.37491302 13.3414545,4.16786026 13.4384576,3.99438103 C13.5354608,3.8209018 13.6629487,3.67820328 13.8209253,3.5662812 C13.9789019,3.45435911 14.1604337,3.37181781 14.3655261,3.31865482 C14.5706185,3.26549183 14.7784793,3.23891073 14.9891147,3.23891073 C15.2551805,3.23891073 15.5240139,3.27808288 15.7956227,3.35642834 C16.0672316,3.43477379 16.2972642,3.5746743 16.4857275,3.77613406 L15.7207921,4.53999847 Z M19.6877764,4.34693384 L18.6939649,4.34693384 L18.6939649,5.70678037 C18.6939649,5.81870246 18.6995079,5.92082983 18.710594,6.01316555 C18.72168,6.10550127 18.7466233,6.18524456 18.7854246,6.25239781 C18.8242259,6.31955106 18.8838126,6.37131425 18.9641867,6.40768893 C19.0445607,6.44406361 19.1512626,6.46225067 19.2842955,6.46225067 C19.350812,6.46225067 19.4381135,6.45525565 19.5462027,6.44126539 C19.5791299,6.43700354 19.6140824,6.42797053 19.6510603,6.41416635 L19.6509039,6.41374753 C19.7047927,6.39363033 19.7647864,6.42100762 19.7849037,6.47489642 C19.7892533,6.48654813 19.7914809,6.49888472 19.7914809,6.51132184 L19.7915411,7.3160312 C19.7915411,7.36247464 19.7606798,7.40326185 19.7159856,7.41588783 C19.564084,7.45879954 19.4451309,7.48507918 19.3591262,7.49472675 C19.2094641,7.51151506 19.0625758,7.51990909 18.9184568,7.51990909 C18.7078214,7.51990909 18.513818,7.49752501 18.3364408,7.45275618 C18.1590636,7.40798734 18.0038608,7.33663808 17.8708279,7.23870626 C17.737795,7.14077443 17.6338646,7.01346497 17.5590336,6.85677405 C17.4842026,6.70008313 17.4467876,6.50981844 17.4467876,6.28597427 L17.4467876,4.34693384 L16.7522987,4.34693384 C16.6950243,4.34693384 16.6485942,4.30050373 16.6485942,4.24322928 L16.6485942,3.44334466 C16.6485942,3.38607022 16.6950243,3.33964011 16.7522987,3.33964011 L17.4467876,3.33964011 L17.4467876,2.23459219 C17.4467876,2.17731774 17.4932177,2.13088763 17.5504922,2.13088763 L18.5902604,2.13088763 C18.6475348,2.13088763 18.6939649,2.17731774 18.6939649,2.23459219 L18.6939649,3.33964011 L19.6877764,3.33964011 C19.7450508,3.33964011 19.7914809,3.38607022 19.7914809,3.44334466 L19.7914809,4.24322928 C19.7914809,4.30050373 19.7450508,4.34693384 19.6877764,4.34693384 Z M22.9475731,4.91773362 C22.9531162,4.70508166 22.8838292,4.523211 22.7397103,4.37211618 C22.5955913,4.22102137 22.4099023,4.14547509 22.1826377,4.14547509 C22.0440618,4.14547509 21.9221168,4.16785917 21.8167991,4.21262801 C21.7114813,4.25739684 21.6214083,4.31475605 21.5465773,4.38470735 C21.4717463,4.45465866 21.4135453,4.53580095 21.3719725,4.62813667 C21.3303997,4.72047239 21.3068421,4.81700374 21.3012991,4.91773362 L22.9475731,4.91773362 Z M24.8105313,3.33964011 L25.8502995,3.33964011 C25.9075739,3.33964011 25.954004,3.38607022 25.954004,3.44334466 L25.954004,3.99438103 L25.9706331,3.99438103 C26.103666,3.74255634 26.2616402,3.55369065 26.4445604,3.42777831 C26.6274807,3.30186596 26.8575133,3.23891073 27.1346652,3.23891073 C27.2067247,3.23891073 27.2787831,3.24170874 27.3508426,3.24730485 C27.3815179,3.24968708 27.4197268,3.25511159 27.4654691,3.26357839 L27.4654859,3.26348777 C27.5146895,3.27259523 27.550391,3.31551145 27.550391,3.36555081 L27.5505483,4.29591044 C27.5505483,4.35327175 27.5040477,4.39977227 27.4466864,4.39977227 C27.4382235,4.39977227 27.4297922,4.3987379 27.4215802,4.39669218 C27.3667174,4.38302504 27.3223519,4.37343402 27.2884838,4.36791912 C27.2025667,4.35392886 27.1124936,4.34693384 27.018262,4.34693384 C26.7799114,4.34693384 26.5914509,4.38050996 26.452875,4.44766321 C26.314299,4.51481646 26.2075971,4.6085498 26.1327661,4.72886604 C26.0579351,4.84918229 26.0094343,4.99327981 25.9872621,5.16116294 C25.96509,5.32904606 25.954004,5.51371474 25.954004,5.71517449 L25.954004,7.31547516 C25.954004,7.37274961 25.9075739,7.41917972 25.8502995,7.41917972 L24.8105313,7.41917972 C24.7532569,7.41917972 24.7068267,7.37274961 24.7068267,7.31547516 L24.7068267,3.44334466 C24.7068267,3.38607022 24.7532569,3.33964011 24.8105313,3.33964011 Z",opacity:".3",transform:"translate(39 25)"}),r.createElement("path",{fill:"#F7578C",d:"M19.9978604,1.05457478 C31.5962188,4.16759596 33.6583755,9.76840829 30.9202182,20.0046146 C28.182061,30.2408209 23.6004979,34.0584464 12.0021396,30.9454252 C0.403781249,27.832404 -1.65837547,22.2315917 1.07978177,11.9953854 C3.817939,1.75917906 8.3995021,-2.05844639 19.9978604,1.05457478 Z"}),r.createElement("path",{fill:"#FFF",d:"M3.01357681,11.1746032 C1.54183651,8.09304546 1.47500454,5.07092644 3.27296549,3.27296549 C5.07092644,1.47500454 8.09304546,1.54183651 11.1746032,3.01357681 C14.2561609,1.54183651 17.2782799,1.47500454 19.0762409,3.27296549 C20.8742018,5.07092644 20.8073698,8.09304546 19.3356295,11.1746032 C20.8073698,14.2561609 20.8742018,17.2782799 19.0762409,19.0762409 C17.2782799,20.8742018 14.2561609,20.8073698 11.1746032,19.3356295 C8.09304546,20.8073698 5.07092644,20.8742018 3.27296549,19.0762409 C1.47500454,17.2782799 1.54183651,14.2561609 3.01357681,11.1746032 Z M4.45796849,8.75207162 C5.03061803,7.95515432 5.69195143,7.1752897 6.43362057,6.43362057 C7.1752897,5.69195143 7.95515432,5.03061803 8.75207162,4.45796849 C7.07868768,3.95072223 5.64489185,4.06169421 4.85329303,4.85329303 C4.06169421,5.64489185 3.95072223,7.07868768 4.45796849,8.75207162 Z M17.8912379,13.5971347 C17.3185883,14.394052 16.6572549,15.1739167 15.9155858,15.9155858 C15.1739167,16.6572549 14.394052,17.3185883 13.5971347,17.8912379 C15.2705187,18.3984841 16.7043145,18.2875121 17.4959133,17.4959133 C18.2875121,16.7043145 18.3984841,15.2705187 17.8912379,13.5971347 Z M4.45796849,13.5971347 C3.95072223,15.2705187 4.06169421,16.7043145 4.85329303,17.4959133 C5.64489185,18.2875121 7.07868768,18.3984841 8.75207162,17.8912379 C7.95515432,17.3185883 7.1752897,16.6572549 6.43362057,15.9155858 C5.69195143,15.1739167 5.03061803,14.394052 4.45796849,13.5971347 Z M5.54454992,11.1746032 C6.16864691,12.236581 6.99599105,13.3173012 8.0139481,14.3352582 C9.03190516,15.3532153 10.1126254,16.1805594 11.1746032,16.8046564 C12.236581,16.1805594 13.3173012,15.3532153 14.3352582,14.3352582 C15.3532153,13.3173012 16.1805594,12.236581 16.8046564,11.1746032 C16.1805594,10.1126254 15.3532153,9.03190516 14.3352582,8.0139481 C13.3173012,6.99599105 12.236581,6.16864691 11.1746032,5.54454992 C10.1126254,6.16864691 9.03190516,6.99599105 8.0139481,8.0139481 C6.99599105,9.03190516 6.16864691,10.1126254 5.54454992,11.1746032 Z M13.5971347,4.45796849 C14.394052,5.03061803 15.1739167,5.69195143 15.9155858,6.43362057 C16.6572549,7.1752897 17.3185883,7.95515432 17.8912379,8.75207162 C18.3984841,7.07868768 18.2875121,5.64489185 17.4959133,4.85329303 C16.7043145,4.06169421 15.2705187,3.95072223 13.5971347,4.45796849 Z",transform:"translate(5 5)"})))),r.createElement(z.a,{onClick:function(){a(!1)}},r.createElement(Q.a,null))),r.createElement(ze,{open:i})),e.children)}function at(){var e,t=Object(x.c)(),n=r.useState(null),o=Object(O.a)(n,2),i=o[0],a=o[1],l=Boolean(i),c=function(){a(null)},s=function(e){return function(){var n;t((n=e,function(e){e({type:"TYPE_SET_SORT_TYPE",sortType:n})}))}};return r.createElement(r.Fragment,null,r.createElement(T.a,{style:{display:"flex",alignItems:"center",textAlign:"center"}},r.createElement("div",{style:{minWidth:30}},r.createElement(N.a,{title:"sort"},r.createElement(z.a,{onClick:function(e){a(e.currentTarget)},size:"small",style:{ml:2},"aria-controls":l?"sort-menu":void 0,"aria-haspopup":"true","aria-expanded":l?"true":void 0},r.createElement(ee.a,null))))),r.createElement(B.a,(e={anchorEl:i,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},id:"sort-menu",open:l,onClose:c,onClick:c,PaperProps:{elevation:0,style:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",borderRadius:10,marginTop:1,"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}}},Object(D.a)(e,"transformOrigin",{horizontal:"right",vertical:"top"}),Object(D.a)(e,"anchorOrigin",{horizontal:"right",vertical:"bottom"}),e),r.createElement(W.a,{onClick:s("grid")},r.createElement(H.a,null,r.createElement(be.a,{fontSize:"small"})),r.createElement(V.a,{primary:"Grid"})),r.createElement(W.a,{onClick:s("list")},r.createElement(H.a,null,r.createElement(ve.a,{fontSize:"small"})),r.createElement(V.a,{primary:"List"}))))}function lt(){var e,t=Object(x.d)(Xe("currentUser")),n=Object(x.d)($e),o=t.data,i=Object(E.e)().pathname,a=Object(x.c)(),l=Object(E.f)(),c=r.useState(null),s=Object(O.a)(c,2),u=s[0],p=s[1],d=Boolean(u),m=function(){p(null)};return r.createElement(r.Fragment,null,r.createElement(T.a,{style:{display:"flex",alignItems:"center",textAlign:"center"}},"/trash"==i&&r.createElement("div",{style:{display:"flex",minWidth:30}},r.createElement(U.a,{variant:"contained",style:{boxShadow:"none",borderRadius:"50px",color:"grey"}},"Empty Trash"),r.createElement("div",{style:{width:"1px",height:"32px",backgroundColor:"rgba(0, 0, 0, 0.1)",marginLeft:"25px",marginRight:"25px"}})),"/public"==i&&r.createElement("div",{style:{display:"flex",alignItems:"center",minWidth:30}},r.createElement("a",{href:"",style:{textDecoration:"underline",color:"#2196f3"}},"Browse all Public Maps"),r.createElement("div",{style:{width:"1px",height:"32px",backgroundColor:"rgba(0, 0, 0, 0.1)",marginLeft:"25px",marginRight:"25px"}})),r.createElement("div",{style:{minWidth:30}},r.createElement(at,null)),r.createElement("div",{style:{minWidth:30}},r.createElement(ct,null)),r.createElement("div",{style:{minWidth:30},onClick:function(){var e;a((e=!n,function(t){t({type:"TYPE_SET_UPGRADE_TYPE",upgradeType:e})}))}},r.createElement(z.a,null,r.createElement(oe.a,null))),r.createElement(N.a,{title:o.displayName},r.createElement(z.a,{onClick:function(e){p(e.currentTarget)},size:"small",style:{ml:2},"aria-controls":d?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":d?"true":void 0},r.createElement(G.a,{style:{width:32,height:32},alt:o.displayName,src:o.photoURL})))),r.createElement(B.a,(e={anchorEl:u,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},id:"account-menu",open:d,onClose:m,onClick:m,PaperProps:{elevation:0,style:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",marginTop:1,"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}}},Object(D.a)(e,"transformOrigin",{horizontal:"right",vertical:"top"}),Object(D.a)(e,"anchorOrigin",{horizontal:"right",vertical:"bottom"}),e),r.createElement(T.a,{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.createElement(G.a,{style:{marginTop:"10px",width:"80px",height:"80px",border:"1px solid grey","& img":{borderRadius:"100%"}},src:o.photoURL}),r.createElement("div",{style:{margin:"15px",fontSize:"20px"}},o.displayName),r.createElement("div",{style:{padding:"0px 20px",width:"250px",fontSize:"17px",lineHeight:"25px",fontWeight:400,letterSpacing:"normal",color:"rgb(138, 148, 153)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center",marginBottom:"10px"}},o.email)),r.createElement(W.a,{onClick:function(){return l("/account/me")}},r.createElement(H.a,null,r.createElement(ae.a,{fontSize:"small"})),r.createElement(V.a,{primary:"Account"})),r.createElement(W.a,null,r.createElement(H.a,null,r.createElement(ce.a,{fontSize:"small"})),r.createElement(V.a,{primary:"Preferences"})),r.createElement(Y.a,null),r.createElement(W.a,null,r.createElement(H.a,null,r.createElement(ue.a,{fontSize:"small"})),r.createElement(V.a,{primary:"Help"})),r.createElement(W.a,null,r.createElement(H.a,null,r.createElement(de.a,{fontSize:"small"})),r.createElement(V.a,{primary:"Apps"})),r.createElement(W.a,null,r.createElement(H.a,null,r.createElement(fe.a,{fontSize:"small"})),r.createElement(V.a,{primary:"Spread the love"})),r.createElement(W.a,{onClick:function(){a(Ze())}},r.createElement(H.a,null,r.createElement(he.a,{fontSize:"small"})),r.createElement(V.a,{primary:"Logout"}))))}function ct(){var e=Object(K.a)((function(e){return{search:Object(D.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(M.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(M.a)(e.palette.common.white,.25)},marginLeft:0,width:0},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(D.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"0",borderRadius:10,"&:focus":{border:"1px solid rgb(0 0 0 / 12%)",borderRadius:10,width:"20ch"}})}}))();return r.createElement("div",{className:e.search},r.createElement("div",{className:e.searchIcon},r.createElement(ne.a,null)),r.createElement(Z.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}}))}function st(){return o.a.createElement(S,null,o.a.createElement(it,null,o.a.createElement(E.b,null)))}var ut=n(1165),pt=n(417),dt=n.n(pt),mt=Object(j.a)("nav",{shouldForwardProp:function(e){return"open"!==e}})((function(e){e.theme;var t=e.open;return Object(R.a)({padding:"15px"},!t&&{padding:"10px 0"})})),ft=[{label:"Me",link:"me",active:!0,icon:r.createElement(ke.a,null)},{label:"MindMeister",link:"mindmeister",active:!1,icon:r.createElement(je.a,null)},{label:"Plan",link:"plan",active:!1,icon:r.createElement(dt.a,null)},{label:"Settings",link:"settings",active:!0,icon:r.createElement(Le.a,null)},{label:"Integrations",link:"/integrations",active:!1,icon:r.createElement(Me.a,null)}];var gt=Object(Ie.a)((function(e){return{root:{minHeight:48,fontSize:15,borderRadius:0,cursor:"pointer",marginBottom:"2px","&.open":{borderRadius:"15px"},"&.active":{backgroundColor:e.palette.primary.main,color:e.palette.secondary.contrastText+"!important",pointerEvents:"none","& .list-item-text-primary":{color:"inherit"},"& .list-item-icon":{color:"inherit"}},"&:hover":{backgroundColor:e.palette.primary.light},"& .list-item-icon":{},"& .list-item-text":{padding:"0 0 0 16px"},color:"inherit!important",textDecoration:"none!important"}}}),{withTheme:!0})((function(e){var t=e.classes,n=e.open,o=Object(E.e)();return r.createElement(T.a,null,r.createElement(mt,{open:n},ft.map((function(e){return r.createElement(Ee.a,{button:!0,key:e.label,component:b.c,to:e.link,className:Ce()(t.root,{open:n,active:o.pathname===e.link}),onClick:function(){},disabled:!e.active},r.createElement(H.a,{style:{color:"inherit",paddingRight:1}},e.icon),r.createElement(V.a,{primary:e.label,primaryTypographyProps:{fontWeight:"medium"}}))}))))})),ht=function(e){return{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),backgroundColor:"#293033",color:"white",overflowX:"hidden"}},yt=function(e){return Object(D.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),backgroundColor:"#293033",color:"white",overflowX:"hidden",width:"calc(".concat(e.spacing(7),"px + 1px)")},e.breakpoints.up("sm"),{width:"calc(".concat(e.spacing(7),"px + 1px)")})},bt=Object(j.a)("div")((function(e){var t=e.theme;return Object(R.a)({display:"flex",alignItems:"center",justifyContent:"space-between",padding:t.spacing(3,1)},t.mixins.toolbar)})),xt=Object(j.a)(I.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(R.a)({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),left:"calc(".concat(t.spacing(7),"px + 1px)"),width:"calc(100vw - ".concat(t.spacing(7),"px - 1px)")},n&&{marginLeft:240,left:0,width:"calc(100% - ".concat(240,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})})})),vt=Object(j.a)(P.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(R.a)(Object(R.a)({width:240,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box"},n&&Object(R.a)(Object(R.a)({},ht(t)),{},{"& .MuiDrawer-paper":ht(t)})),!n&&Object(R.a)(Object(R.a)({},yt(t)),{},{"& .MuiDrawer-paper":yt(t)}))}));function Et(e){Object(L.a)();var t=r.useState(!0),n=Object(O.a)(t,2),o=n[0],i=n[1],a=Object(x.d)(Xe("currentUser")).data,l=Object(E.f)(),c=Object(ut.a)("(min-width:800px)"),s=Object(E.e)();var u=function e(t,n){for(var r=0;r<t.length;r++){var o=t[r];if(o.path==n)return o;if(o.children){var i=e(o.children,n);if(i)return i}}}(td,s.pathname);r.useEffect((function(){i(c)}),[c]);return r.createElement(T.a,{style:{display:"flex"}},r.createElement(_.a,null),r.createElement(xt,{position:"fixed",open:o,style:{backgroundColor:"#293033",color:"black",boxShadow:"none"}},r.createElement(A.a,{style:{display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:"white",minHeight:"64px",borderTopLeftRadius:20}},r.createElement(z.a,{color:"inherit","aria-label":"open drawer",onClick:function(){i(!o)},edge:"start",style:{marginRight:"30px",color:"black"}},r.createElement(q.a,null)),r.createElement(T.a,{style:{display:"flex",justifyContent:"space-between",flex:"1"}},r.createElement(F.a,{variant:"h6",noWrap:!0,component:"div"},u.name),r.createElement(F.a,{variant:"h6",noWrap:!0,component:"div",style:{}},r.createElement(U.a,{onClick:function(){return l("/dashboard")}},"Back to Mainpage"))))),r.createElement(vt,{variant:"permanent",open:o},r.createElement(bt,null,r.createElement("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",flexDirection:"column"}},r.createElement(G.a,{style:Object(R.a)(Object(R.a)({width:"130px",height:"130px"},!o&&{width:"45px",height:"45px"}),{},{mt:2,border:"5px double grey","& img":{borderRadius:"100%"}}),src:a.photoURL}),r.createElement("div",{style:Object(R.a)({marginTop:"30px",fontSize:"17px"},!o&&{display:"none"})},a.displayName))),r.createElement(gt,{open:o})),e.children)}function Ot(){return o.a.createElement(S,null,o.a.createElement(Et,null,o.a.createElement(E.b,null)))}var Ct=Object(Pe.a)((function(e){return{root:{display:"flex"},main:{height:"100vh"},nav:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",alignItems:"center",width:"100%",marginLeft:"auto",marginRight:"auto",padding:"10px 30px","& .logo":{color:"#00AAFF",lineHeight:"140%",maxWidth:"100%","& img":{width:"110px"}}},MenuBtn:{cursor:"pointer",padding:"5px 20px",margin:"0 5px",fontSize:"18px",borderRadius:"45px",border:"1px solid transparent","&:hover":{backgroundColor:"#f1f1f1",borderColor:"#f1f1f1"}},loginButton:{fontWeight:"bold",fontSize:"20px",borderRadius:50,textTransform:"capitalize"},signupButton:{fontWeight:"bold",fontSize:"20px",borderRadius:50,boxShadow:"1px 1px 1px 1px"}}}));function wt(){var e=Ct(),t=r.useState(!1),n=Object(O.a)(t,2),o=n[0],i=n[1];return r.createElement(r.Fragment,null,r.createElement("div",{className:Ce()(e.nav,"site-header")},r.createElement("a",{className:"logo",href:"",title:"Mindmeister"},r.createElement("img",{src:"assets/images/logo/logo.svg",alt:"Mindmerster Logo",style:{padding:"5px"}})),r.createElement("div",{id:"menu-opener",className:Ce()("hamburger-toggle",o&&"open"),onClick:function(){i(!o)}},r.createElement("div",{className:"p-r h-a-center"},r.createElement("span",{className:"line first"}),r.createElement("span",{className:"line h-a-center second"}),r.createElement("span",{className:"line third"}))),r.createElement("div",{id:"responsive-menu",className:Ce()(""),style:{display:"flex",alignItems:"center"}},r.createElement("div",{className:Ce()(""),style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"}},r.createElement("div",null,r.createElement("div",{className:Ce()(e.MenuBtn)},"Products")),r.createElement("div",null,r.createElement("div",{className:Ce()(e.MenuBtn)},"Solutions")),r.createElement("div",null,r.createElement("div",{className:Ce()(e.MenuBtn)},"Pricing")),r.createElement("div",null,r.createElement("div",{className:Ce()(e.MenuBtn)},"Contact Sales"))),r.createElement("div",{className:Ce()(""),style:{display:"flex",justifyContent:"space-end",alignItems:"center"}},r.createElement("div",null,r.createElement(U.a,{className:e.loginButton,color:"primary"},"Log In")),r.createElement("div",null,r.createElement(U.a,{className:e.signupButton,variant:"contained",color:"primary"},"Sign Up"))))),r.createElement("div",{className:"flex"},"Body"))}var kt=n(1166),Tt=n(1182),jt=n(1167),St=n(1168),Rt=n(1169),Dt=n(1170),Lt=n(1171),Kt=n(12),Mt=n(1116),It=n(418),Pt=n.n(It),_t=n(207),At=n.n(_t),zt=n(421),Ft=n.n(zt),Nt=n(422),Bt=n.n(Nt),Wt=n(423),Ht=n.n(Wt),Vt=n(424),Ut=n.n(Vt),Gt=n(419),Yt=n.n(Gt),Zt=n(420),Jt=n.n(Zt),qt=n(425),Xt=n.n(qt),Qt=n(426),$t=n.n(Qt),en=n(208),tn=n.n(en),nn=n(427),rn=n.n(nn),on=n(428),an=n.n(on),ln=n(429),cn=n.n(ln),sn=[{title:"First Mind Map",duration:5,img:"/assets/photo/background3.png",members:10,modified:"2022-01-20"},{title:"Second Mind Map",duration:3,img:"/assets/photo/background1.png",members:10,modified:"2022-01-20"},{title:"Third Mind Map",duration:6,img:"/assets/photo/background2.png",members:10,modified:"2022-01-20"},{title:"Fourth Mind Map",duration:2,img:"/assets/photo/background3.png",members:10,modified:"2022-01-20"},{title:"Fifth Mind Map",duration:5,img:"/assets/photo/background1.png",members:10,modified:"2022-01-20"},{title:"Sixth Mind Map",duration:5,img:"/assets/photo/background2.png",members:10,modified:"2022-01-20"}],un=Object(Pe.a)((function(e){return{root:{flexGrow:1,display:"flex",height:"100vh",padding:30,overflow:"auto"},drawerHeader:Object(R.a)({display:"flex",alignItems:"center",justifyContent:"space-between",padding:e.spacing(5,2)},e.mixins.toolbar),Item:Object(R.a)(Object(R.a)({},e.typography.body2),{},{flex:"auto",display:"flex",flexDirection:"column",justifyContent:"center",backgroundColor:"rgb(10 10 10 / 2%)",textAlign:"center",boxShadow:"none",borderRadius:15,fontSize:11,margin:3,flexGrow:1,flexShrink:1,height:"100px",color:e.palette.text.secondary,"&:hover":{backgroundColor:"#d3d3d3"}})}}));function pn(e){var t=Object(Mt.a)("div")((function(e){var t=e.theme,n=e.active;return Object(R.a)(Object(R.a)({border:"1px solid rgb(0 0 0 / 9%)",borderRadius:15,display:"flex",position:"relative",overflow:"hidden",flexDirection:"column",justifyContent:"space-between","& .active":Object(R.a)({position:"absolute",top:0,left:0,display:"none"},n&&{display:"block"})},n&&{borderColor:t.palette.primary.light}),{},{"&:hover .active":{display:"block"},"& .img":{height:180},"& .detail":{padding:"10px 20px",backgroundColor:"rgba(0, 0, 0, 0.03)","& .title":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:18},"& .duration":{fontSize:14,padding:5,color:"rgb(0 0 0 / 45%)"},"& .btn-group":{display:"flex",justifyContent:"space-between"},"& .share":{height:30,fontSize:12,backgroundColor:"rgb(0 0 0 / 8%)",textTransform:"capitalize",padding:"0px 15px",boxShadow:"none",borderRadius:50},"& .link":{padding:0}},"&:hover .detail":{backgroundColor:"rgba(0, 0, 0, 0.2)"}})})),n=e.title,o=e.duration,i=e.img,a=r.useState({active:!1}),l=Object(O.a)(a,2),c=l[0],s=l[1],u=c.active;[u].filter((function(e){return e})).length;return r.createElement(kt.a,{item:!0,xs:12,xl:6,sm:4,md:3},r.createElement(t,{active:u?1:0},r.createElement(Tt.a,{className:"active",color:"primary",checked:u,onChange:function(e){s(Object(R.a)(Object(R.a)({},c),{},Object(D.a)({},e.target.name,e.target.checked)))},name:"active"}),r.createElement("div",{className:"img"},r.createElement("img",{src:i,alt:"img",style:{height:"100%"}})),r.createElement("div",{className:"detail"},r.createElement("div",{className:"title"},n),r.createElement("div",{className:"duration"},o,"days"),r.createElement("div",{className:"btn-group"},r.createElement(U.a,{className:"share"},r.createElement(Yt.a,{style:{width:15,height:15}}),"Share"),r.createElement(z.a,{className:"link"},r.createElement(Jt.a,null))))))}function dn(){return r.createElement("div",{style:{display:"flex",flexDirection:"column",height:"calc(100% - 150px)",justifyContent:"center",alignItems:"center",color:"rgb(138, 148, 153)"}},r.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",width:"100px",height:"100px",backgroundColor:"#dfdfdf",padding:20}},r.createElement("img",{src:"/assets/images/public.png"})),r.createElement("h4",null,"No Public Maps"),r.createElement("div",null,"You can make maps public via the context menu. Share your creation with the world."),r.createElement(U.a,{variant:"contained",color:"primary",style:{marginTop:20}},"Browse the Public Maps Universe"))}function mn(){return r.createElement("div",{style:{display:"flex",flexDirection:"column",height:"calc(100% - 150px)",justifyContent:"center",alignItems:"center",color:"rgb(138, 148, 153)"}},r.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",width:"100px",height:"100px",backgroundColor:"#dfdfdf",padding:20}},r.createElement(Re.a,{style:{fontSize:40}})),r.createElement("h4",null,"No Favorite Maps"),r.createElement("div",null,"You can favorite maps via the context menu, or simply drag them onto the sidebar item."))}function fn(){return r.createElement("div",{style:{display:"flex",flexDirection:"column",height:"calc(100% - 150px)",justifyContent:"center",alignItems:"center",color:"rgb(138, 148, 153)"}},r.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",width:"100px",height:"100px",backgroundColor:"#dfdfdf",padding:20}},r.createElement(Me.a,{style:{fontSize:40}})),r.createElement("h4",null,"Trash Empty"),r.createElement("div",null,"There are no deleted items."))}Object(Kt.a)((function(e){return{paper:{borderRadius:"4px",boxShadow:"3px 2px 10px 0px grey","& ul":{padding:"5px 0"},"& li":{"& div":{minWidth:0},"& svg":{fontSize:18,color:e.palette.text.secondary,marginRight:e.spacing(1.5)},"&:hover":{backgroundColor:e.palette.primary.light},"&:active":{backgroundColor:Object(M.a)(e.palette.primary.dark,e.palette.action.selectedOpacity)}}}}}))((function(e){return r.createElement(B.a,Object.assign({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},e))})),Object(Kt.a)((function(e){return{root:{"&:focus":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}}))(W.a);function gn(){var e=r.useState(null),t=Object(O.a)(e,2),n=t[0],o=t[1],i=function(){o(null)},a=Object(Pe.a)((function(e){return{Button:{textAlign:"center",fontSize:"20px","&:hover":{boxShadow:"0px 9px 20px -4px ".concat(e.palette.primary.dark)},boxShadow:"none",borderRadius:"15px",padding:0,margin:0,flexGrow:1,flexShrink:1,height:"100px",width:"100%"}}})),l=Object(E.f)(),c=a();return r.createElement("div",null,r.createElement(U.a,{className:c.Button,"aria-controls":"customized-menu","aria-haspopup":"true",variant:"contained",color:"primary",onClick:function(e){o(e.currentTarget)}},r.createElement(At.a,{style:{width:"50px",height:"50px"}})),r.createElement(B.a,{id:"customized-menu",color:"primary",anchorEl:n,open:Boolean(n),onClose:i,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},r.createElement(W.a,{onClick:function(){return l("/mindmap")}},r.createElement(H.a,null,r.createElement(Ft.a,null)),r.createElement(V.a,{primary:"New mind map"})),r.createElement(W.a,{onClick:i},r.createElement(H.a,null,r.createElement(Bt.a,null)),r.createElement(V.a,{primary:"New from template"})),r.createElement(W.a,{onClick:i},r.createElement(H.a,null,r.createElement(Ht.a,null)),r.createElement(V.a,{primary:"New folder"})),r.createElement(Y.a,{style:{my:.5}}),r.createElement(W.a,{onClick:i},r.createElement(H.a,null,r.createElement(Ut.a,null)),r.createElement(V.a,{primary:"Import"}))))}var hn=function(e){var t=un(),n=Object(E.e)(),o=Object(E.f)(),i=n.pathname,a=r.useState(!1),l=Object(O.a)(a,2),c=l[0],s=l[1],u=r.useState(!1),p=Object(O.a)(u,2),d=p[0],m=p[1],f=Object(x.d)(Qe),g=Object(x.d)($e),h=function(e){return function(){s(!0),m(!1),setTimeout((function(){if(s(!1),"mindmap"!==e)return m(!0);o("/mindmap")}),1e3)}};return r.createElement(T.a,{component:"main",className:Ce()(t.root,"")},r.createElement("div",{style:{flex:1}},r.createElement(yn,{loading:c}),r.createElement(bn,{upgrade:d}),r.createElement("div",{className:Ce()(t.drawerHeader)}),"/trash"!=i&&r.createElement(kt.a,{container:!0,spacing:1,style:{cursor:"pointer"}},r.createElement(kt.a,{item:!0,xs:12,xl:6,sm:3,md:2},r.createElement("div",{className:Ce()(t.Item,"")},r.createElement(gn,null))),r.createElement(kt.a,{item:!0,xs:12,xl:6,sm:3,md:2,onClick:h("mindmap")},r.createElement("div",{className:Ce()(t.Item,"")},r.createElement("div",{style:{}},r.createElement("svg",{height:50,viewBox:"0 0 80 60"},r.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(7 8)"},r.createElement("path",{stroke:"#96DB0B",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.467",d:"M34.835 13.193l.615-2.955A7.333 7.333 0 0 1 42.63 4.4h11.637"}),r.createElement("path",{stroke:"#FA0",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.467",d:"M34.842 30.844l.608 2.918a7.333 7.333 0 0 0 7.18 5.838h11.637"}),r.createElement("path",{stroke:"#2BD9D9",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.467",d:"M31.518 13.11l-.43-2.582A7.333 7.333 0 0 0 23.854 4.4H12.467"}),r.createElement("path",{stroke:"#D01F2E",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.467",d:"M31.493 31.044l-.405 2.428a7.333 7.333 0 0 1-7.234 6.128H12.467"}),r.createElement("path",{stroke:"#FFD426",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.467",d:"M42.088 22H63.8"}),r.createElement("path",{stroke:"#A179F2",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.467",d:"M2.2 22h21"}),r.createElement("rect",{width:"10",height:"4",x:"28",y:"20",fill:"#3D474D",rx:"2"}),r.createElement("rect",{width:"15",height:"8.8",x:"41.8",fill:"#96DB0B",rx:"4.4"}),r.createElement("rect",{width:"15",height:"9",x:"10",fill:"#2BD9D9",rx:"4.5"}),r.createElement("rect",{width:"15",height:"9",x:"51.333",y:"17.6",fill:"#FFD426",rx:"4.5"}),r.createElement("rect",{width:"15",height:"9",y:"17.6",fill:"#A179F2",rx:"4.5"}),r.createElement("rect",{width:"14.667",height:"8.8",x:"41.8",y:"35.2",fill:"#FA0",rx:"4.4"}),r.createElement("rect",{width:"15",height:"9",x:"9",y:"35",fill:"#D01F2E",rx:"4.5"})))),r.createElement("div",null,"Mind Map"))),r.createElement(kt.a,{item:!0,xs:12,xl:6,sm:3,md:2,onClick:h("chart")},r.createElement("div",{className:Ce()(t.Item,"")},r.createElement("div",{style:{}},r.createElement("svg",{height:50,viewBox:"0 0 80 60"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("g",{stroke:"#B2BBC0",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.47"},r.createElement("path",{d:"M40 14v6H22a5 5 0 0 0-5 5v3m23-14v6h18a5 5 0 0 1 5 5v3M40 14v14"})),r.createElement("path",{fill:"#FFD426",d:"M35.564 26h8.872c.892 0 1.215.093 1.54.267.327.174.583.43.757.756.174.326.267.65.267 1.54v1.873c0 .892-.093 1.215-.267 1.54-.174.327-.43.583-.756.757-.326.174-.65.267-1.54.267h-8.873c-.892 0-1.215-.093-1.54-.267a1.817 1.817 0 0 1-.757-.756c-.174-.326-.267-.65-.267-1.54v-1.873c0-.892.093-1.215.267-1.54.174-.327.43-.583.756-.757.326-.174.65-.267 1.54-.267z"}),r.createElement("path",{fill:"#FA0",d:"M58.564 26h8.872c.892 0 1.215.093 1.54.267.327.174.583.43.757.756.174.326.267.65.267 1.54v1.873c0 .892-.093 1.215-.267 1.54-.174.327-.43.583-.756.757-.326.174-.65.267-1.54.267h-8.873c-.892 0-1.215-.093-1.54-.267a1.817 1.817 0 0 1-.757-.756c-.174-.326-.267-.65-.267-1.54v-1.873c0-.892.093-1.215.267-1.54.174-.327.43-.583.756-.757.326-.174.65-.267 1.54-.267z"}),r.createElement("path",{fill:"#96DB0B",d:"M12.564 26h8.872c.892 0 1.215.093 1.54.267.327.174.583.43.757.756.174.326.267.65.267 1.54v1.873c0 .892-.093 1.215-.267 1.54-.174.327-.43.583-.756.757-.326.174-.65.267-1.54.267h-8.873c-.892 0-1.215-.093-1.54-.267a1.817 1.817 0 0 1-.757-.756c-.174-.326-.267-.65-.267-1.54v-1.873c0-.892.093-1.215.267-1.54.174-.327.43-.583.756-.757.326-.174.65-.267 1.54-.267z"}),r.createElement("path",{fill:"#FFD426",d:"M35.564 35h8.872c.892 0 1.215.093 1.54.267.327.174.583.43.757.756.174.326.267.65.267 1.54v1.873c0 .892-.093 1.215-.267 1.54-.174.327-.43.583-.756.757-.326.174-.65.267-1.54.267h-8.873c-.892 0-1.215-.093-1.54-.267a1.817 1.817 0 0 1-.757-.756c-.174-.326-.267-.65-.267-1.54v-1.873c0-.892.093-1.215.267-1.54.174-.327.43-.583.756-.757.326-.174.65-.267 1.54-.267z"}),r.createElement("path",{fill:"#3D474D",d:"M35.564 7h8.872c.892 0 1.215.093 1.54.267.327.174.583.43.757.756.174.326.267.65.267 1.54v1.873c0 .892-.093 1.215-.267 1.54-.174.327-.43.583-.756.757-.326.174-.65.267-1.54.267h-8.873c-.892 0-1.215-.093-1.54-.267a1.817 1.817 0 0 1-.757-.756c-.174-.326-.267-.65-.267-1.54V9.563c0-.892.093-1.215.267-1.54.174-.327.43-.583.756-.757.326-.174.65-.267 1.54-.267z"}),r.createElement("path",{fill:"#FA0",d:"M58.564 35h8.872c.892 0 1.215.093 1.54.267.327.174.583.43.757.756.174.326.267.65.267 1.54v1.873c0 .892-.093 1.215-.267 1.54-.174.327-.43.583-.756.757-.326.174-.65.267-1.54.267h-8.873c-.892 0-1.215-.093-1.54-.267a1.817 1.817 0 0 1-.757-.756c-.174-.326-.267-.65-.267-1.54v-1.873c0-.892.093-1.215.267-1.54.174-.327.43-.583.756-.757.326-.174.65-.267 1.54-.267z"}),r.createElement("path",{fill:"#96DB0B",d:"M12.564 35h8.872c.892 0 1.215.093 1.54.267.327.174.583.43.757.756.174.326.267.65.267 1.54v1.873c0 .892-.093 1.215-.267 1.54-.174.327-.43.583-.756.757-.326.174-.65.267-1.54.267h-8.873c-.892 0-1.215-.093-1.54-.267a1.817 1.817 0 0 1-.757-.756c-.174-.326-.267-.65-.267-1.54v-1.873c0-.892.093-1.215.267-1.54.174-.327.43-.583.756-.757.326-.174.65-.267 1.54-.267z"}),r.createElement("path",{fill:"#FFD426",d:"M35.564 44h8.872c.892 0 1.215.093 1.54.267.327.174.583.43.757.756.174.326.267.65.267 1.54v1.873c0 .892-.093 1.215-.267 1.54-.174.327-.43.583-.756.757-.326.174-.65.267-1.54.267h-8.873c-.892 0-1.215-.093-1.54-.267a1.817 1.817 0 0 1-.757-.756c-.174-.326-.267-.65-.267-1.54v-1.873c0-.892.093-1.215.267-1.54.174-.327.43-.583.756-.757.326-.174.65-.267 1.54-.267z"}),r.createElement("path",{fill:"#FA0",d:"M58.564 44h8.872c.892 0 1.215.093 1.54.267.327.174.583.43.757.756.174.326.267.65.267 1.54v1.873c0 .892-.093 1.215-.267 1.54-.174.327-.43.583-.756.757-.326.174-.65.267-1.54.267h-8.873c-.892 0-1.215-.093-1.54-.267a1.817 1.817 0 0 1-.757-.756c-.174-.326-.267-.65-.267-1.54v-1.873c0-.892.093-1.215.267-1.54.174-.327.43-.583.756-.757.326-.174.65-.267 1.54-.267z"}),r.createElement("path",{fill:"#96DB0B",d:"M12.564 44h8.872c.892 0 1.215.093 1.54.267.327.174.583.43.757.756.174.326.267.65.267 1.54v1.873c0 .892-.093 1.215-.267 1.54-.174.327-.43.583-.756.757-.326.174-.65.267-1.54.267h-8.873c-.892 0-1.215-.093-1.54-.267a1.817 1.817 0 0 1-.757-.756c-.174-.326-.267-.65-.267-1.54v-1.873c0-.892.093-1.215.267-1.54.174-.327.43-.583.756-.757.326-.174.65-.267 1.54-.267z"})))),r.createElement("div",null,"Org Chart"))),r.createElement(kt.a,{item:!0,xs:12,xl:6,sm:3,md:2,onClick:h("chart")},r.createElement("div",{className:Ce()(t.Item,"")},r.createElement("div",{style:{}},r.createElement("svg",{height:50,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 60"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"m10.836 21.189.614-2.951a7.333 7.333 0 0 1 7.18-5.838h11.637M10.84 38.839l.61 2.923A7.333 7.333 0 0 0 18.63 47.6h11.637M17.994 30H39.8M47.267 30l.859-4.152A7.333 7.333 0 0 1 55.307 20h3.96m-12 10 .859 4.152A7.333 7.333 0 0 0 55.307 40h3.96M43 30h17",stroke:"#B2BBC0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("rect",{fill:"#D01F2E",x:"4",y:"28",width:"10",height:"4",rx:"2"}),r.createElement("rect",{fill:"#3D474D",x:"17.8",y:"8",width:"15",height:"8.8",rx:"3"}),r.createElement("rect",{fill:"#3D474D",x:"27.333",y:"25.6",width:"15",height:"9",rx:"3"}),r.createElement("rect",{fill:"#3D474D",x:"17.8",y:"43.2",width:"14.667",height:"8.8",rx:"3"}),r.createElement("rect",{fill:"#3ECB3D",x:"59",y:"17",width:"15",height:"6",rx:"2"}),r.createElement("rect",{fill:"#FFAB00",x:"59",y:"27",width:"15",height:"6",rx:"2"}),r.createElement("rect",{fill:"#8A9499",x:"59",y:"37",width:"15",height:"6",rx:"2"})))),r.createElement("div",null,"Project Retrospective"))),r.createElement(kt.a,{item:!0,xs:12,xl:6,sm:3,md:2,onClick:h("chart")},r.createElement("div",{className:Ce()(t.Item,"")},r.createElement("div",{style:{}},r.createElement("svg",{height:50,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 60"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"m41.845 21.143.605-2.905a7.333 7.333 0 0 1 7.18-5.838h11.637",stroke:"#4070FF",strokeWidth:"1.467",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"m41.846 38.863.604 2.9a7.333 7.333 0 0 0 7.18 5.837h11.637",stroke:"#F7578C",strokeWidth:"1.467",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"m38.516 21.097-.428-2.57a7.333 7.333 0 0 0-7.234-6.127H19.467h0",stroke:"#FFD426",strokeWidth:"1.467",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"m38.518 38.891-.43 2.581a7.333 7.333 0 0 1-7.234 6.128H19.467h0",stroke:"#D01F2E",strokeWidth:"1.467",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{stroke:"#A179F2",strokeWidth:"1.467",strokeLinecap:"round",strokeLinejoin:"round",d:"M49.002 30H70.8"}),r.createElement("path",{stroke:"#FA0",strokeWidth:"1.467",strokeLinecap:"round",strokeLinejoin:"round",d:"M9.2 30H31"}),r.createElement("path",{fill:"#3D474D",d:"M35 28h10v4H35z"}),r.createElement("path",{fill:"#4070FF",d:"M48.8 8h15v8.8h-15z"}),r.createElement("path",{fill:"#FFD426",d:"M17 8h15v9H17z"}),r.createElement("path",{fill:"#A179F2",d:"M58.333 25.6h15v9h-15z"}),r.createElement("path",{fill:"#FA0",d:"M7 25.6h15v9H7z"}),r.createElement("path",{fill:"#F7578C",d:"M48.8 43.2h14.667V52H48.8z"}),r.createElement("path",{fill:"#D01F2E",d:"M16 43h15v9H16z"})))),r.createElement("div",null,"Product Launch"))),r.createElement(kt.a,{item:!0,xs:12,xl:6,sm:3,md:2,onClick:h("chart")},r.createElement("div",{className:Ce()(t.Item,"")},r.createElement("div",{style:{}},r.createElement("svg",{height:50,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 60"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"m41.837 21.18.613-2.942a7.333 7.333 0 0 1 7.18-5.838h11.637",stroke:"#4070FF",strokeWidth:"1.467",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"m41.846 38.863.604 2.9a7.333 7.333 0 0 0 7.18 5.837h11.637",stroke:"#F7578C",strokeWidth:"1.467",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{stroke:"#A179F2",strokeWidth:"1.467",strokeLinecap:"round",strokeLinejoin:"round",d:"M48.983 30H70.8"}),r.createElement("rect",{fill:"#3D474D",x:"35",y:"28",width:"10",height:"4",rx:"2"}),r.createElement("rect",{fill:"#4070FF",x:"48.8",y:"8",width:"15",height:"8.8",rx:"4.4"}),r.createElement("rect",{fill:"#A179F2",x:"58.333",y:"25.6",width:"15",height:"9",rx:"4.5"}),r.createElement("rect",{fill:"#F7578C",x:"48.8",y:"43.2",width:"14.667",height:"8.8",rx:"4.4"}),r.createElement("g",{transform:"matrix(-1 0 0 1 38.333 8)"},r.createElement("path",{d:"m.001 13.164.61-2.926A7.333 7.333 0 0 1 7.79 4.4h11.636",stroke:"#96DB0B",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M5.406 16.642c2.13-.522 6.716-.736 13.754-.642",stroke:"#FFD426",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M5.28 27.496c2.134.54 6.76.764 13.88.674",stroke:"#FA0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"m0 30.83.61 2.932A7.333 7.333 0 0 0 7.79 39.6h11.637",stroke:"#D01F2E",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("rect",{fill:"#96DB0B",x:"6.96",width:"15",height:"8.8",rx:"4.4"}),r.createElement("rect",{fill:"#FFD426",x:"12.494",y:"11",width:"15",height:"9",rx:"4.5"}),r.createElement("rect",{fill:"#FA0",x:"12.494",y:"24",width:"15",height:"9",rx:"4.5"}),r.createElement("rect",{fill:"#D01F2E",x:"6.96",y:"35.2",width:"14.667",height:"8.8",rx:"4.4"}))))),r.createElement("div",null,"Monthly Blog Schedule")))),"/dashboard"==i&&("grid"===f?r.createElement(kt.a,Object(D.a)({container:!0,spacing:3,style:{cursor:"pointer"}},"style",{marginTop:10}),sn.map((function(e){return r.createElement(pn,Object.assign({key:e.title},e))}))):r.createElement("div",{style:{marginTop:20}},r.createElement("div",{style:{display:"flex",backgroundColor:"rgb(10 10 10 / 2%)",borderRadius:20,padding:"5px 15px"}},r.createElement("div",{style:{flex:1}},"Name"),r.createElement("div",{style:{width:"100px"}},"Members"),r.createElement("div",{style:{width:"230px"}},"Modified")),r.createElement("div",{style:{}},sn.map((function(e){var t=Object(Mt.a)("div")((function(e){return{display:"flex",alignItems:"center",borderRadius:20,padding:"15px","&:hover":{backgroundColor:"rgb(10 10 10 / 2%)"}}}));return r.createElement(t,{key:e.title},r.createElement(Tt.a,{color:"primary"}),r.createElement("img",{src:e.img,style:{width:"70px"}}),r.createElement("div",{style:{flex:1}},e.title),r.createElement("div",{style:{width:"100px"}},e.members),r.createElement("div",{style:{width:"200px"}},e.modified),r.createElement(xn,null))}))))),"/trash"==i&&r.createElement(fn,null),"/public"==i&&r.createElement(dn,null),"/favorites"==i&&r.createElement(mn,null)),g&&r.createElement("div",{style:{width:"30%",marginTop:100,height:"100%",paddingLeft:"35px"}},r.createElement("div",{style:{fontSize:25,marginBottom:15}},"Activity"),r.createElement("div",{style:{color:"grey"}},r.createElement("div",null,"Today"),r.createElement("div",{style:{display:"flex",alignItems:"flex-end",flexDirection:"column"}},r.createElement("div",{style:{width:"80%",display:"flex",flexDirection:"column",padding:10,border:"1px solid rgba(0, 0, 0, 0.05)",borderRadius:10}},r.createElement("div",null,"7 minutes ago"),r.createElement("div",{style:{paddingTop:5,paddingBottom:5,color:"black"}},"You are missing out!"),r.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"20px",backgroundColor:"rgb(230, 247, 255)",borderRadius:20}},r.createElement("img",{src:"/assets/images/svg/upgradeEmail.png",style:{width:80,height:80}})),r.createElement("div",{style:{marginTop:10}},"Be the first to learn about our latest updates, feature releases, and MindMeister tips!"))))))};function yn(e){var t=e.loading,n=r.useState(!1),o=Object(O.a)(n,2),i=o[0],a=o[1];return r.useEffect((function(){a(t)}),[t]),r.createElement("div",null,r.createElement(jt.a,{open:i,onClose:function(){a(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.createElement(St.a,{id:"alert-dialog-title"}),r.createElement(Rt.a,{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},r.createElement(Pt.a,{type:"spin",color:"blue",style:{width:"50px"}}),r.createElement(Dt.a,{id:"alert-dialog-description"},"Check map from template...")),r.createElement(Lt.a,null)))}function bn(e){var t=e.upgrade,n=r.useState(!1),o=Object(O.a)(n,2),i=o[0],a=o[1];return r.useEffect((function(){a(t)}),[t]),r.createElement("div",null,r.createElement(jt.a,{open:i,onClose:function(){a(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.createElement("div",{id:"alert-dialog-title",style:{padding:12,fontSize:25,width:400,display:"flex",justifyContent:"space-start",alignItems:"center",backgroundImage:"linear-gradient(90deg, rgb(255, 187, 51), rgb(255, 170, 0))",color:"white"}},r.createElement(Xt.a,null),"Personal"),r.createElement("div",{style:{padding:20}},r.createElement("div",{style:{fontSize:30,fontWeight:"bold"}},"Upgrade Now"),r.createElement("div",{style:{color:"#c3c3c3"}},"for unlimited mind maps")),r.createElement("div",{style:{padding:20}},r.createElement("div",null,"Going persona also gives you:"),r.createElement("div",{style:{color:"#c3c3c3",padding:5,textDecoration:"underline",display:"flex",alignItems:"center"}},r.createElement($t.a,null),"File and Image attachments"),r.createElement("div",{style:{color:"#c3c3c3",padding:5,textDecoration:"underline",display:"flex",alignItems:"center"}},r.createElement(tn.a,null),"Image export"),r.createElement("div",{style:{color:"#c3c3c3",padding:5,textDecoration:"underline",display:"flex",alignItems:"center"}},r.createElement(rn.a,null),"PDF export"),r.createElement("div",{style:{color:"#c3c3c3",padding:5,textDecoration:"underline",display:"flex",alignItems:"center"}},r.createElement(an.a,null),"Mind Map printing"),r.createElement("div",{style:{color:"#c3c3c3",padding:5,textDecoration:"underline",display:"flex",alignItems:"center"}},r.createElement(cn.a,null),"Priority support")),r.createElement("div",{style:{padding:20}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.createElement(U.a,{style:{boxShadow:"none",backgroundColor:"rgb(255, 187, 51)",color:"white"}},"Go Personal"),r.createElement("a",{href:"",style:{textTransform:"capitalize",color:"#c3c3c3"}},"Maybe Later")))))}function xn(e){var t,n=r.useState(null),o=Object(O.a)(n,2),i=o[0],a=o[1],l=Boolean(i),c=function(){a(null)};return r.createElement(r.Fragment,null,r.createElement(T.a,{style:{display:"flex",alignItems:"center",textAlign:"center"}},r.createElement("div",{style:{minWidth:30}},r.createElement(N.a,{title:"sort"},r.createElement(z.a,{onClick:function(e){a(e.currentTarget)},size:"small",style:{ml:2},"aria-controls":l?"sort-menu":void 0,"aria-haspopup":"true","aria-expanded":l?"true":void 0},r.createElement(ee.a,null))))),r.createElement(B.a,(t={anchorEl:i,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},id:"sort-menu",open:l,onClose:c,onClick:c,PaperProps:{elevation:0,style:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",borderRadius:10,marginTop:1,"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}}},Object(D.a)(t,"transformOrigin",{horizontal:"right",vertical:"top"}),Object(D.a)(t,"anchorOrigin",{horizontal:"right",vertical:"bottom"}),t),r.createElement(W.a,null,r.createElement(V.a,{primary:"Open"})),r.createElement(W.a,null,r.createElement(V.a,{primary:"Duplicate"})),r.createElement(W.a,null,r.createElement(V.a,{primary:"Move to trash"})),r.createElement(W.a,null,r.createElement(V.a,{primary:"Move"})),r.createElement(W.a,null,r.createElement(V.a,{primary:"Export"})),r.createElement(W.a,null,r.createElement(V.a,{primary:"Information"}))))}var vn=n(163),En=n(10),On=n(20),Cn=n.n(On),wn=n(149),kn=n(4),Tn=n(40),jn=n(96),Sn=n(94),Rn=n(5),Dn=n(39),Ln=n.n(Dn),Kn=function(e,t){return(Kn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Mn(e,t){function n(){this.constructor=e}Kn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var In=function(){return(In=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Pn(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(l){o={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function _n(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Pn(arguments[t]));return e}Cn()("core:controller");function An(e){var t,n;if(!Array.isArray(e))throw new TypeError("Middleware stack must be an array!");try{for(var r=function(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}(e),o=r.next();!o.done;o=r.next()){if("function"!==typeof o.value)throw new TypeError("Middleware must be composed of functions!")}}catch(i){t={error:i}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return function(t,n){var r=-1;return function o(i){if(i<=r)throw new Error("next() called multiple times");r=i;var a=e[i];i===e.length&&(a=n);if(!a)return null;try{return a(t,o.bind(null,i+1))}catch(l){throw l}}(0)}}var zn,Fn=function(){function e(e){void 0===e&&(e={});var t=e.plugins,n=void 0===t?[]:t,r=e.onChange,o=e.readOnly;this.readOnly=o,this.onChange=r,this.middleware=new Map,function e(t,n){if(Array.isArray(n))n.forEach((function(n){return e(t,n)}));else if(null!=n)for(var r in n){var o=n[r];t.middleware[r]=t.middleware[r]||[],t.middleware[r].push(o)}}(this,function(e){void 0===e&&(e={});var t=e.plugins;return _n(void 0===t?[]:t)}({plugins:n}))}return e.prototype.run=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.middleware,o=r[e]||[];Object(Sn.a)(0!==o.length,"the middleware function "+e+" is not found!");var i=Object(jn.a)(An)(o);return i.apply(void 0,_n(t))},e.prototype.getValue=function(e,t){return this.run("getValue",In(In({},t),{propKey:e}))},e.prototype.change=function(e,t){this.onChange(e,t),this.currentModel=e},e}(),Nn="L",Bn="R",Wn="M";!function(e){e[e.LEFT_TO_RIGHT=0]="LEFT_TO_RIGHT",e[e.RIGHT_TO_LEFT=1]="RIGHT_TO_LEFT",e[e.LEFT_AND_RIGHT=2]="LEFT_AND_RIGHT",e[e.TOP_TO_BOTTOM=3]="TOP_TO_BOTTOM"}(zn||(zn={}));var Hn=0,Vn=1,Un="CONTENT",Gn="DESC",Yn="NORMAL",Zn="EDITING_CONTENT",Jn="EDITING_DESC",qn="SHOW_POPUP",Xn="DRAGGING",Qn="ANCESTOR",$n="DESCENDANT",er="SIBLING",tr="NONE",nr="TOGGLE_COLLAPSE",rr="COLLAPSE_ALL",or="EXPAND_ALL",ir="EXPAND_TO",ar="ADD_CHILD",lr="ADD_EMOJI",cr="ADD_SIBLING",sr="DELETE_TOPIC",ur="FOCUS_TOPIC",pr="SET_FOCUS_MODE",dr="SET_STYLE",mr="SET_THEME",fr="SET_TOPIC_BLOCK",gr="DELETE_TOPIC_BLOCK",hr="START_EDITING_CONTENT",yr="START_EDITING_DESC",br="DRAG_AND_DROP",xr="SET_EDITOR_ROOT";function vr(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}var Er=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mn(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this.get("data")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this.get("type")},enumerable:!0,configurable:!0}),t.create=function(e){return new t(e)},t.createList=function(e){if(Rn.List.isList(e)||Array.isArray(e))return Object(Rn.List)(e.map(t.create));throw new Error("Block.createList only accepts Array or List, but you passed it: "+e)},t}(Object(Rn.Record)({type:null,key:null,data:null})),Or=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mn(t,e),Object.defineProperty(t.prototype,"key",{get:function(){return this.get("key")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentKey",{get:function(){return this.get("parentKey")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collapse",{get:function(){return this.get("collapse")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subKeys",{get:function(){return this.get("subKeys")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"blocks",{get:function(){return this.get("blocks")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relations",{get:function(){return this.get("relations")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this.get("style")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emoji",{get:function(){return this.get("emoji")},enumerable:!0,configurable:!0}),t.prototype.getBlock=function(e){var t=this.blocks.findIndex((function(t){return t.type===e}));return-1===t?{index:t,block:null}:{index:t,block:this.blocks.get(t)}},t.fromJSON=function(e){var n=e.key,r=e.parentKey,o=void 0===r?null:r,i=e.blocks,a=e.subKeys,l=void 0===a?[]:a,c=e.collapse,s=void 0!==c&&c,u=e.emoji;return new t({key:n,parentKey:o,emoji:void 0===u?null:u,collapse:s,subKeys:Object(Rn.List)(l),blocks:Er.createList(i)})},t.create=function(e){var n=e.key,r=e.parentKey,o=void 0===r?null:r,i=e.content,a=void 0===i?"":i,l=e.subKeys,c=void 0===l?[]:l,s=e.collapse,u=void 0!==s&&s,p=e.emoji,d=void 0===p?"":p,m=Er.create({type:Un,data:a,key:null});return new t({key:n,parentKey:o,emoji:d,blocks:Object(Rn.List)([m]),subKeys:Object(Rn.List)(c),collapse:u})},t}(Object(Rn.Record)({key:null,parentKey:null,collapse:!1,subKeys:null,blocks:null,relations:null,style:null,emoji:null}));function Cr(e,t){var n=e.getTopic(t),r=[];if(n.subKeys.size>0){var o=n.subKeys.toArray();r.push.apply(r,_n(o)),r=o.reduce((function(t,n){return t.push.apply(t,_n(Cr(e,n))),t}),r)}return r}function wr(e,t,n){var r=e.getTopic(t),o=e.getTopic(n);if(r&&o){if(r.parentKey==o.parentKey)return er;for(var i=r;i.parentKey;){if(i.parentKey===o.key)return $n;i=e.getParentTopic(i.key)}for(i=o;i.parentKey;){if(i.parentKey===r.key)return Qn;i=e.getParentTopic(i.key)}}return tr}var kr=Cn()("modifier");function Tr(e){var t=e.model,n=e.topicKey,r=e.focusMode;return kr("focus topic"),n!==t.focusKey&&(t=t.set("focusKey",n)),r!==t.focusMode&&(t=t.set("focusMode",r)),t}var jr={addChild:function(e){var t=e.model,n=e.topicKey;kr("addChild:",n);var r=t.getTopic(n);if(r){var o=Or.create({key:vr(),parentKey:r.key});return r=r.set("collapse",!1).update("subKeys",(function(e){return e.push(o.key)})),Tr({model:t=t.update("topics",(function(e){return e.set(n,r).set(o.key,o)})),topicKey:o.key,focusMode:Zn})}return t},addEmoji:function(e){var t=e.model,n=e.topicKey,r=e.emoji,o=e.focusMode;return t.getTopic(n)?Tr({model:t=t.updateIn(["topics",n,"emoji"],(function(e){return r})),topicKey:n,focusMode:o}):t},addSibling:function(e){var t=e.model,n=e.topicKey;if(n===t.rootTopicKey)return t;var r=t.getTopic(n);if(r){var o=t.getTopic(r.parentKey),i=o.subKeys.indexOf(n),a=Or.create({key:vr(),parentKey:o.key});return Tr({model:t=t.update("topics",(function(e){return e.set(a.key,a)})).updateIn(["topics",o.key,"subKeys"],(function(e){return e.insert(i+1,a.key)})),topicKey:a.key,focusMode:Zn})}return t},toggleCollapse:function(e){var t=e.model,n=e.topicKey,r=t.getTopic(n);return r&&0!==r.subKeys.size&&(r=r.merge({collapse:!r.collapse}),t=t.updateIn(["topics",r.key,"collapse"],(function(e){return!e}))),t=Tr({model:t,topicKey:n,focusMode:Yn})},collapseAll:function(e){var t=e.model;kr("collapseAll");var n=Cr(t,t.editorRootTopicKey);return kr(t),t=t.withMutations((function(e){n.forEach((function(t){e.setIn(["topics",t,"collapse"],!0)}))})),kr(t),t},expandAll:function(e){var t=e.model,n=Cr(t,t.editorRootTopicKey);return kr(t),t=t.withMutations((function(e){n.forEach((function(t){e.setIn(["topics",t,"collapse"],!1)}))})),kr(t),t},expandTo:function(e){var t=e.model,n=e.topicKey,r=function(e,t,n){void 0===n&&(n=!1);for(var r=[t],o=e.getTopic(t);o.parentKey;)n?r.push(o.parentKey):r.unshift(o.parentKey),o=e.getParentTopic(o.key);return r}(t,n).filter((function(e){return e!==n}));return wr(t=t.withMutations((function(e){r.forEach((function(t){e.setIn(["topics",t,"collapse"],!1)}))})),n,t.editorRootTopicKey)!==$n&&(t=t.set("editorRootTopicKey",t.rootTopicKey)),t},focusTopic:Tr,setFocusMode:function(e){var t=e.model,n=e.focusMode;return kr("setFocusMode"),n!==t.focusMode&&(t=t.set("focusMode",n)),t},deleteTopic:function(e){var t=e.model,n=e.topicKey;if(n===t.editorRootTopicKey)return t;var r=t.getTopic(n);return r&&(t=t.withMutations((function(e){e.update("topics",(function(e){e=e.delete(n);var r=Cr(t,n);return e=e.withMutations((function(e){r.forEach((function(t){e.delete(t)}))}))})),e.updateIn(["topics",r.parentKey,"subKeys"],(function(e){return e.delete(e.indexOf(n))})),e.focusKey===n&&e.set("focusKey",null).set("focusMode",null)}))),t},setBlockData:function(e){var t=e.model,n=e.topicKey,r=e.blockType,o=e.focusMode,i=e.data,a=t.getTopic(n);if(a){var l=a.getBlock(r),c=l.index,s=l.block;-1===c?t=t.updateIn(["topics",n,"blocks"],(function(e){return e.push(Er.create({type:r,data:i}))})):s.data!==i&&(t=t.updateIn(["topics",n,"blocks",c,"data"],(function(e){return i}))),o&&(t=Tr({model:t,topicKey:n,focusMode:o}))}return t},deleteBlock:function(e){var t=e.model,n=e.topicKey,r=e.blockType,o=t.getTopic(n);if(o){var i=o.getBlock(r).index;-1!==i&&(t=t.updateIn(["topics",n,"blocks"],(function(e){return e.delete(i)}))),t=Tr({model:t,topicKey:null,focusMode:null})}return t},setStyle:function(e){var t=e.model,n=e.topicKey,r=e.style,o=t.getTopic(n);return o&&r!==o.style&&(t=t.updateIn(["topics",n,"style"],(function(e){return r}))),t},setTheme:function(e){var t=e.model,n=e.theme;return t=t.setIn(["config","theme"],n)},setLayoutDir:function(e){var t=e.model,n=e.layoutDir;return t.config.layoutDir===n?t:t=t.setIn(["config","layoutDir"],n)},setEditorRootTopicKey:function(e){var t=e.model,n=e.topicKey;return t.editorRootTopicKey!==n&&(t=t.set("editorRootTopicKey",n)),t.getTopic(n).collapse&&(t=t.setIn(["topics",n,"collapse"],!1)),t},setZoomFactor:function(e){var t=e.model,n=e.zoomFactor;return t.zoomFactor!==n&&(t=t.set("zoomFactor",n)),t}};var Sr={name:"default",randomColor:!1,background:"#f8f8f8",highlightColor:"rgb(0, 170, 255)",marginH:45,marginV:10,contentStyle:{lineHeight:"1.5"},linkStyle:{lineRadius:5},rootTopic:{contentStyle:{background:"#50C18A",color:"#fff",fontSize:"34px",borderRadius:"45px",padding:"16px 18px 16px 18px"},subLinkStyle:{lineType:"curve",lineWidth:"3px",lineColor:"#43a9ff"}},primaryTopic:{contentStyle:{background:"#ffffff",borderRadius:"45px",color:"rgb(103,103,103)",fontSize:"14px",padding:"6px 10px 5px 10px"},subLinkStyle:{lineType:"round",lineRadius:5,lineWidth:"3px",lineColor:"#43a9ff"}},normalTopic:{contentStyle:{background:"#fff",borderRadius:"45px",color:"rgb(103,103,103)",fontSize:"13px",padding:"3px 9px 4px"},subLinkStyle:{lineType:"round",lineRadius:5,lineWidth:"2px",lineColor:"#43a9ff"}}},Rr={readOnly:!1,allowUndo:!0,layoutDir:zn.LEFT_AND_RIGHT,theme:Sr},Dr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mn(t,e),Object.defineProperty(t.prototype,"layoutDir",{get:function(){return this.get("layoutDir")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readOnly",{get:function(){return this.get("readOnly")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowUndo",{get:function(){return this.get("allowUndo")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"theme",{get:function(){return this.get("theme")},enumerable:!0,configurable:!0}),t.fromJSON=function(e){return new t(e)},t}(Object(Rn.Record)(Rr)),Lr={topics:Object(Rn.Map)(),extData:Object(Rn.Map)(),config:null,rootTopicKey:null,editorRootTopicKey:null,focusKey:null,focusMode:null,formatVersion:null,zoomFactor:1},Kr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mn(t,e),t.isModel=function(e){return e instanceof t},t.create=function(e){if(void 0===e&&(e=null),null==e)return t.createEmpty();var n;if(t.isModel(e)&&(n=e),Ln()(e)&&(n=t.fromJSON(e)),n)return null==n.focusKey&&(n=n.set("focusKey",n.rootTopicKey)),null==n.focusMode&&(n=n.set("focusMode",Yn)),n;throw new Error("`Value.create` only accepts objects or values, but you passed it: "+e)},t.createEmpty=function(){var e=new t,n=Or.create({key:vr()});return e.update("topics",(function(e){return e.set(n.key,n)})).set("rootTopicKey",n.key).set("focusKey",n.key).set("focusMode",Yn)},t.fromJSON=function(e){var n=new t,r=e.topics,o=void 0===r?[]:r,i=e.config,a=void 0===i?{}:i,l=e.rootTopicKey,c=e.editorRootTopicKey;return void 0===c&&(c=l),n=(n=n.merge({rootTopicKey:l,editorRootTopicKey:c})).withMutations((function(e){o.forEach((function(t){e.update("topics",(function(e){return e.set(t.key,Or.fromJSON(t))}))})),e.set("config",Dr.fromJSON(a))}))},t.prototype.toJS=function(){return{rootTopicKey:this.rootTopicKey,topics:Object.values(this.topics.toJS()),config:this.config,extData:this.extData,zoomFactor:this.zoomFactor}},Object.defineProperty(t.prototype,"extData",{get:function(){return this.get("extData")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topics",{get:function(){return this.get("topics")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this.get("config")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatVersion",{get:function(){return this.get("formatVersion")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rootTopicKey",{get:function(){return this.get("rootTopicKey")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editorRootTopicKey",{get:function(){return this.get("editorRootTopicKey")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusKey",{get:function(){return this.get("focusKey")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusMode",{get:function(){return this.get("focusMode")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editingContentKey",{get:function(){return this.focusMode===Zn?this.focusKey:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editingDescKey",{get:function(){return this.focusMode===Jn?this.focusKey:null},enumerable:!0,configurable:!0}),t.prototype.getTopic=function(e){return this.topics.get(e)},t.prototype.getExtDataItem=function(e,t){return this.extData.get(e)||new t},t.prototype.getParentTopic=function(e){var t=this.getTopic(e);return t.parentKey?this.getTopic(t.parentKey):null},t.prototype.getTopicVisualLevel=function(e){for(var t=this.getTopic(e),n=0;t&&t.key!==this.editorRootTopicKey;)n++,t=this.getParentTopic(t.key);return n},Object.defineProperty(t.prototype,"rootTopic",{get:function(){return this.getTopic(this.rootTopicKey)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoomFactor",{get:function(){return this.get("zoomFactor")},enumerable:!0,configurable:!0}),t}(Object(Rn.Record)(Lr));n(572),n(573);var Mr;!function(e){e[e.LEFT_TO_RIGHT=0]="LEFT_TO_RIGHT",e[e.RIGHT_TO_LEFT=1]="RIGHT_TO_LEFT",e[e.LEFT_AND_RIGHT=2]="LEFT_AND_RIGHT",e[e.TOP_TO_BOTTOM=3]="TOP_TO_BOTTOM"}(Mr||(Mr={}));const Ir="CONTENT",Pr="DESC",_r="NORMAL",Ar="SET_TOPIC_BLOCK",zr={type:null,key:null,data:null};Object(Rn.Record)(zr);const Fr={readOnly:!1,allowUndo:!0,layoutDir:Mr.LEFT_AND_RIGHT,theme:{name:"default",randomColor:!0,background:"rgb(57,60,65)",highlightColor:"#50C9CE",marginH:60,marginV:20,contentStyle:{lineHeight:"1.5"},linkStyle:{lineRadius:5,lineType:"curve",lineWidth:"3px"},rootTopic:{contentStyle:{fontSize:"34px",borderRadius:"35px",padding:"16px 18px 16px 18px"},subLinkStyle:{lineType:"curve",lineWidth:"3px",lineColor:"rgb(113, 203, 45)"}},primaryTopic:{contentStyle:{borderWidth:"1px",borderStyle:"solid",borderRadius:"20px",fontSize:"17px",padding:"10px 15px 10px 15px"},subLinkStyle:{lineType:"curve",lineWidth:"3px",lineColor:"rgb(113, 203, 45)"}},normalTopic:{contentStyle:{border:"1px solid #e8eaec",borderRadius:"20px",fontSize:"17px",padding:"4px 10px"},subLinkStyle:{lineType:"curve",lineWidth:"3px",lineColor:"white"}}}};class Nr extends(Object(Rn.Record)(Fr)){get layoutDir(){return this.get("layoutDir")}get readOnly(){return this.get("readOnly")}get allowUndo(){return this.get("allowUndo")}get theme(){return this.get("theme")}static fromJSON(e){return new Nr(e)}}const Br={key:null,parentKey:null,collapse:!1,subKeys:null,blocks:null,relations:null,style:null};Object(Rn.Record)(Br);Cn()("modifier");const Wr={topics:Object(Rn.Map)(),extData:Object(Rn.Map)(),config:new Nr,rootTopicKey:null,editorRootTopicKey:null,focusKey:null,focusMode:null,formatVersion:null,zoomFactor:1};Object(Rn.Record)(Wr);Cn()("core:controller");var Hr=n(146),Vr=n(61),Ur=function(e,t){return(Ur=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Gr(e,t){function n(){this.constructor=e}Ur(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Yr=function(){return(Yr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var Zr,Jr,qr,Xr=Cn()("node:text-editor"),Qr=En.default.div(qr||(Zr=["\n  padding: 6px;\n  background-color: ",";\n  cursor: ",";\n  min-width: 50px;\n"],Jr=["\n  padding: 6px;\n  background-color: ",";\n  cursor: ",";\n  min-width: 50px;\n"],Object.defineProperty?Object.defineProperty(Zr,"raw",{value:Jr}):Zr.raw=Jr,qr=Zr),(function(e){return e.readOnly?null:"white"}),(function(e){return e.readOnly?"pointer":"text"})),$r=function(e){function t(t){var n=e.call(this,t)||this;return n.state={content:null},n.onMouseDown=function(e){e.stopPropagation()},n.onMouseMove=function(e){},n.onKeyDown=function(e){},n._handleClick=function(e){!n.root.contains(e.target)&&n.onClickOutSide(e)},n.rootRef=function(e){return function(t){e(t),n.root=t}},n.initState(),n}return Gr(t,e),t.prototype.onChange=function(e){var t=e.value;Xr("onChange",t),this.setState({content:t})},t.prototype.componentDidMount=function(){this.props.readOnly||document.addEventListener("click",this._handleClick)},t.prototype.componentWillUnmount=function(){this.props.readOnly||document.removeEventListener("click",this._handleClick)},t.prototype.onClickOutSide=function(e){},t.prototype.getCustomizeProps=function(){return null},t.prototype.getContent=function(){var e=this.getCustomizeProps().block.data;return null==e?null:("string"===typeof e&&(e=Hr.a.deserialize(e)),e)},t.prototype.initState=function(){var e=this.getContent();this.state={content:e}},t.prototype.render=function(){var e=this.props,t=e.topicKey,n=e.saveRef,o=this.getCustomizeProps(),i=o.readOnly,a=o.getRefKeyFunc,l=o.placeholder,c=o.style;Xr(i);var s=a(t),u=i?this.getContent():this.state.content,p=this.onMouseDown,d=this.onMouseMove,m=this.onKeyDown,f={value:u,readOnly:i,onChange:this.onChange.bind(this),placeholder:l,style:c},g={key:s,readOnly:i,ref:this.rootRef(n(s)),onMouseDown:p,onMouseMove:d,onKeyDown:m};return Object(r.createElement)(Qr,Yr({},g),Object(r.createElement)(Vr.Editor,Yr({},f,{autoFocus:!0})))},t}(r.PureComponent),eo=Cn()("node:topic-content-editor");function to(e){return"content-editor-"+e}var no=function(e){function t(t){var n=e.call(this,t)||this;return n.onKeyDown=function(e){e.nativeEvent.ctrlKey&&"Enter"===e.nativeEvent.code&&n.save()},n}return Gr(t,e),t.prototype.getCustomizeProps=function(){var e=this.props,t=e.model,n=e.topicKey,r=e.readOnly;return{block:t.getTopic(n).getBlock(Ir).block,readOnly:r,getRefKeyFunc:to,placeholder:"new",style:{whiteSpace:"pre"}}},t.prototype.onClickOutSide=function(e){eo("onClickOutSide"),this.save()},t.prototype.save=function(){var e=this.props,t=e.model,n=e.topicKey;t.editingContentKey!==n||this.props.controller.run("operation",Yr(Yr({},this.props),{opType:Ar,blockType:Ir,data:this.state.content,focusMode:_r}))},t}($r),ro=Cn()("node:topic-desc-editor");function oo(e){return"desc-editor-"+e}var io=function(e){function t(t){var n=e.call(this,t)||this;return ro("constructor"),n}return Gr(t,e),t.prototype.initState=function(){e.prototype.initState.call(this);var t=this.props,n=t.controller,r="topic-desc-data-"+t.topicKey,o=this.state.content;n.run("setTempValue",{key:r,value:o})},t.prototype.getCustomizeProps=function(){var e=this.props,t=e.model,n=e.topicKey;return{block:t.getTopic(n).getBlock(Pr).block,readOnly:t.editingDescKey!==n,getRefKeyFunc:oo,placeholder:"write topic notes here"}},t.prototype.onChange=function(e){var t=e.value;ro("onChange");var n=this.props,r=n.controller,o=n.topicKey;if(!(n.model.editingDescKey!==o)){var i="topic-desc-data-"+o;r.run("setTempValue",{key:i,value:t}),this.setState({content:t})}},t}($r);var ao=function(){return{getTopicTitle:function(e){var t=e.model,n=e.controller,r=e.topicKey,o=e.maxLength,i=t.getTopic(r).getBlock(Ir).block,a=n.run("serializeBlockData",Yr(Yr({},e),{block:i}));return null!=o&&(a=a.length>o?a.substr(0,o)+"...":a),a},renderTopicContentEditor:function(e){return Object(r.createElement)(no,Yr({},e))},renderTopicDescEditor:function(e){return Object(r.createElement)(io,Yr({},e))},isBlockEmpty:function(e,t){var n=e.block,r=e.controller;return n.type===Ir||n.type===Pr?null==n.data||""===r.run("serializeBlockData",e):t()},serializeBlockData:function(e,t){var n=e.block;return n.type===Ir||n.type===Pr?"string"===typeof n.data?n.data:Hr.a.serialize(n.data):t()}}},lo=n(1172),co=n(475),so=n(439),uo=n.n(so),po=function(e,t){return(po=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function mo(e,t){function n(){this.constructor=e}po(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var fo=function(){return(fo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function go(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function ho(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function yo(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function bo(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(l){o={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function xo(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(bo(arguments[t]));return e}function vo(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Eo,Oo,Co,wo,ko,To,jo,So,Ro,Do,Lo,Ko,Mo,Io=function(e){function t(t){return e.call(this,t)||this}return mo(t,e),t.prototype.operation=function(e,t){this.props.controller.run("operation",fo({opType:e},t))},t.prototype.run=function(e,t){this.props.controller.run(e,t)},Object.defineProperty(t.prototype,"topic",{get:function(){return this.props.model.getTopic(this.props.topicKey)},enumerable:!0,configurable:!0}),t}(r.PureComponent),Po=Cn()("node:drag-scroll-widget"),_o=En.default.div(Eo||(Eo=vo(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow: scroll;\n"],["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow: scroll;\n"]))),Ao=En.default.div(Oo||(Oo=vo(["\n  position: relative;\n  width: max-content;\n"],["\n  position: relative;\n  width: max-content;\n"]))),zo=function(e){function t(t){var n=e.call(this,t)||this;return n.contentResizeCallback=function(e,t){if(n.oldContentRect){var r={width:n.content.clientWidth+2*n.viewBox.clientWidth,height:n.content.clientHeight+2*n.viewBox.clientHeight};n.bigView.style.width=r.width+"px",n.bigView.style.height=r.height+"px"}n.oldContentRect=e[0].contentRect},n.contentResizeObserver=new vn.a(n.contentResizeCallback),n.contentRef=function(e){e&&(n.content=e,n.contentResizeObserver.observe(n.content))},n.viewBoxRef=function(e){e&&(n.viewBox=e,n.props.enableMouseWheel||(Po("addEventListener onwheel"),n.viewBox.addEventListener("wheel",(function(e){Po("onwheel"),(e.ctrlKey||e.altKey)&&e.preventDefault()}),{passive:!1})),n.setViewBoxScroll(n.viewBox.clientWidth,n.viewBox.clientHeight))},n.bigViewRef=function(e){e&&(n.bigView=e)},n.setWidgetStyle=function(){n.content&&n.viewBox&&n.bigView&&(n.bigView.style.width=2*(n.content.clientWidth+n.viewBox.clientWidth)+"px",n.bigView.style.height=2*(n.content.clientHeight+n.viewBox.clientHeight)+"px",n.content.style.left=n.viewBox.clientWidth+"px",n.content.style.top=n.viewBox.clientHeight+"px")},n.setViewBoxScroll=function(e,t){Po("setViewBoxScroll "+e+" "+t),n.viewBox&&(n.viewBox.scrollLeft=e,n.viewBox.scrollTop=t)},n.setViewBoxScrollDelta=function(e,t){Po("setViewBoxScrollDelta "+e+" "+t),n.viewBox&&(n.viewBox.scrollLeft+=e,n.viewBox.scrollTop+=t)},n.onMouseDown=function(e){var t=n.props,r=t.mouseKey,o=t.needKeyPressed,i=t.canDragFunc;if((!i||i())&&(0===e.button&&"left"===r||2===e.button&&"right"===r)){if(o&&!e.ctrlKey)return;n._lastCoordX=n.viewBox.scrollLeft+e.nativeEvent.clientX,n._lastCoordY=n.viewBox.scrollTop+e.nativeEvent.clientY;var a=n.viewBox;a.addEventListener("mousemove",n.onMouseMove),a.addEventListener("mouseup",n.onMouseUp)}},n.onMouseUp=function(e){var t=n.viewBox;t.removeEventListener("mousemove",n.onMouseMove),t.removeEventListener("mouseup",n.onMouseUp)},n.onMouseMove=function(e){n.viewBox.scrollLeft=n._lastCoordX-e.clientX,n.viewBox.scrollTop=n._lastCoordY-e.clientY},n.handleContextMenu=function(e){e.preventDefault()},n.state={widgetStyle:{width:"10000px",height:"10000px"}},n}return mo(t,e),t.prototype.componentDidMount=function(){this.setWidgetStyle(),document.addEventListener("contextmenu",this.handleContextMenu)},t.prototype.componentWillUnmount=function(){document.removeEventListener("contextmenu",this.handleContextMenu)},t.prototype.setZoomFactor=function(e){this.bigView.style.transform="scale("+e+")",this.bigView.style.transformOrigin="50% 50%"},t.prototype.render=function(){var e=fo({},this.state.widgetStyle);return Object(r.createElement)(_o,{ref:this.viewBoxRef,onMouseDown:this.onMouseDown},Object(r.createElement)("div",{style:e,ref:this.bigViewRef},Object(r.createElement)(Ao,{ref:this.contentRef,style:this.state.contentStyle},this.props.children(this.setViewBoxScroll,this.setViewBoxScrollDelta))))},t.defaultProps={mouseKey:"left",needKeyPressed:!1},t}(r.Component),Fo=Cn()("node:save-ref"),No=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getRef=function(e){return Fo(t),t[e]},t.saveRef=function(e){return function(n){n&&(t[e]=n,t.fireListener(e,n))}},t.deleteRef=function(e){Fo("deleteRef:",e),delete t[e]},t.observers=new Map,t.fireListener=function(e,n){var r,o;if(t.observers.has(e)){var i=t.observers.get(e);try{for(var a=yo(i),l=a.next();!l.done;l=a.next()){(0,l.value)(e,n)}}catch(c){r={error:c}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}}},t.registerRefListener=function(e,n){t.observers.has(e)?t.observers.get(e).push(n):t.observers.set(e,[n])},t}return mo(t,e),t.prototype.render=function(){return this.props.children(this.saveRef,this.getRef,this.deleteRef,this.registerRefListener.bind(this))},t}(r.Component),Bo=En.default.div(Co||(Co=vo(["\n  display: flex;\n  flex-direction: ",";\n  align-items: ",";\n  justify-content: ",";\n"],["\n  display: flex;\n  flex-direction: ",";\n  align-items: ",";\n  justify-content: ",";\n"])),(function(e){return e.flexDirection?e.flexDirection:"row"}),(function(e){return e.alignItems}),(function(e){return e.justifyContent})),Wo=En.default.div(wo||(wo=vo(["\n  margin: ",";\n"],["\n  margin: ",";\n"])),(function(e){return e.margin})),Ho=(En.default.a(ko||(ko=vo(["\n  font-size: 20px !important;\n"],["\n  font-size: 20px !important;\n"]))),En.default.div(To||(To=vo(["\n  padding: 5px;\n  cursor: pointer;\n"],["\n  padding: 5px;\n  cursor: pointer;\n"]))),En.default.div(jo||(jo=vo(["\n  cursor: pointer;\n  &:hover {\n    color: #1ea7fd;\n  }\n"],["\n  cursor: pointer;\n  &:hover {\n    color: #1ea7fd;\n  }\n"])))),Vo=Object(En.default)(wn.e)(So||(So=vo(["\n  margin-bottom: 0px !important;\n"],["\n  margin-bottom: 0px !important;\n"]))),Uo=Object(En.default)(Ho)(Ro||(Ro=vo(["\n  position: absolute;\n  right: 5px;\n  top: 5px;\n  //padding: 5px;\n"],["\n  position: absolute;\n  right: 5px;\n  top: 5px;\n  //padding: 5px;\n"]))),Go=En.default.div(Do||(Do=vo(["\n  height: 16px;\n"],["\n  height: 16px;\n"]))),Yo=En.default.span(Lo||(Lo=vo(["\n  margin: 0px 10px;\n  &:hover {\n    color: palevioletred;\n  }\n"],["\n  margin: 0px 10px;\n  &:hover {\n    color: palevioletred;\n  }\n"]))),Zo=En.default.div(Ko||(Ko=vo(["\n  z-index: ",";\n"],["\n  z-index: ",";\n"])),(function(e){return e.zIndex})),Jo=En.default.div(Mo||(Mo=vo(["\n  min-width: 360px;\n  max-height: 470px;\n  overflow: auto;\n"],["\n  min-width: 360px;\n  max-height: 470px;\n  overflow: auto;\n"]))),qo=Cn()("plugin:event");function Xo(){var e={};return{handleTopicClick:function(e){qo("handleTopicClick");var t=e.controller,n=e.model,r=e.topicKey;qo(n.zoomFactor),null===n.editingDescKey&&n.editingContentKey!==r&&(n.focusKey===r&&n.focusMode===Zn||t.run("operation",fo(fo({},e),{opType:ur,focusMode:Yn})))},handleTopicDoubleClick:function(e){var t=e.controller;null===e.model.editingDescKey&&t.run("operation",fo(fo({},e),{opType:ur,focusMode:Zn}))},handleTopicContextMenu:function(e){e.controller.run("operation",fo(fo({},e),{opType:ur,focusMode:qn}))},handleActiveModalClose:function(e){var t=e.controller,n=t.run("getActiveModalProps",e);return null==n?null:"edit-desc"===n.name?function(){t.run("operation",fo(fo({},e),{focusMode:Yn,opType:ur}))}:void 0},addEventListener:function(t){var n=t.key,r=t.listener,o=t.once,i=t.controller;function a(){r(),i.run("removeEventListener",{key:n,listener:r})}e[n]||(e[n]=[]),o?(a.origin=r,e[n].push(a)):e[n].push(r)},removeEventListener:function(t){var n=t.key,r=t.listener;e[n]&&(e[n]=e[n].filter((function(e){return e!==r&&e.origin!==r})))},fireEvent:function(t){var n=t.key;e[n]&&e[n].forEach((function(e){return e()}))}}}var Qo="close",$o="color-picker",ei="notes",ti="plus",ni="minus",ri="collapse",oi="expand",ii="center",ai="trash";function li(e){return"icon iconfont bm-"+e}function ci(e){return Object(r.createElement)("span",{className:li(e)})}function si(e){return"content-"+e}function ui(e){return"content-editor-"+e}function pi(e){return"desc-editor-"+e}function di(e){return"topic-widget-"+e}function mi(e){return"topic-"+e}function fi(e){return"links-"+e}function gi(e){return"links-svg-"+e}function hi(e){return"collapse-"+e}function yi(e,t){return"dropArea-"+t+"-"+e}var bi="DIAGRAM-ROOT",xi="DragScrollWidget",vi="svg-highlight",Ei="focus-highlight",Oi="drop-effect",Ci="CENTER_ROOT_TOPIC",wi="DIAGRAM_CUSTOMIZE_BASE_Z_INDEX",ki="TOPIC_CONTEXT_MENU_ENABLED",Ti="TOPIC_TITLE",ji=function(e){e.stopPropagation()};function Si(e,t){!function(e,t){var n=document.createElement("a");n.href=e,n.download=t,n.click()}("data:text/plain,"+encodeURIComponent(e),t)}function Ri(e){var t=document.createElement("input");return t.type="file",t.accept=e,new Promise((function(e,n){t.addEventListener("change",(function(t){var r=t.target.files[0],o=new FileReader;o.onload=function(t){var n=t.target.result;e(n)},o.onerror=function(e){n(e.target.error)},o.readAsText(r)})),t.click()}))}function Di(e){var t=e.top,n=void 0===t?0:t,r=e.right,o=void 0===r?0:r,i=e.bottom,a=void 0===i?0:i,l=e.left;return n+"px "+o+"px "+a+"px "+(void 0===l?0:l)+"px"}function Li(e){return(e.top+e.bottom)/2}function Ki(e,t){return(e.x+t.x)/2}function Mi(e,t){return(e.y+t.y)/2}function Ii(e){return[(e.left+e.right)/2,(e.top+e.bottom)/2]}function Pi(e,t,n){void 0===n&&(n=1);var r=e.getBoundingClientRect(),o=Ii(t.getBoundingClientRect()),i=Ii(r);i[0]=(i[0]-o[0])/n,i[1]=(i[1]-o[1])/n;var a=r.width/n,l=r.height/n;return{left:i[0]-a/2,right:i[0]+a/2,top:i[1]-l/2,bottom:i[1]+l/2,width:a,height:l}}function _i(e,t){var n=e.getBoundingClientRect(),r=Ii(t.getBoundingClientRect()),o=Ii(n);return[o[0]-r[0],o[1]-r[1]]}var Ai="ADD_CHILD",zi="ADD_SIBLING",Fi="DELETE_TOPIC",Ni="EDIT_CONTENT",Bi="EDIT_NOTES",Wi="SET_EDITOR_ROOT";function Hi(){return{customizeHotKeys:function(e){var t=function(t){return function(n){!function(e,t){var n=t.topicKey,r=t.model,o=t.controller;void 0===n&&(t=fo(fo({},t),{topicKey:r.focusKey})),o.run("operation",fo(fo({},t),{opType:e}))}(t,e)}};return{topicHotKeys:new Map([[Ai,{label:"add child",combo:"tab",onKeyDown:t(ar)}],[zi,{label:"add sibling",combo:"enter",onKeyDown:t(cr)}],[Fi,{label:"delete topic",combo:"del",onKeyDown:t(sr)}],[Ni,{label:"edit content",combo:"space",onKeyDown:t(hr)}],[Bi,{label:"edit notes",combo:"alt + d",onKeyDown:t(yr)}],[Wi,{label:"set editor root",combo:"alt + shift + f",onKeyDown:t(xr)}]]),globalHotKeys:new Map}}}}var Vi=Cn()("plugin:operation");function Ui(){var e=new Map([[nr,jr.toggleCollapse],[rr,jr.collapseAll],[or,jr.expandAll],[ir,jr.expandTo],[ar,jr.addChild],[lr,jr.addEmoji],[cr,jr.addSibling],[sr,jr.deleteTopic],[ur,jr.focusTopic],[pr,jr.setFocusMode],[dr,jr.setStyle],[mr,jr.setTheme],[fr,jr.setBlockData],[gr,jr.deleteBlock],[hr,function(e){var t=e.model,n=e.topicKey;return jr.focusTopic({model:t,topicKey:n,focusMode:Zn})}],[yr,function(e){var t=e.model,n=e.topicKey,r=t.getTopic(n).getBlock(Gn);return null!=r.block&&null!=r.block.data||(t=jr.setBlockData({model:t,topicKey:n,blockType:Gn,data:""})),t=jr.focusTopic({model:t,topicKey:n,focusMode:Jn})}],[br,function(e){var t=e.srcKey,n=e.dstKey,r=e.dropDir,o=e.model,i=o.getTopic(t),a=o.getTopic(n),l=i.parentKey,c=o.getTopic(l).subKeys,s=c.indexOf(t);if(c=c.delete(s),"in"===r){var u=a.subKeys;u=u.push(t),o=o.withMutations((function(e){e.setIn(["topics",l,"subKeys"],c).setIn(["topics",t,"parentKey"],n).setIn(["topics",n,"subKeys"],u).setIn(["topics",n,"collapse"],!1)}))}else{var p=a.parentKey,d=o.getTopic(p).subKeys,m=d.indexOf(n);if(l===p){var f=Object(Rn.List)();d.forEach((function(e){e!==t&&(f=e===n?"prev"===r?f.push(t).push(e):f.push(e).push(t):f.push(e))})),o=o.withMutations((function(e){e.setIn(["topics",p,"subKeys"],f)}))}else"prev"===r?d=d.insert(m,t):"next"===r&&(d=d.insert(m+1,t)),o=o.withMutations((function(e){e.setIn(["topics",l,"subKeys"],c).setIn(["topics",t,"parentKey"],p).setIn(["topics",p,"subKeys"],d).setIn(["topics",p,"collapse"],!1)}))}return o}],[xr,jr.setEditorRootTopicKey]]),t=Object(Rn.Stack)(),n=Object(Rn.Stack)(),r=!0,o=new Set;return{isOperationEnabled:function(e){return r},enableOperation:function(){r=!0},disableOperation:function(e){var t=e.whiteList;r=!1,t?o=new Set(t):o.clear()},getOpMap:function(t){return e},getAllowUndo:function(e){var t=e.model,n=e.opType;if(n)switch(n){case ur:case hr:case yr:return!1}switch(t.focusMode){case"EDITING_DESC":case"EDITING_CONTENT":return!1}return t.config.allowUndo},getUndoRedoStack:function(){return{undoStack:t,redoStack:n}},setUndoStack:function(e){Vi("setUndoStack",e.undoStack),t=e.undoStack},setRedoStack:function(e){Vi("setRedoStack",e.redoStack),n=e.redoStack},canUndo:function(e){var t=e.controller,n=t.run("getUndoRedoStack",e).undoStack,r=t.run("getAllowUndo",e);return n.size>0&&r},canRedo:function(e){var t=e.controller,n=t.run("getUndoRedoStack",e).redoStack,r=t.run("getAllowUndo",e);return n.size>0&&r},undo:function(e){var t=e.controller,n=e.model;if(t.run("getAllowUndo",e)){var r=t.run("getUndoRedoStack",e),o=r.undoStack,i=r.redoStack,a=o.peek();a&&(t.run("setUndoStack",fo(fo({},e),{undoStack:o.shift()})),t.run("setRedoStack",fo(fo({},e),{redoStack:i.push(n)})),Vi(a),t.change(a))}},redo:function(e){var t=e.controller,n=e.model;if(t.run("getAllowUndo",e)){var r=t.run("getUndoRedoStack",e),o=r.undoStack,i=r.redoStack,a=i.peek();a&&(t.run("setUndoStack",fo(fo({},e),{undoStack:o.push(n)})),t.run("setRedoStack",fo(fo({},e),{redoStack:i.shift()})),t.change(a))}},add:function(e){var t=e.topicKey,n=e.model,r=e.controller;void 0===t&&(e=fo(fo({},e),{topicKey:n.focusKey})),r.run("operation",fo(fo({},e),{opType:ar}))},operation:function(e){var t=e.controller,n=e.opType,r=e.model,i=e.opArray,a=e.callback;if(null!=i&&!Array.isArray(i))throw new Error("operation: the type of opArray must be array!");if(null!=n&&null!=i)throw new Error("operation: opType and opArray conflict!");if(!t.run("isOperationEnabled",e)){if(0===o.size)return;if(null!=i){var l=i.filter((function(e){return!o.has(e.opType)}));if(l&&l.length>0)return}else if(!o.has(n))return}Vi("operation:",n),Vi("operation:",r),Vi("operation:",e);var c,s=t.run("getOpMap",e);if(t.run("beforeOperation",e),t.run("getAllowUndo",e)){var u=t.run("getUndoRedoStack",e).undoStack;t.run("setUndoStack",fo(fo({},e),{undoStack:u.push(r)}))}if(null!=i)c=i.reduce((function(e,n){var r=n.opType;if(!s.has(r))throw new Error("opType:"+r+" not exist!");var o=s.get(r),i=fo(fo({controller:t},n),{model:e}),a=t.run("beforeOpFunction",i);return a=o(fo(fo({},i),{model:a})),a=t.run("afterOpFunction",fo(fo({},i),{model:a}))}),r);else{if(!s.has(n))throw new Error("opType:"+n+" not exist!");var p=s.get(n);c=t.run("beforeOpFunction",e),c=p(fo(fo({},e),{model:c})),c=t.run("afterOpFunction",fo(fo({},e),{model:c}))}Vi("newModel:",c),t.change(c,a),t.run("afterOperation",e)},deleteRefKey:function(e){var t,n,r=e.model,o=e.topicKey,i=e.deleteRef,a=Cr(r,o);a.push(o);try{for(var l=yo(a),c=l.next();!c.done;c=l.next()){var s=c.value;i(fi(s)),i(gi(s)),i(si(s)),i(ui(s)),i(pi(s)),i(di(s)),i(mi(s)),i(hi(s)),i(yi(s,"next")),i(yi(s,"prev"))}}catch(u){t={error:u}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}},beforeOperation:function(e){},afterOperation:function(e){},beforeOpFunction:function(e){var t=e.controller,n=e.opType,r=e.model,o=e.topicKey;return n===sr&&o!==r.editorRootTopicKey&&t.run("deleteRefKey",e),r},afterOpFunction:function(e){return e.model}}}var Gi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mo(t,e),t.prototype.render=function(){var e=this.props.controller;return Object(r.createElement)(wn.n,null,e.run("customizeTopicContextMenu",this.props))},t}(Io),Yi=[{icon:"edit",label:"edit",shortcut:"Space",rootCanUse:!0,opType:hr},{icon:"add-sibling",label:"add sibling",shortcut:"Enter",opType:cr},{icon:"add-child",label:"add child",shortcut:"Tab",rootCanUse:!0,opType:ar},{icon:"notes",label:"edit notes",shortcut:"Alt + D",rootCanUse:!0,opType:yr},{icon:"delete-node",label:"delete node",shortcut:"Del",opType:sr},{icon:"root",label:"set as editor root",shortcut:"Alt + Shift + F",opType:xr}];var Zi,Ji,qi=Cn()("node:topic-drop-effect"),Xi=En.default.svg(Zi||(Zi=vo(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 2;\n  pointer-events: none;\n"],["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 2;\n  pointer-events: none;\n"]))),Qi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={content:null},t}return mo(t,e),t.prototype.layout=function(){var e=this.props,t=this.props,n=t.getRef,o=t.model,i=t.zoomFactor,a=t.controller.run("getDragTargetProps",e),l=a.key,c=a.dropDir;if(qi("layout",c),null!==l){var s=n("in"===c?si(l):yi(l,c)),u=n("svg-drop-effect"),p=n(xi).bigView,d=Pi(s,p,i),m=Pi(u,p,i),f=d.left-m.left-3,g=d.top-m.top-3,h=d.width+6,y=d.height+6;this.setState({content:Object(r.createElement)("g",null,Object(r.createElement)("rect",{x:f,y:g,width:h,height:y,fill:"none",stroke:o.config.theme.highlightColor,strokeDasharray:"5,5",strokeWidth:2}))})}else this.setState({content:null})},t.prototype.render=function(){var e=this.props.saveRef;return Object(r.createElement)(Xi,{ref:e("svg-drop-effect")},this.state.content)},t}(Io),$i=Cn()("plugin:drag-and-drop"),ea=En.default.div(Ji||(Ji=vo(["\n  height: ",";\n  width: 100%;\n  margin: 5px 0px;\n"],["\n  height: ",";\n  width: 100%;\n  margin: 5px 0px;\n"])),(function(e){return e.height+"px"}));function ta(){var e=null,t=null;return{renderTopicDropArea:function(e){var t=e.topicKey,n=e.dropDir,o=e.saveRef,i=e.controller,a=e.model,l={onDragEnter:function(r){$i("onDragEnter",t,n),i.run("handleTopicDragEnter",fo(fo({},e),{ev:r,dropDir:n}))},onDragLeave:function(r){$i("onDragLeave",t,n),i.run("handleTopicDragLeave",fo(fo({},e),{ev:r,dropDir:n}))},onDragOver:function(e){e.preventDefault()},onDrop:function(r){$i("onDrop",t,n),i.run("handleTopicDrop",fo(fo({},e),{ev:r,dropDir:n}))}};return Object(r.createElement)(ea,fo({height:a.config.theme.marginV/2,ref:o(yi(t,n))},l))},renderDragAndDropEffect:function(e){$i("renderDragAndDropEffect");var t=e.saveRef;return Object(r.createElement)(Qi,fo({ref:t(Oi)},e))},getDragTargetProps:function(n){return{key:e,dropDir:t}},handleTopicDragStart:function(e){var t=e.controller;e.ev.stopPropagation(),t.run("operation",fo(fo({},e),{opType:ur,focusMode:Xn}))},canDrop:function(e){var t=e.srcKey,n=e.dstKey,r=e.model,o=e.dropDir;return t!==r.editorRootTopicKey&&t!==n&&wr(r,t,n)!==Qn&&((n!==r.editorRootTopicKey||"in"===o)&&(r.getTopic(t).parentKey!==n||"in"!==o))},handleTopicDragEnter:function(n){var r=n.dropDir,o=n.topicKey,i=n.controller,a=n.model;$i("handleTopicDragEnter:",o,r),i.run("canDrop",fo(fo({},n),{srcKey:a.focusKey,dstKey:o}))&&(e=o,t=r,i.change(a))},handleTopicDragLeave:function(n){var r=n.controller,o=n.model,i=n.topicKey,a=n.dropDir,l=n.getRef,c=n.ev.nativeEvent.relatedTarget;$i("handleTopicDragLeave:",i,a);var s=l(si(i));s==c||s.contains(c)||(e=null,t=null,r.change(o))},handleTopicDrop:function(n){$i("handleTopicDrop");var r=n.controller,o=n.topicKey,i=n.model;n=fo(fo({},n),{srcKey:i.focusKey,dstKey:o}),e=null,t=null,r.run("canDrop",n)&&r.run("operation",fo(fo({},n),{opType:br}))}}}var na,ra,oa,ia,aa,la,ca,sa,ua,pa,da,ma=Object(En.default)(Zo)(na||(na=vo(["\n  position: absolute;\n  width: 20%;\n  padding: 0 5px;\n  background: white;\n  left: 30px;\n  top: 20px;\n  border-radius: 2px;\n"],["\n  position: absolute;\n  width: 20%;\n  padding: 0 5px;\n  background: white;\n  left: 30px;\n  top: 20px;\n  border-radius: 2px;\n"]))),fa=En.default.div(ra||(ra=vo(["\n  max-width: 600px;\n"],["\n  max-width: 600px;\n"]))),ga=En.default.span(oa||(oa=vo([""],[""]))),ha=function(e){function t(t){var n=e.call(this,t)||this;return n.setEditorRootTopicKey=function(e){return function(){var t=n.props,r=t.model,o=t.controller;r.editorRootTopicKey!==e&&o.change(jr.setEditorRootTopicKey({model:r,topicKey:e}))}},n.breadcrumbRenderer=function(e){var t=e.text,n=go(e,["text"]),o=t.length>8,i=o?t.substr(0,8)+"...":t,a={content:Object(r.createElement)(fa,null,t),position:wn.u.BOTTOM_RIGHT},l=Object(r.createElement)(wn.b,fo({},n),Object(r.createElement)(ga,null,i));return o?Object(r.createElement)(wn.x,fo({},a),l):l},n.state={show:!1},n}return mo(t,e),t.prototype.render=function(){var e=this.props,t=e.model,n=e.controller,o=e.zIndex,i=t.editorRootTopicKey;if(i===t.rootTopicKey)return null;for(var a=[],l=t.getTopic(i);null!=l;){var c=n.getValue(Ti,fo(fo({},e),{topicKey:l.key}));a.unshift({text:c,onClick:this.setEditorRootTopicKey(l.key)}),l=t.getTopic(l.parentKey)}var s={items:a,breadcrumbRenderer:this.breadcrumbRenderer};return Object(r.createElement)(ma,{zIndex:o},Object(r.createElement)(wn.c,fo({},s)))},t}(Io),ya=En.default.div(ia||(ia=vo(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  padding: 5px;\n"],["\n  position: relative;\n  display: flex;\n  align-items: center;\n  padding: 5px;\n"]))),ba=En.default.div(aa||(aa=vo(["\n  width: 100%;\n  height: 100%;\n  background: ",";\n"],["\n  width: 100%;\n  height: 100%;\n  background: ",";\n"])),(function(e){return e.theme.background})),xa=function(e){function t(t){var n=e.call(this,t)||this;return n.setZoomFactor=function(e){n.dragScrollWidget.setZoomFactor(e)},n.onWheel=function(e){if(e.altKey||e.ctrlKey){var t=n.props.controller,r=t.run("getZoomFactor",n.props);(r-=e.nativeEvent.deltaY>0?.1:-.1)<.5&&(r=.5),r>4&&(r=4),t.run("setZoomFactor",fo(fo({},n.props),{zoomFactor:r}))}},n}return mo(t,e),t.prototype.renderHotkeys=function(){var e=this.props,t=e.controller,n=e.model,o=t.run("customizeHotKeys",e);if(null===o)return null;if(!(o.topicHotKeys instanceof Map&&o.globalHotKeys instanceof Map))throw new TypeError("topicHotKeys and globalHotKeys must be a Map");var i=[];return n.focusMode!==Yn&&n.focusMode!==qn||o.topicHotKeys.forEach((function(e,t){i.push(Object(r.createElement)(wn.j,fo({key:t},e,{global:!0})))})),o.globalHotKeys.forEach((function(e,t){i.push(Object(r.createElement)(wn.j,fo({key:t},e,{global:!0})))})),Object(r.createElement)(wn.k,null,i)},t.prototype.componentDidMount=function(){var e=this.props,t=e.getRef,n=e.model;e.controller.run("addZoomFactorChangeEventListener",fo(fo({},this.props),{listener:this.setZoomFactor}));var r=t(mi(n.editorRootTopicKey)),o=t("node-layer"),i=r.getBoundingClientRect(),a=o.getBoundingClientRect();this.dragScrollWidget.setViewBoxScrollDelta(0,i.top-a.top-this.dragScrollWidget.viewBox.getBoundingClientRect().height/2+i.height),this.layout()},t.prototype.componentWillUnmount=function(){this.props.controller.run("removeZoomFactorChangeEventListener",fo(fo({},this.props),{listener:this.setZoomFactor}))},Object.defineProperty(t.prototype,"dragScrollWidget",{get:function(){return this.props.getRef(xi)},enumerable:!0,configurable:!0}),t.prototype.componentDidUpdate=function(){this.props.controller.run("fireEvent",fo(fo({},this.props),{key:Ci})),this.layout()},t.prototype.layout=function(){this.props.controller.run("layout",this.props)},t.prototype.render=function(){var e=this,t=this.props,n=t.saveRef,o=t.model,i=t.controller,a=o.editorRootTopicKey;return Object(r.createElement)(ba,{onWheel:this.onWheel},Object(r.createElement)(zo,fo({},this.state,{enableMouseWheel:!1,zoomFactor:o.zoomFactor,ref:n(xi)}),(function(t,o){var l=fo(fo({},e.props),{topicKey:a,setViewBoxScroll:t,setViewBoxScrollDelta:o});return Object(r.createElement)(ya,{ref:n("node-layer")},i.run("renderRootWidget",l))})))},t=ho([wn.l],t)}(r.Component),va=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClose=function(){var e=t.props.controller.run("handleActiveModalClose",t.props);e&&e()},t}return mo(t,e),t.prototype.render=function(){var e=this.props.controller,t=e.run("renderModal",this.props),n=e.run("getActiveModalProps",this.props);return Object(r.createElement)(wn.g,{onClose:this.handleClose,isOpen:null!==t,autoFocus:!0,enforceFocus:!0,usePortal:!0,title:n&&n.title,style:n&&n.style},Object(r.createElement)("div",{className:kn.a.DIALOG_BODY,style:{minHeight:0}},t))},t}(Io),Ea=En.default.svg(la||(la=vo(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 1;\n  pointer-events: none;\n"],["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 1;\n  pointer-events: none;\n"]))),Oa=Cn()("node:root-sub-links"),Ca=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={curves:[]},t}return mo(t,e),t.prototype.layout=function(){var e,t,n,o=this.props,i=o.model,a=o.getRef,l=o.topicKey,c=o.zoomFactor,s=o.controller,u=i.getTopic(l),p=a(si(l)),d=a(gi(l)),m=a(xi).bigView,f=Pi(p,m,c),g=Pi(d,m,c);e={x:(n=f,(n.left+n.right)/2-g.left),y:Li(f)-g.top};var h=[];u.subKeys.forEach((function(n){var i,l=s.run("getLinkStyle",fo(fo({},o),{topicKey:n})),u=l.lineType,p=Pi(a(si(n)),m,c);if(t={x:(t=p.left>f.right?{x:p.left,y:Li(p)}:{x:p.right,y:Li(p)}).x-g.left,y:t.y-g.top},"curve"===u)i="M "+e.x+" "+e.y+" C "+e.x+" "+Mi(e,t)+" "+Ki(e,t)+" "+t.y+" "+t.x+" "+t.y;else if("line"===u)i="M "+e.x+" "+e.y+" L "+t.x+" "+t.y;else if("round"===u){var d=t.y>e.y?1:-1,y=t.x>e.x?1:-1,b=l.lineRadius;if(null==b)throw new Error("link line type is round, but lineRadius is not provided!");i=t.y===e.y?"M "+e.x+" "+e.y+" H "+t.x:"M "+e.x+" "+e.y+"  V "+(t.y-d*b)+" A "+b+" "+b+" 0 0 "+(d*y===1?0:1)+" "+(e.x+b*y)+" "+t.y+" H "+t.x}h.push(Object(r.createElement)("path",{key:"link-"+n,d:i,strokeWidth:l.lineWidth,stroke:l.lineColor,fill:"none"}))})),this.setState({curves:h})},t.prototype.render=function(){Oa("render");var e=this.props,t=e.topicKey,n=e.saveRef;return Object(r.createElement)(Ea,{ref:n(gi(t))},Object(r.createElement)("g",null,this.state.curves))},t}(Io),wa=Cn()("RootNode"),ka=En.default.div(ca||(ca=vo(["\n  display: flex;\n  position: relative;\n\n  align-items: ",";\n  flex-direction: column;\n\n  padding: ",";\n"],["\n  display: flex;\n  position: relative;\n\n  align-items: ",";\n  flex-direction: column;\n\n  padding: ",";\n"])),(function(e){return e.topicDirection===Nn?"flex-end":"flex-start"}),(function(e){return e.topicDirection===Nn?"15px 60px 15px 0px":"15px 0px 15px 60px"})),Ta=En.default.div(sa||(sa=vo(["\n  display: flex;\n  position: relative;\n  align-items: center;\n  z-index: 3;\n"],["\n  display: flex;\n  position: relative;\n  align-items: center;\n  z-index: 3;\n"]))),ja=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mo(t,e),t.prototype.renderPartTopics=function(e,t){var n=this.props,o=n.controller,i=n.saveRef,a=o.run("createSubTopics",fo(fo({},this.props),{dir:t,isRoot:!0,topics:e}));if(!a)return null;var l=a.subTopics,c="bm-layer-"+(t===Nn?"left":"right");return Object(r.createElement)(ka,{topicDirection:t,ref:i(c)},l)},t.prototype.render=function(){wa("render");var e=this.props,t=e.model,n=e.topicKey,o=e.saveRef,i=e.controller,a=i.run("getTopicContentStyle",e),l=t.config,c=i.run("renderTopicContent",fo(fo({},e),{topicStyle:a,dir:Wn})),s=i.run("getPartTopics",{layout:l.layoutDir,model:t,topicKey:n}),u=Object(r.createElement)(Ta,{ref:o(mi(n))},c),p=i.run("renderRootWidgetOtherChildren",e);switch(l.layoutDir){case zn.LEFT_AND_RIGHT:return Object(r.createElement)(r.Fragment,null,this.renderPartTopics(s.L,"L"),u,this.renderPartTopics(s.R,"R"),p);case zn.LEFT_TO_RIGHT:return Object(r.createElement)(r.Fragment,null,u,this.renderPartTopics(s.R,"R"),p);case zn.RIGHT_TO_LEFT:return Object(r.createElement)(r.Fragment,null,this.renderPartTopics(s.L,"L"),u,p);case zn.TOP_TO_BOTTOM:return Object(r.createElement)(r.Fragment,null,u,this.renderPartTopics(s.B,"B"),p)}return null},t}(r.Component),Sa=En.default.div(da||(da=vo(["\n  position: absolute;\n  top: calc(50% - 10px);\n  ",";\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  text-align: center;\n  //@ts-ignore\n  background: ",";\n  cursor: pointer;\n  padding: 0;\n  font-size: 14px;\n  line-height: 20px;\n  border: 0;\n  z-index: 2;\n"],["\n  position: absolute;\n  top: calc(50% - 10px);\n  ",";\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  text-align: center;\n  //@ts-ignore\n  background: ",";\n  cursor: pointer;\n  padding: 0;\n  font-size: 14px;\n  line-height: 20px;\n  border: 0;\n  z-index: 2;\n"])),(function(e){var t=e.dir;return t===Bn?Object(En.css)(ua||(ua=vo(["\n        right: -25px;\n      "],["\n        right: -25px;\n      "]))):t===Nn?Object(En.css)(pa||(pa=vo(["\n        left: -25px;\n      "],["\n        left: -25px;\n      "]))):void 0}),(function(e){return e.background}));function Ra(e){var t,n=e.model,o=e.topicKey,i=e.topicStyle,a=e.dir,l=e.saveRef,c=e.onClickCollapse,s=n.getTopic(o);return s.subKeys.size>0?Object(r.createElement)(Sa,{ref:l(hi(o)),onClick:c,background:i.background,dir:a,className:Ce()((t={icon:!0,iconfont:!0},t["bm-"+(s.collapse?"plus":"minus")]=!0,t))}):null}var Da,La,Ka=Cn()("node:topic-content2"),Ma=En.default.div(Da||(Da=vo(["\n  position: relative;\n"],["\n  position: relative;\n"]))),Ia=En.default.div(La||(La=vo(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: auto;\n  z-index: 10;\n  color: black;\n"],["\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: auto;\n  z-index: 10;\n  color: black;\n"]))),Pa=function(e){Ka("cancelEvent"),e.preventDefault(),e.stopPropagation()};function _a(e){var t,n=e.controller,o=e.model,i=e.topicKey,a=e.getRef,l=o.editingContentKey!==i,c=o.getTopic(i),s=n.run("renderTopicContentEditor",fo(fo({},e),{readOnly:l}));if(l)t=s;else{var u,p={width:50,height:40},d=a("content-editor-"+i);d&&(p=d.getBoundingClientRect());var m=new vn.a((function(e,t){var n=e[0].contentRect;u.style.left=(p.width-n.width)/2+"px",u.style.top=(p.height-n.height)/2+"px"}));Ka(p),t=Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{style:{width:p.width,height:p.height}}),Object(r.createElement)(Ia,{ref:function(e){e&&(u=e,m.observe(u))}},s))}return Object(r.createElement)(Ma,{onDragEnter:Pa,onDragOver:Pa},c.emoji&&Object(r.createElement)("div",{style:{textAlign:"center"}},c.emoji),t)}var Aa,za,Fa,Na=Cn()("node:topic-content-widget"),Ba=En.default.div(Aa||(Aa=vo(["\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  //overflow: hidden;\n  position: relative;\n"],["\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  //overflow: hidden;\n  position: relative;\n"]))),Wa=En.default.div(za||(za=vo(["\n  position: relative;\n"],["\n  position: relative;\n"]))),Ha=function(e){function t(t){var n=e.call(this,t)||this;return n.onDragStart=function(e){n.run("handleTopicDragStart",fo(fo({},n.props),{ev:e}))},n.onDragOver=function(e){e.preventDefault()},n.onDragEnter=function(e){Na("onDragEnter",n.props.topicKey),n.run("handleTopicDragEnter",fo(fo({},n.props),{ev:e,dropDir:"in"}))},n.onDragLeave=function(e){n.run("handleTopicDragLeave",fo(fo({},n.props),{ev:e,dropDir:"in"}))},n.onDrop=function(e){Na("onDrop"),n.run("handleTopicDrop",fo(fo({},n.props),{ev:e,dropDir:"in"}))},n.onClick=function(e){var t=n.props.controller;n.handleTopicClickTimeout=setTimeout((function(){t.run("handleTopicClick",fo(fo({},n.props),{ev:e}))}),200)},n.onDoubleClick=function(e){clearTimeout(n.handleTopicClickTimeout),n.props.controller.run("handleTopicDoubleClick",fo(fo({},n.props),{ev:e}))},n.needRelocation=!1,n.onClickCollapse=function(e){e.stopPropagation();var t=n.props,r=t.topicKey,o=t.getRef;n.needRelocation=!0;var i=o(hi(r)).getBoundingClientRect();Na("oldRect",i),n.oldCollapseIconVector=[i.left+i.width/2,i.top+i.height/2],Na("oldCollapseIconVector",n.oldCollapseIconVector),n.operation(nr,n.props)},n.state={dragEnter:!1},n}return mo(t,e),t.prototype.renderContextMenu=function(){var e=this.props.controller;if(e.getValue(ki,fo({},this.props)))return this.operation(ur,fo(fo({},this.props),{focusMode:qn})),e.run("renderTopicContextMenu",this.props)},t.prototype.onContextMenuClose=function(){},t.prototype.componentDidUpdate=function(){if(this.needRelocation){var e=this.props,t=e.getRef,n=e.topicKey,r=e.setViewBoxScrollDelta,o=t(hi(n)).getBoundingClientRect(),i=[o.left+o.width/2,o.top+o.height/2];Na("newVector:",i),Na("oldVector:",this.oldCollapseIconVector);var a=[i[0]-this.oldCollapseIconVector[0],i[1]-this.oldCollapseIconVector[1]];Na("vector",a),r(a[0],a[1]),this.needRelocation=!1}},t.prototype.render=function(){var e=this.props,t=e.saveRef,n=e.topicKey,o=e.model,i=e.controller,a=e.topicStyle,l=e.dir;Na("render",n,o.focusMode);var c=i.run("isOperationEnabled",e)&&o.editingContentKey!==n,s=i.run("renderTopicCollapseIcon",fo(fo({},e),{onClickCollapse:this.onClickCollapse.bind(this)})),u=i.run("renderTopicDropArea",fo(fo({},e),{dropDir:"prev"})),p=i.run("renderTopicDropArea",fo(fo({},e),{dropDir:"next"})),d={onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this.onDragOver,onDrop:this.onDrop};return Object(r.createElement)(Wa,null,u,Object(r.createElement)(Ba,fo({style:a,draggable:c,ref:t(si(n)),onDragStart:this.onDragStart,onClick:this.onClick,onDoubleClick:this.onDoubleClick},d),i.run("renderTopicBlocks",e),i.run("renderTopicContentOthers",e)),p,l!==Wn&&s)},t=ho([wn.f],t)}(Io),Va=Cn()("node:topic-desc"),Ua=En.default.div(Fa||(Fa=vo(["\n  overflow: auto;\n"],["\n  overflow: auto;\n"])));function Ga(e){var t=e.controller,n=e.model,o=e.topicKey,i=e.getRef,a=n.editingDescKey===o;Va("isEditing",a);var l=n.getTopic(o).getBlock(Gn);if(!a&&t.run("isBlockEmpty",fo(fo({},e),{block:l.block})))return null;var c=t.run("renderTopicDescEditor",e),s=i(bi),u={maxWidth:"800px",maxHeight:"600px"};if(s){var p=s.getBoundingClientRect();u.maxWidth=.6*p.width+"px",u.maxHeight=.8*p.height+"px"}var d={autoFocus:!1,content:Object(r.createElement)(Ua,{onClick:ji,classname:kn.a.POPOVER_DISMISS,style:u},c),target:Object(r.createElement)(Yo,{onClick:function(n){n.stopPropagation(),t.run("operation",fo(fo({},e),{opType:yr}))},className:li(ei),tabIndex:-1}),interactionKind:wn.t.HOVER,hoverOpenDelay:500};return l.block&&Object(r.createElement)(wn.s,fo({},d))}var Ya,Za,Ja,qa,Xa,Qa,$a,el,tl,nl=En.default.div(Ya||(Ya=vo(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 3;\n pointer-events: none;\n"],["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 3;\n pointer-events: none;\n"]))),rl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={content:null},t}return mo(t,e),t.prototype.layout=function(){var e=this.props,t=e.getRef,n=e.model,o=e.zoomFactor,i=n.focusKey,a=n.focusMode;if(i&&a!==Zn){var l=t(si(i)),c=t(xi).bigView,s=t(vi),u=Pi(l,c,o),p=Pi(s,c,o),d=u.left-p.left-6,m=u.top-p.top-6,f=u.width+12,g=u.height+12;this.setState({content:Object(r.createElement)("div",{style:{width:f,height:g,border:"3px solid "+n.config.theme.highlightColor,borderRadius:"50px",borderBottomRightRadius:"0px",position:"absolute",top:m+"px",left:d+"px"}},Object(r.createElement)("div",{id:"settingIcon",style:{zIndex:9,pointerEvents:"auto",display:"flex",justifyContent:"center",alignItems:"center",width:"20px",height:"20px",position:"absolute",right:"0px",top:"4%",...g<100&&{top:"-4%"},border:"2px solid "+n.config.theme.background,backgroundColor:""+n.config.theme.highlightColor,color:"white",borderRadius:"50%"},onMouseOver:function(e){"settingIcon"===e.target.id&&(e.target.style.color=n.config.theme.highlightColor,e.target.style.background=n.config.theme.background,e.target.style.borderColor=n.config.theme.highlightColor)},onMouseOut:function(e){"settingIcon"===e.target.id&&(e.target.style.background=n.config.theme.highlightColor,e.target.style.color=n.config.theme.background,e.target.style.borderColor=n.config.theme.background)}},Object(r.createElement)("div",{style:{pointerEvents:"none",position:"absolute",top:"-5px"}},"...")),Object(r.createElement)("div",{style:{width:"10px",height:"10px",borderRadius:"100%",border:"2px solid "+n.config.theme.highlightColor,position:"absolute",backgroundColor:""+n.config.theme.background,bottom:"-6px",right:"-6px"}}))})}else this.setState({content:null})},t.prototype.render=function(){var e=this.props.saveRef;return Object(r.createElement)(nl,{ref:e(vi)},this.state.content)},t}(Io),ol=En.default.svg(Za||(Za=vo(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 1;\n  pointer-events: none;\n"],["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 1;\n  pointer-events: none;\n"]))),il=Cn()("node:topic-sub-links"),al=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={curves:[]},t}return mo(t,e),t.prototype.layout=function(){var e,t,n,o=this.props,i=o.model,a=o.getRef,l=o.topicKey,c=o.dir,s=o.controller,u=s.run("getZoomFactor",o),p=i.getTopic(l),d=a(si(l)),m=a(gi(l)),f=a(hi(l)),g=a(xi).bigView,h=Pi(m,g,u),y=Pi(f,g,u),b=Pi(d,g,u);il(l),il("svgRect",h),il("collapseRect",y),il("contentRect",b),c===Bn?(e={x:0,y:Li(b)-h.top},t={x:y.right-h.left+10,y:e.y}):c===Nn&&(e={x:h.right-h.left,y:Li(b)-h.top},t={x:y.left-h.left-10,y:e.y});var x=[];p.subKeys.forEach((function(i){var l,d=s.run("getLinkStyle",fo(fo({},o),{topicKey:i})),m=a(si(i));if(m){var f=Pi(m,g,u);c===Bn&&(n={x:f.left-h.left,y:Li(f)-h.top}),c===Nn&&(n={x:f.right-h.left,y:Li(f)-h.top});var y=d.lineType;if("curve"===y)l="M "+e.x+" "+e.y+" L "+t.x+" "+t.y+" C "+t.x+" "+Mi(t,n)+" "+Ki(t,n)+" "+n.y+" "+n.x+" "+n.y;else if("round"===y){var b=n.y>e.y?1:-1,v=n.x>e.x?1:-1,E=d.lineRadius;l=1===p.subKeys.size||Math.abs(n.y-e.y)<=1?"M "+e.x+" "+e.y+" L "+n.x+" "+n.y:"M "+e.x+" "+e.y+" H "+t.x+" V "+(n.y-b*E)+" A "+E+" "+E+" 0 0 "+(b*v===1?0:1)+" "+(t.x+E*v)+" "+n.y+" H "+n.x}else"line"===y&&(l="M "+e.x+" "+e.y+" H "+t.x+" L "+n.x+" "+n.y);x.push(Object(r.createElement)("path",{key:"link-"+i,d:l,strokeWidth:d.lineWidth,stroke:d.lineColor,fill:"none"}))}})),this.setState({curves:x})},t.prototype.render=function(){var e=this.props,t=e.topicKey,n=e.saveRef;return Object(r.createElement)(ol,{ref:n(gi(t))},Object(r.createElement)("g",null,this.state.curves))},t}(Io),ll=Cn()("node:topic-widget"),cl=En.default.div(Ja||(Ja=vo(["\n  display: flex;\n  align-items: center;\n  flex-direction: ",";\n"],["\n  display: flex;\n  align-items: center;\n  flex-direction: ",";\n"])),(function(e){return e.topicDirection===Bn?"row":"row-reverse"})),sl=En.default.div(qa||(qa=vo(["\n  position: relative;\n  padding: ",";\n"],["\n  position: relative;\n  padding: ",";\n"])),(function(e){return e.dir===Bn?"0 0 0 "+e.marginH+"px":"0 "+e.marginH+"px 0 0"})),ul=En.default.div(Xa||(Xa=vo(["\n  display: flex;\n  position: relative;\n  align-items: center;\n\n  flex-direction: ",";\n"],["\n  display: flex;\n  position: relative;\n  align-items: center;\n\n  flex-direction: ",";\n"])),(function(e){return e.topicDirection===Bn?"row":"row-reverse"})),pl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mo(t,e),t.prototype.renderSubTopics=function(){var e=this.props,t=e.controller,n=e.model,o=e.topicKey,i=e.dir,a=n.getTopic(o).subKeys.toArray(),l=t.run("createSubTopics",fo(fo({},e),{topics:a}));if(!l)return null;var c=l.subTopics,s=t.run("renderSubLinks",e);return Object(r.createElement)(sl,{dir:i,marginH:n.config.theme.marginH},c," ",s)},t.prototype.layoutLinks=function(){var e=this.props,t=e.getRef,n=e.topicKey,r=e.model.getTopic(n);if(0!==r.subKeys.size&&!r.collapse){ll("layoutLinks",n);var o=t(fi(n));o&&o.layout()}},t.prototype.render=function(){var e=this.props,t=e.controller,n=e.topicKey,o=e.dir,i=e.saveRef;ll("render",n);var a=t.run("getTopicContentStyle",e),l=fo(fo({},e),{topicStyle:a}),c=t.run("renderTopicContent",l);return Object(r.createElement)(cl,{topicDirection:o},Object(r.createElement)(ul,{topicDirection:o,ref:i(mi(n))},c),this.renderSubTopics())},t}(r.Component),dl=Cn()("node:view-port-viewer"),ml=Object(En.default)(Zo)(Qa||(Qa=vo(["\n  position: absolute;\n  background: white;\n  left: 30px;\n  bottom: 20px;\n  border-radius: 2px;\n  display: flex;\n  flex-direction: row;\n  user-select: none;\n border-radius: 50px;\n padding: 5px;\n box-shadow: rgb(185 185 185) 0px 0px 9px 0px;\n"],["\n  position: absolute;\n  background: white;\n  right: 30px;\n  bottom: 20px;\n  border-radius: 2px;\n  display: flex;\n  flex-direction: row;\n  user-select: none;\n border-radius: 50px;\n padding: 5px;\n box-shadow: rgb(185 185 185) 0px 0px 9px 0px;\n"]))),fl=Object(En.default)(Ho)($a||($a=vo(["\n  margin: 10px;\n"],["\n  margin: 10px;\n"]))),gl=En.default.span(el||(el=vo(["\n  display: inline-block;\n  width: 80px;\n  height: 18px;\n"],["\n  display: inline-block;\n  width: 80px;\n  height: 18px;\n"]))),hl=function(e){return Object(r.createElement)(wn.x,{content:e.tooltip,position:Tn.a.TOP,className:kn.a.ICON},Object(r.createElement)(fl,{onClick:e.onClick,tabIndex:-1},e.children))},yl=function(e){function t(t){var n=e.call(this,t)||this;return n.zoomFactorChange=function(e){dl("zoomFactorChange",e),n.setState({zoomFactor:e})},n.onClickResetZoom=function(e){var t=n.props;t.controller.run("setZoomFactor",fo(fo({},t),{zoomFactor:1}))},n.onClickAddZoom=function(e){var t=n.props,r=t.controller,o=r.run("getZoomFactor",t);r.run("setZoomFactor",fo(fo({},t),{zoomFactor:o+.1}))},n.onClickMinusZoom=function(e){var t=n.props,r=t.controller,o=r.run("getZoomFactor",t);r.run("setZoomFactor",fo(fo({},t),{zoomFactor:o-.1}))},n.onClickCollapseAll=function(e){var t=n.props,r=t.controller;r.run("addEventListener",fo(fo({},t),{key:Ci,listener:n.centerRootTopic,once:!0})),r.run("operation",fo(fo({},t),{opType:rr}))},n.onClickExpandAll=function(e){var t=n.props,r=t.controller;r.run("addEventListener",fo(fo({},t),{key:Ci,listener:n.centerRootTopic,once:!0})),r.run("operation",fo(fo({},t),{opType:or}))},n.centerRootTopic=function(){var e=n.props,t=e.model;e.controller.run("moveTopicToCenter",fo(fo({},n.props),{topicKey:t.editorRootTopicKey}))},n}return mo(t,e),t.prototype.componentDidMount=function(){var e=this.props;e.controller.run("addZoomFactorChangeEventListener",fo(fo({},e),{listener:this.zoomFactorChange}))},t.prototype.componentWillUnmount=function(){var e=this.props;e.controller.run("removeZoomFactorChangeEventListener",fo(fo({},e),{listener:this.zoomFactorChange}))},t.prototype.render=function(){dl("render");var e=this.props,t=e.controller,n=e.zIndex,o=t.run("getZoomFactor",e);return Object(r.createElement)(ml,{zIndex:n},Object(r.createElement)(hl,{onClick:this.onClickCollapseAll,tooltip:"collapse all"},ci(ri)),Object(r.createElement)(hl,{onClick:this.onClickExpandAll,tooltip:"expand all"},ci(oi)),Object(r.createElement)(hl,{onClick:this.centerRootTopic,tooltip:"center root topic"},ci(ii)),Object(r.createElement)(hl,{onClick:this.onClickMinusZoom,tooltip:"zoom in"},ci(ni)),Object(r.createElement)(hl,{onClick:this.onClickResetZoom,tooltip:"reset zoom"},Object(r.createElement)(gl,null,"zoom:"+Math.floor(100*o)+"%")),Object(r.createElement)(hl,{onClick:this.onClickAddZoom,tooltip:"zoom out"},ci(ti)))},t}(Io),bl=En.default.div(tl||(tl=vo(["\n  overflow: auto;\n  padding: 0px 0px 0px 20px;\n  background: #88888850;\n"],["\n  overflow: auto;\n  padding: 0px 0px 0px 20px;\n  background: #88888850;\n"])));function xl(e){var t=e.controller,n=e.model,o=e.topicKey;if(n.focusMode===Jn){var i=t.run("renderTopicDescEditor",e);return Object(r.createElement)(wn.i,{key:"drawer",title:"Edit Notes",icon:ci("note"),isOpen:!0,hasBackdrop:!0,backdropProps:{onMouseDown:ji},isCloseButtonShown:!1,onClose:function(n){n.stopPropagation();var r="topic-desc-data-"+o,i=t.run("deleteTempValue",{key:r});t.run("operation",fo(fo({},e),{opType:fr,topicKey:o,blockType:Gn,data:i,focusMode:Yn}))},size:"70%"},Object(r.createElement)(bl,null,i))}}function vl(e){var t=e.theme,n=e.children;return Object(r.createElement)(En.ThemeProvider,{theme:t},Object(r.createElement)(r.Fragment,null,n))}var El,Ol=Cn()("plugin:rendering");function Cl(){var e,t=En.default.div(El||(El=vo(["\n    width: 100%;\n    height: 100%;\n    background: ",";\n    position: relative;\n  "],["\n    width: 100%;\n    height: 100%;\n    background: ",";\n    position: relative;\n  "])),(function(e){return e.theme.background}));return{getDiagramProps:function(){return e},renderDiagram:function(n){var o=n.model,i=n.controller;return Object(r.createElement)(No,null,(function(a,l,c){return e=fo(fo({},n),{saveRef:a,getRef:l,deleteRef:c}),Ol("renderDiagram",o),Object(r.createElement)(vl,{theme:o.config.theme},Object(r.createElement)(t,{ref:a(bi)},Object(r.createElement)(xa,fo({},e)),i.run("renderDiagramCustomize",e)))}))},renderDrawer:xl,renderDiagramCustomize:function(e){var t=e.controller,n=e.model,r=t.getValue(wi),o=fo(fo({},e),{zIndex:r,topicKey:n.focusKey});return[t.run("renderEditorRootBreadcrumbs",o),t.run("renderRightTopPanel",o),t.run("renderModals",fo(fo({},o),{zIndex:r+1})),t.run("renderDrawer",fo(fo({},o),{zIndex:r+1})),t.run("renderViewPortViewer",o)]},renderEditorRootBreadcrumbs:function(e){return Object(r.createElement)(ha,fo({key:"EditorRootBreadcrumbs"},e))},renderModals:function(e){return Object(r.createElement)(va,fo({key:"modals"},e))},renderModal:function(e){return null},getActiveModalProps:function(e){return null},renderDoc:function(e){return e.children},renderRootWidget:function(e){return Object(r.createElement)(ja,fo({},e))},renderTopicWidget:function(e){return Object(r.createElement)(pl,fo({},e))},renderTopicContent:function(e){return Object(r.createElement)(Ha,fo({},e))},renderTopicCollapseIcon:function(e){return Object(r.createElement)(Ra,fo({},e))},renderTopicContentOthers:function(e){return[]},renderTopicBlocks:function(e){var t=e.model,n=e.topicKey,o=e.controller,i=t.getTopic(n).blocks,a=[],l=0;return i.forEach((function(t){var n=o.run("renderTopicBlock",fo(fo({},e),{block:t,blockKey:"block-"+l}));n&&(a.push(Object(r.createElement)(r.Fragment,{key:"block-"+l},n)),l++)})),a},renderTopicBlock:function(e){var t=e.controller;switch(e.block.type){case Un:return t.run("renderTopicBlockContent",e);case Gn:return t.run("renderTopicBlockDesc",e)}return null},renderTopicBlockContent:function(e){return Object(r.createElement)(_a,fo({},e))},renderTopicBlockDesc:function(e){return Object(r.createElement)(Ga,fo({},e))},renderSubLinks:function(e){var t=e.saveRef,n=e.topicKey,o=e.model.getTopic(n);return 0===o.subKeys.size||o.collapse?null:Object(r.createElement)(al,fo({ref:t(fi(n))},e))},renderRootSubLinks:function(e){var t=e.saveRef,n=e.topicKey;return Object(r.createElement)(Ca,fo({ref:t(fi(n))},e))},renderFocusItemHighlight:function(e){var t=e.saveRef;return Object(r.createElement)(rl,fo({ref:t(Ei)},e))},renderRootWidgetOtherChildren:function(e){var t=e.controller,n=t.run("getZoomFactor",e);return e=fo(fo({},e),{zoomFactor:n}),Object(r.createElement)(r.Fragment,null,t.run("renderRootSubLinks",e),t.run("renderFocusItemHighlight",e),t.run("renderDragAndDropEffect",e))},renderViewPortViewer:function(e){return Object(r.createElement)(yl,fo({key:"view-port-viewer"},e))}}}var wl,kl,Tl,jl=Object(En.default)(Zo)(wl||(wl=vo(["\n  position: absolute;\n  background: white;\n  right: 30px;\n  top: calc(100vh - 75%);\n padding: 5px;\n box-shadow: rgb(185 185 185) 0px 0px 9px 0px;\n border-radius: 50px;\n  user-select: none;\n"],["\n  position: absolute;\n  background: white;\n  right: 30px;\n  top: calc(100vh - 65%);\n padding: 5px;\n box-shadow: rgb(185 185 185) 0px 0px 9px 0px;\n border-radius: 50px;\n  user-select: none;\n"]))),Sl=Object(En.default)(Zo)(Tl||(Tl=vo(["\n  position: absolute;\n  background: white;\n  right: 30px;\n  top: calc(100vh - 75%);\n padding: 5px;\n box-shadow: rgb(185 185 185) 0px 0px 9px 0px;\n user-select: none;\n"],["\n  position: absolute;\n  background: white;\n  right: 30px;\n  top: calc(100vh - 65%);\n padding: 5px;\n box-shadow: rgb(185 185 185) 0px 0px 9px 0px;\n user-select: none;\n"]))),Rl=Object(En.default)(wn.w)(kl||(kl=vo(["\n  padding: 0px 10px;\n"],["\n  padding: 0px 10px;\n"])));function Dl(e){var t=e.format,n=e.emoji,o=e.devicehub,i=e.controller,a=e.model,l=e.topicKey,c=e.zIndex,s=e.selectedTabId,u=e.handleTabIdChange,p=bo(Object(r.useState)(!1),2),d=p[0],m=p[1],f=bo(Object(r.useState)(!1),2),g=f[0],h=f[1];if(!d&&!g)return Object(r.createElement)(jl,{zIndex:c},Object(r.createElement)("div",{onClick:function(){return m(!0)}},t),Object(r.createElement)("div",{onClick:function(){return h(!0)}},n),Object(r.createElement)("div",{onClick:function(){return h(!0)}},o));return void 0===l&&(e=fo(fo({},e),{topicKey:a.focusKey})),Object(r.createElement)(Sl,{zIndex:c},Object(r.createElement)(Go,null,Object(r.createElement)(Uo,{className:li(Qo),onClick:function(){m(!1),h(!1)}})),Object(r.createElement)(Rl,{id:s,onChange:u},d&&i.run("renderRightTopPanelTabs",e),g&&Object(r.createElement)(uo.a,{onEmojiClick:function(t){return function(t){i.run("operation",fo(fo({},e),{opType:lr,emoji:t.target.textContent,function(){var t=fo(fo({},e),{controller:i});return i.run("renderDiagram",t)}}))}(t)},disableAutoFocus:!0,groupNames:{smileys_people:"PEOPLE"},native:"true"})))}var Ll,Kl,Ml,Il,Pl,_l,Al,zl=En.default.div(Ll||(Ll=vo(["\n  margin-top: 10px;\n  margin-bottom: 5px;\n  font-weight: bold;\n"],["\n  margin-top: 10px;\n  margin-bottom: 5px;\n  font-weight: bold;\n"]))),Fl=En.default.span(Kl||(Kl=vo(["\n  margin: 0px 10px 0px 0px;\n"],["\n  margin: 0px 10px 0px 0px;\n"]))),Nl=En.default.div(Ml||(Ml=vo(["\n  padding: 10px;\n  margin: 0 0 10px 0;\n  border: rgba(16, 22, 26, 0.15) solid 1px;\n  border-radius: 5px;\n"],["\n  padding: 10px;\n  margin: 0 0 10px 0;\n  border: rgba(16, 22, 26, 0.15) solid 1px;\n  border-radius: 5px;\n"]))),Bl=Object(En.default)(Fl)(Il||(Il=vo([""],[""]))),Wl=En.default.div(Pl||(Pl=vo(["\n  display: flex;\n  align-items: center;\n  //justify-content: center;\n  margin: 5px 0;\n"],["\n  display: flex;\n  align-items: center;\n  //justify-content: center;\n  margin: 5px 0;\n"]))),Hl=En.default.div(_l||(_l=vo(["\n  height: 3px;\n  width: 80%;\n  margin-left: 10%;\n  margin-right: 10%;\n  margin-bottom: 2px;\n  background: ",";\n"],["\n  height: 3px;\n  width: 80%;\n  margin-left: 10%;\n  margin-right: 10%;\n  margin-bottom: 2px;\n  background: ",";\n"])),(function(e){return e.color})),Vl=En.default.div(Al||(Al=vo(["\n  border: 1px solid grey;\n  cursor: pointer;\n  font-weight: bold;\n"],["\n  border: 1px solid grey;\n  cursor: pointer;\n  font-weight: bold;\n"])));function Ul(e){return Object(r.createElement)("div",null,e.children,Object(r.createElement)(wn.h,{style:{margin:"10px 0"}}))}function Gl(e){var t=e.color,n=e.handleColorChange;return Object(r.createElement)(Fl,null,Object(r.createElement)(wn.s,null,Object(r.createElement)(Vl,null,Object(r.createElement)("div",{className:li($o)}),Object(r.createElement)(Hl,{color:t})),Object(r.createElement)("div",null,Object(r.createElement)(co.a,{color:t,onChangeComplete:function(e){return n(e.hex)}}))))}function Yl(e){var t=e.title,n=e.handleClick;return Object(r.createElement)(Fl,null,Object(r.createElement)(wn.d,{onClick:n},t))}function Zl(e){var t=e.layout,n=void 0===t?"h":t,o=e.title,i=go(e,["layout","title"]),a={flexDirection:"h"===n?"row":"column",alignItems:"center"};return Object(r.createElement)(Fl,null,Object(r.createElement)(Bo,fo({},a),Object(r.createElement)(Wo,{margin:"0 5px 0 0"},o),Object(r.createElement)(wn.q,fo({},i))))}function Jl(e){var t=e.text,n=e.items,o=e.itemRenderer,i=e.onItemSelect,a=lo.a.ofType(),l={items:n,itemRenderer:o,onItemSelect:i,filterable:!1};return Object(r.createElement)(Fl,null,Object(r.createElement)(a,fo({},l),Object(r.createElement)(wn.d,{text:t})))}var ql=function(e){return function(t,n){var o=n.handleClick;return Object(r.createElement)(wn.p,{text:""+t+e,key:t,onClick:o})}},Xl=(lo.a.ofType(),xo(Array(7).keys())),Ql=xo(Array(7).keys()),$l=[0,5,10,15,20,25,30,35],ec=["none","solid","dotted","dashed","double"];function tc(e){var t=e.contentStyle,n=e.setContentStyle;return Object(r.createElement)(Ul,null,Object(r.createElement)(zl,null,"Border"),Object(r.createElement)("div",null,Object(r.createElement)(Jl,{text:"width: "+(t.borderWidth?t.borderWidth:"0px"),items:Ql,itemRenderer:ql("px"),onItemSelect:function(e){n({borderWidth:e+"px"})}}),Object(r.createElement)(Jl,{text:"style: "+(t.borderStyle?t.borderStyle:"none"),items:ec,itemRenderer:ql(""),onItemSelect:function(e){n({borderStyle:e})}}),Object(r.createElement)(Jl,{text:"radius: "+t.borderRadius,items:$l,itemRenderer:ql("px"),onItemSelect:function(e){n({borderRadius:e+"px"})}}),Object(r.createElement)(Gl,{color:t.borderColor,handleColorChange:function(e){n({borderColor:e})}})))}var nc=["curve","round","line"],rc=function(e,t){var n=t.handleClick;t.modifiers,t.query;return Object(r.createElement)(wn.p,{text:""+e,key:e,onClick:n})};function oc(e){var t=e.showLinkStyle,n=void 0===t||t,o=e.showSubLinkStyle,i=void 0===o||o,a=e.linkStyle,l=void 0===a?{}:a,c=e.subLinkStyle,s=void 0===c?{}:c,u=e.setLinkStyle,p=e.setSubLinkStyle;return Object(r.createElement)(Ul,null,Object(r.createElement)(zl,null,"Link"),n&&Object(r.createElement)(Wl,{alignItems:"center"},Object(r.createElement)(Wo,{margin:"0 5px 0 0"},"LinkToParent: "),Object(r.createElement)(Jl,{text:"width: "+(l?l.lineWidth:"0px"),items:Xl,itemRenderer:ql("px"),onItemSelect:function(e){u({lineWidth:e+"px"})}}),Object(r.createElement)(Jl,{text:"lineType: "+l.lineType,items:nc,itemRenderer:rc,onItemSelect:function(e){u({lineType:e})}}),Object(r.createElement)(Gl,{color:l.lineColor,handleColorChange:function(e){u({lineColor:e})}})),i&&Object(r.createElement)(Wl,{alignItems:"center"},Object(r.createElement)(Wo,{margin:"0 5px 0 0"},"SubLinks: "),Object(r.createElement)(Jl,{text:"width: "+(s?s.lineWidth:"0px"),items:Xl,itemRenderer:ql("px"),onItemSelect:function(e){p({lineWidth:e+"px"})}}),Object(r.createElement)(Jl,{text:"lineType: "+s.lineType,items:nc,itemRenderer:rc,onItemSelect:function(e){p({lineType:e})}}),Object(r.createElement)(Gl,{color:s.lineColor,handleColorChange:function(e){p({lineColor:e})}})))}function ic(e){var t=e.contentStyle,n=e.setContentStyle,o={title:"FontSize:",min:12,max:100,value:parseInt(t.fontSize),style:{width:50},onValueChange:function(e){n({fontSize:e})}},i={style:{width:50},value:t.lineHeight||"",onChange:function(e){n({lineHeight:e.target.value})}};return Object(r.createElement)(Ul,null,Object(r.createElement)(zl,null,"Text Editor"),Object(r.createElement)(Bo,null,Object(r.createElement)(Zl,fo({},o)),Object(r.createElement)(Fl,null,Object(r.createElement)(Bo,{alignItems:"center"},Object(r.createElement)(Wo,{margin:"0 5px 0 0"},"LineHeight: "),Object(r.createElement)(wn.m,fo({},i)))),Object(r.createElement)(Gl,{color:t.color,handleColorChange:function(e){n({color:e})}})))}var ac,lc=Cn()("node:style-editor");function cc(e){var t=e.controller,n=e.model,o=e.topicKey,i=n.getTopic(o),a=function(n){t.run("setTopicContentStyle",fo(fo({},e),{style:n}))};if(!n.focusKey)return null;var l=t.run("getTopicContentStyle",e),c={linkStyle:t.run("getLinkStyle",e),subLinkStyle:t.run("getSubLinkStyle",e),setLinkStyle:function(n){t.run("setLinkStyle",fo(fo({},e),{linkStyle:n}))},setSubLinkStyle:function(n){t.run("setSubLinkStyle",fo(fo({},e),{subLinkStyle:n}))}},s={contentStyle:l,setContentStyle:a};return Object(r.createElement)(Jo,null,Object(r.createElement)(tc,fo({},s)),Object(r.createElement)(ic,fo({},s)),Object(r.createElement)(Ul,null,Object(r.createElement)(zl,null,"Background"),Object(r.createElement)(Gl,{color:l.background,handleColorChange:function(e){a({background:e})}})),Object(r.createElement)(oc,fo({},c)),Object(r.createElement)(Ul,null,Object(r.createElement)(Yl,{title:"Clear Topic Style",handleClick:function(){i.style&&t.run("operation",fo(fo({},e),{opType:dr,style:null}))}}),Object(r.createElement)(Yl,{title:"Copy Style",handleClick:function(){ac=t.run("getTopicStyle",e),lc(ac)}}),Object(r.createElement)(Yl,{title:"Paste Style",handleClick:function(){ac&&t.run("operation",fo(fo({},e),{opType:dr,style:JSON.stringify(ac)}))}})),function(e){var t=e.controller;return Object(r.createElement)(Ul,null,Object(r.createElement)(Fl,null,Object(r.createElement)(wn.d,{onClick:function(n){t.run("clearAllCustomStyle",e)}},"Clear All Custom Styles")))}(e))}var sc=n(716);function uc(e){var t=e.contentStyle,n=e.setContentStyle,o=sc("padding",t.padding||"0"),i={layout:"v",min:0,max:99,style:{width:38}},a=parseInt(o["padding-top"]),l=parseInt(o["padding-right"]),c=parseInt(o["padding-bottom"]),s=parseInt(o["padding-left"]),u={top:a,right:l,bottom:c,left:s},p=function(e){return function(t){var r;n({padding:Di(fo(fo({},u),(r={},r[e]=t,r)))})}},d=fo(fo({},i),{title:"top",value:a,onValueChange:p("top")}),m=fo(fo({},i),{title:"right",value:l,onValueChange:p("right")}),f=fo(fo({},i),{title:"bottom",value:c,onValueChange:p("bottom")}),g=fo(fo({},i),{title:"left",value:s,onValueChange:p("left")});return Object(r.createElement)(Ul,null,Object(r.createElement)(zl,null,"Padding"),Object(r.createElement)(Wl,null,Object(r.createElement)(Zl,fo({},d)),Object(r.createElement)(Zl,fo({},m)),Object(r.createElement)(Zl,fo({},f)),Object(r.createElement)(Zl,fo({},g))))}var pc,dc=En.default.div(pc||(pc=vo(["\n  height: 250px;\n  overflow: auto;\n"],["\n  height: 250px;\n  overflow: auto;\n"])));function mc(e){var t=e.topicStyle,n=e.setTopicStyle,o=t.contentStyle,i=void 0===o?{}:o,a=t.linkStyle,l=void 0===a?{}:a,c=t.subLinkStyle,s=function(e){n({contentStyle:e})},u={contentStyle:i,setContentStyle:s},p={showLinkStyle:!1,linkStyle:l,subLinkStyle:void 0===c?{}:c,setLinkStyle:function(e){n({linkStyle:e})},setSubLinkStyle:function(e){n({subLinkStyle:e})}};return Object(r.createElement)(dc,null,Object(r.createElement)(tc,fo({},u)),Object(r.createElement)(uc,fo({},u)),Object(r.createElement)(ic,fo({},u)),Object(r.createElement)(Ul,null,Object(r.createElement)(zl,null,"Background"),Object(r.createElement)(Gl,{color:i.background,handleColorChange:function(e){s({background:e})}})),Object(r.createElement)(oc,fo({},p)))}var fc="normal";function gc(e){var t,n=bo(Object(r.useState)(!1),2),o=(n[0],n[1],bo(Object(r.useState)(!1),2)),i=o[0],a=o[1],l=e.model,c=e.controller,u=l.config.theme,p=u.rootTopic,d=u.primaryTopic,m=u.normalTopic,f=function(t){c.run("operation",fo(fo({},e),{opType:mr,theme:Object(s.clone)(t)}))},g=(t=function(e){f(Object(s.merge)(u,{randomColor:e}))},function(e){return t(e.target.checked)}),h={topicStyle:p,setTopicStyle:function(e){f(Object(s.merge)(u,{rootTopic:e}))}},y=Object(r.createElement)(mc,fo({},h)),b={topicStyle:d,setTopicStyle:function(e){f(Object(s.merge)(u,{primaryTopic:e}))}},x=Object(r.createElement)(mc,fo({},b)),v={topicStyle:m,setTopicStyle:function(e){f(Object(s.merge)(u,{normalTopic:e}))}},E=Object(r.createElement)(mc,fo({},v)),O={id:fc,handleTabIdChange:function(e){fc=e}},C=Object(r.createElement)(Nl,null,Object(r.createElement)(wn.w,fo({},O),Object(r.createElement)(wn.v,{id:"normal",title:"NormalTopic",panel:E}),Object(r.createElement)(wn.v,{id:"primary",title:"PrimaryTopic",panel:x}),Object(r.createElement)(wn.v,{id:"root",title:"RootTopic",panel:y}))),w={isOpen:i,onClose:function(e){a(!1)}},k=Object(r.createElement)(wn.a,fo({},w),Object(r.createElement)("p",null,"File format error"));return Object(r.createElement)(Jo,null,Object(r.createElement)(Ul,null,Object(r.createElement)(zl,null,"Global"),Object(r.createElement)(Wl,null,Object(r.createElement)(Bl,null,"Background:"),Object(r.createElement)(Gl,{color:u.background,handleColorChange:function(e){f(Object(s.merge)(u,{background:e}))}}),Object(r.createElement)(Bl,null,"Highlight:"),Object(r.createElement)(Gl,{color:u.highlightColor,handleColorChange:function(e){f(Object(s.merge)(u,{highlightColor:e}))}}),Object(r.createElement)(Bl,null,"Random Color:"),Object(r.createElement)(Vo,{checked:u.randomColor,onChange:g}))),C,Object(r.createElement)(Ul,null,Object(r.createElement)(Yl,{title:"Export Theme",handleClick:function(e){Si(JSON.stringify(u),"blink-mind-theme.json")}}),Object(r.createElement)(Yl,{title:"Import Theme",handleClick:function(e){Ri(".json,.txt").then((function(e){var t,n=JSON.parse(e);null!=(t=n).name&&null!=t.background&&null!=t.highlightColor?f(n):a(!0)}))}})),k)}function hc(){var e="topic-style",t=function(t){e=t};return{renderRightTopPanel:function(n){var o=fo(fo({},n),{key:"right-top-panel",selectedTabId:e,handleTabIdChange:t});return Object(r.createElement)(Dl,fo({},o))},renderRightTopPanelTabs:function(e){var t=e.controller;return[t.run("renderTopicStyleEditor",e),t.run("renderThemeEditor",e)]},renderTopicStyleEditor:function(e){var t={id:"topic-style",key:"topic-style",title:"TopicStyle",panel:Object(r.createElement)(cc,fo({},e))};return Object(r.createElement)(wn.v,fo({},t))},renderThemeEditor:function(e){var t={id:"theme-editor",key:"theme-editor",title:"Theme",panel:Object(r.createElement)(gc,fo({},e))};return Object(r.createElement)(wn.v,fo({},t))}}}var yc=Cn()("plugin:utils");function bc(){var e=new Map,t=new Map;return{addTempValueChangeListener:function(e){var n=e.key,r=e.listener;t.has(n)||t.set(n,[]),t.get(n).push(r)},removeTempValueChangeListener:function(e){var n=e.key,r=e.listener;t.has(n)&&(t[n]=t.get(n).filter((function(e){return e!==r})))},getTempValue:function(t){var n=t.key;return yc("getTempValue",n),e.get(n)},setTempValue:function(n){var r,o,i=n.key,a=n.value;if(yc("setTempValue",i),e.set(i,a),t.has(i)){var l=t.get(i);try{for(var c=yo(l),s=c.next();!s.done;s=c.next()){(0,s.value)(a)}}catch(u){r={error:u}}finally{try{s&&!s.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}}},deleteTempValue:function(t){var n=t.key;yc("deleteTempValue",n);var r=e.get(n);return e.delete(n),r}}}var xc=Cn()("plugin:StylePlugin");function vc(){var e=new Map,t=0;return{getTopicStyle:function(e){var t=e.controller;return{contentStyle:t.run("getTopicContentStyle",e),linkStyle:t.run("getLinkStyle",e),subLinkStyle:t.run("getSubLinkStyle",e)}},getTopicContentStyle:function(e){var t=e.topicKey,n=e.model,r=e.controller;xc("getTopicContentStyle:",t,n);var o,i=n.getTopicVisualLevel(t),a=n.config.theme;if(o=i===Hn?a.rootTopic:i===Vn?a.primaryTopic:a.normalTopic,o=fo(fo({},a.contentStyle),o.contentStyle),a.randomColor){var l=r.run("getRandomColor",e);o=fo(fo({},o),{background:l,borderColor:l,subLinkStyle:fo(fo({},o.subLinkStyle),{lineColor:l})})}var c=n.getTopic(t);if(!c.style)return o;var s=JSON.parse(c.style);return fo(fo({},o),s.contentStyle)},getLinkStyle:function(e){var t=e.topicKey,n=e.model,r=e.controller;xc("getLinkStyle",t);var o,i=n.getTopicVisualLevel(t),a=n.config.theme,l=a.linkStyle;o=i===Hn?a.rootTopic.linkStyle:i===Vn?a.primaryTopic.linkStyle:a.normalTopic.linkStyle,l=fo(fo({},l),o);var c=n.getTopic(t);if(null!=c.parentKey){var s=r.run("getSubLinkStyle",fo(fo({},e),{topicKey:c.parentKey}));l=fo(fo({},l),s)}if(!c.style)return l;var u=JSON.parse(c.style);return fo(fo({},l),u.linkStyle)},getSubLinkStyle:function(e){var t=e.topicKey,n=e.model,r=e.controller;xc("getLinkStyle",t);var o,i=n.getTopicVisualLevel(t),a=n.config.theme,l=a.linkStyle;o=i===Hn?a.rootTopic.subLinkStyle:i===Vn?a.primaryTopic.subLinkStyle:a.normalTopic.subLinkStyle,l=fo(fo({},l),o);var c=n.getTopic(t);if(a.randomColor){var s=r.run("getRandomColor",e);xc(s),l=fo(fo({},l),{lineColor:s})}if(!c.style)return l;var u=JSON.parse(c.style);return fo(fo({},l),u.subLinkStyle)},setTopicContentStyle:function(e){var t=e.topicKey,n=e.controller,r=e.style,o=e.model.getTopic(t).style,i=o?JSON.parse(o):{},a=fo(fo({},i),{contentStyle:fo(fo({},i.contentStyle),r)});if(!Object(s.isEqual)(i,a)){var l=JSON.stringify(a);n.run("operation",fo(fo({},e),{opType:dr,style:l}))}},setLinkStyle:function(e){var t=e.topicKey,n=e.controller,r=e.linkStyle,o=e.model.getTopic(t).style,i=o?JSON.parse(o):{},a=fo(fo({},i),{linkStyle:fo(fo({},i.linkStyle),r)});if(!Object(s.isEqual)(i,a)){var l=JSON.stringify(a);n.run("operation",fo(fo({},e),{opType:dr,style:l}))}},setSubLinkStyle:function(e){var t=e.topicKey,n=e.controller,r=e.subLinkStyle,o=e.model.getTopic(t).style,i=o?JSON.parse(o):{},a=fo(fo({},i),{subLinkStyle:fo(fo({},i.subLinkStyle),r)});if(!Object(s.isEqual)(i,a)){var l=JSON.stringify(a);n.run("operation",fo(fo({},e),{opType:dr,style:l}))}},getTopicThemeStyle:function(e){var t=e.topicKey,n=e.model,r=n.getTopicVisualLevel(t),o=n.config.theme;return r===Hn?o.rootTopic:r===Vn?o.primaryTopic:o.normalTopic},getRandomColor:function(n){var r=n.topicKey;if(e.has(r))return e.get(r);var o=["#00CC99","#FFEE88","#A167A5","#E5F993","#F5C396","#DB995A","#83BCFF","#ED7B84","#739E82","#D3BCC0","#FFA0FD","#EFD3D7","#C6878F"],i=o[++t%o.length];return e.set(r,i),xc("getRandomColor",r,i),i},clearAllCustomStyle:function(e){var t=e.model,n=e.controller,r=t.withMutations((function(e){e.topics.keySeq().forEach((function(t){e.setIn(["topics",t,"style"],null)}))}));n.change(r)}}}function Ec(){return[[Cl(),bc(),{renderTopicContextMenu:function(e){return Object(r.createElement)(Gi,fo({},e))},customizeTopicContextMenu:function(e){var t=e.topicKey,n=e.model,o=e.controller,i=t===n.editorRootTopicKey;function a(t){return function(n){t.opType&&o.run("operation",fo(fo({},e),{opType:t.opType}))}}return Yi.map((function(e){return i&&!e.rootCanUse?null:Object(r.createElement)(wn.p,{key:e.label,icon:ci(e.icon),text:e.label,labelElement:Object(r.createElement)("kbd",null,e.shortcut),onClick:a(e)})}))}},hc(),ta()],{getPartTopics:function(e){var t=e.layout,n=e.model,r=e.topicKey,o=n.getTopic(r),i=o.subKeys.size,a=o.subKeys.toArray();switch(t){case zn.LEFT_TO_RIGHT:return{R:a};case zn.RIGHT_TO_LEFT:return{L:a};case zn.LEFT_AND_RIGHT:return{L:a.slice(Math.ceil(i/2),i),R:a.slice(0,Math.ceil(i/2))};case zn.TOP_TO_BOTTOM:return{B:a}}},createSubTopics:function(e){var t=e.model,n=e.topicKey,r=e.controller,o=e.topics,i=e.saveRef,a=t.getTopic(n);if(0===o.size||a.collapse)return null;var l=[];return o.forEach((function(t){var n=fo(fo({},e),{topicKey:t,key:t,ref:i(di(t))});l.push(r.run("renderTopicWidget",n))})),{subTopics:l}},layout:function(e){var t=e.getRef,n=e.model,r=t(fi(n.editorRootTopicKey)),o=t(Ei),i=t(Oi);r&&r.layout(),o&&o.layout(),i&&i.layout(),function e(r){var o,i;if(r.key!==n.editorRootTopicKey){var a=t(di(r.key));a&&a.layoutLinks()}if(!r.collapse)try{for(var l=yo(r.subKeys),c=l.next();!c.done;c=l.next()){var s=c.value;e(n.getTopic(s))}}catch(u){o={error:u}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(o)throw o.error}}}(n.getTopic(n.editorRootTopicKey))},setLayoutDir:function(e){var t=e.layoutDir,n=e.model;e.controller.change(jr.setLayoutDir({model:n,layoutDir:t}))},getRelativeRect:function(e){var t=e.element,n=e.controller,r=e.getRef,o=n.run("getZoomFactor",e);return Pi(t,r(xi).bigView,o)},getRelativeRectFromViewPort:function(e){var t=e.element,n=e.controller,r=e.getRef,o=n.run("getZoomFactor",e);return Pi(t,r(xi).viewBox,o)},getRelativeVectorFromViewPort:function(e){return _i(e.element,(0,e.getRef)(xi).viewBox)},addZoomFactorChangeEventListener:function(e){e.controller.run("addTempValueChangeListener",fo({key:"ZoomFactor"},e))},removeZoomFactorChangeEventListener:function(e){e.controller.run("removeTempValueChangeListener",fo({key:"ZoomFactor"},e))},setZoomFactor:function(e){var t=e.controller,n=e.zoomFactor;return t.run("setTempValue",{key:"ZoomFactor",value:n})},getZoomFactor:function(e){return e.controller.run("getTempValue",{key:"ZoomFactor"})||1},moveTopicToCenter:function(e){var t=e.getRef,n=e.topicKey,r=e.model;if(r.editorRootTopicKey!==n&&wr(r,n,r.editorRootTopicKey)!==$n)throw new Error("moveTopicToCenter error: topicKey "+n+" is not the DESCENDANT of editor root topic");var o=t(mi(n)),i=t(xi),a=i.viewBox;if(!o||!a)throw new Error("moveTopicToCenter error: topic or viewBox is null");var l=_i(o,a);i.setViewBoxScrollDelta(l[0],l[1])},focusTopicAndMoveToCenter:function(e){var t=e.controller,n=e.topicKey;t.run("operation",fo(fo({},e),{opArray:[{opType:ur,topicKey:n,focusMode:Yn},{opType:ir,topicKey:n}],callback:function(){t.run("moveTopicToCenter",fo(fo({},e),{topicKey:n}))}}))}},Ui(),vc(),Xo(),Hi(),{getValue:function(e,t){var n=e.propKey,r=e.controller;switch(n){case wi:return 3;case ki:return r.run("isOperationEnabled",e);case Ti:return r.run("getTopicTitle",e)}return t()}},ao()]}Cn()("node:Diagram");var Oc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.resolveController=Object(jn.a)((function(e,n){void 0===e&&(e=[]);var r=n();t.controller=new Fn({plugins:[e,r],construct:!1,onChange:t.props.onChange})})),t}return mo(t,e),t.prototype.getDiagramProps=function(){return this.controller.run("getDiagramProps")},t.prototype.openNewModel=function(e){var t=this,n=this.getDiagramProps(),r=n.model,o=n.controller;o.run("deleteRefKey",fo(fo({},n),{topicKey:r.rootTopicKey})),o.run("operation",fo(fo({},n),{opType:ir,topicKey:e.focusKey,model:e,callback:function(){var e=t.getDiagramProps(),n=e.model;o.run("moveTopicToCenter",fo(fo({},e),{topicKey:n.focusKey}))}}))},t.prototype.render=function(){var e=this.props.plugins;return this.resolveController(e,Ec),this.diagramProps=fo(fo({},this.props),{controller:this.controller}),this.controller.run("renderDiagram",this.diagramProps)},t}(r.Component),Cc=n(442),wc=n.n(Cc),kc=n(268),Tc=n.n(kc),jc=function(e,t){return(jc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Sc(e,t){function n(){this.constructor=e}jc(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Rc=function(){return(Rc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var Dc,Lc=Cn()("node:topic-content-editor"),Kc=En.default.div(Dc||(Dc=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}(["\n  ",";\n"],["\n  ",";\n"])),(function(e){return!e.readOnly&&"\n    // padding: 75px\n    // min-width: 150px\n    // min-height: 150px\n  "})),Mc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype.initState=function(){e.prototype.initState.call(this);var t=this.props,n=t.controller,r="topic-desc-data-"+t.topicKey,o=this.state.content;n.run("setTempValue",{key:r,value:o})},t.prototype.getCustomizeProps=function(){var e=this.props,t=e.model,n=e.topicKey;return{block:t.getTopic(n).getBlock(Gn).block,readOnly:t.editingDescKey!==n,getRefKeyFunc:pi,placeholder:"write topic notes here"}},t.prototype.onChange=function(e){var t=this.props,n=t.controller,r="topic-desc-data-"+t.topicKey;n.run("setTempValue",{key:r,value:e}),this.setState({content:e})},t}(function(e){function t(t){var n=e.call(this,t)||this;return n.onMouseDown=function(e){e.stopPropagation()},n.onMouseMove=function(e){e.stopPropagation()},n.rootRef=function(e){return function(t){e(t),n.root=t}},n._handleClick=function(e){!n.root.contains(e.target)&&n.onClickOutSide(e)},n.initState(),n}return Sc(t,e),t.prototype.initState=function(){this.state={content:this.getContent()}},t.prototype.getContent=function(){return this.getCustomizeProps().block.data},t.prototype.onChange=function(e){this.setState({content:e})},t.prototype.getCustomizeProps=function(){return null},t.prototype.componentDidMount=function(){document.addEventListener("click",this._handleClick)},t.prototype.componentWillUnmount=function(){document.removeEventListener("click",this._handleClick)},t.prototype.onClickOutSide=function(e){},t.prototype.render=function(){var e=this.props,t=e.topicKey,n=e.saveRef,o=this.getCustomizeProps(),i=o.readOnly,a=o.getRefKeyFunc,l=o.placeholder;Lc("readOnly:",i);var c=i?this.getContent():this.state.content;if(null==c)return null;var s=a(t),u=this.onMouseDown,p=this.onMouseMove,d={editorValue:c,readOnly:i,onChange:this.onChange.bind(this),placeholder:l},m={key:s,ref:this.rootRef(n(s)),readOnly:i,onMouseDown:u,onMouseMove:p};return Object(r.createElement)(Kc,Rc({},m),Object(r.createElement)(wc.a,Rc({},d)))},t}(Io)),Ic=new Tc.a;var Pc=function(){return{renderTopicDescEditor:function(e){return Object(r.createElement)(Mc,Rc({},e))},isBlockEmpty:function(e,t){var n=e.block,r=e.controller;return n.type===Un||n.type===Gn?null==n.data||""===r.run("serializeBlockData",e):t()},serializeBlockData:function(e,t){var n=e.block;return n.type===Gn?"string"===typeof n.data?n.data:Ic.serialize(n.data):t()}}},_c=function(){return(_c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ac=Cn()("plugin:json-serializer");var zc={name:"default",randomColor:!1,background:"#f8f8f8",highlightColor:"rgb(0, 170, 255)",marginH:45,marginV:10,contentStyle:{lineHeight:"1.5"},linkStyle:{lineRadius:5},rootTopic:{contentStyle:{background:"#50C18A",color:"#fff",fontSize:"34px",borderRadius:"45px",padding:"16px 18px 16px 18px"},subLinkStyle:{lineType:"curve",lineWidth:"3px",lineColor:"#43a9ff"}},primaryTopic:{contentStyle:{background:"#ffffff",borderRadius:"45px",color:"rgb(103,103,103)",fontSize:"14px",padding:"6px 10px 5px 10px"},subLinkStyle:{lineType:"round",lineRadius:5,lineWidth:"3px",lineColor:"#43a9ff"}},normalTopic:{contentStyle:{background:"#fff",borderRadius:"45px",color:"rgb(103,103,103)",fontSize:"13px",padding:"3px 9px 4px"},subLinkStyle:{lineType:"round",lineRadius:5,lineWidth:"2px",lineColor:"#43a9ff"}}},Fc={name:"theme1",randomColor:!1,background:"rgb(250,245,205)",highlightColor:"#50C9CE",marginH:50,marginV:30,contentStyle:{lineHeight:"1.5"},linkStyle:{lineRadius:5},rootTopic:{contentStyle:{background:"rgb(221, 170, 68)",color:"#fff",fontSize:"34px",borderRadius:"45px",padding:"16px 18px 16px 18px"},subLinkStyle:{lineType:"curve",lineWidth:"2px",lineColor:"rgb(221, 170, 68)"}},primaryTopic:{contentStyle:{background:"#e8eaec",borderWidth:"2px",borderStyle:"solid",borderColor:"rgb(221, 170, 68)",borderRadius:"45px",fontSize:"17px",padding:"10px 15px 10px 15px"},subLinkStyle:{lineType:"curve",lineWidth:"2px",lineColor:"rgb(221, 170, 68)"}},normalTopic:{contentStyle:{background:"#fff",border:"1px solid #e8eaec",borderRadius:"45px",color:"rgb(187, 136, 34)",fontSize:"13px",padding:"4px 10px"},subLinkStyle:{lineType:"round",lineRadius:5,lineWidth:"1px",lineColor:"rgb(187, 136, 34)"}}},Nc={name:"theme2",randomColor:!0,background:"rgb(57,60,65)",highlightColor:"#50C9CE",marginH:60,marginV:20,contentStyle:{lineHeight:"1.5",fontSize:"16px"},linkStyle:{lineRadius:5,lineType:"curve",lineWidth:"3px"},rootTopic:{contentStyle:{fontSize:"36px",borderRadius:"45px"},subLinkStyle:{lineType:"curve",lineWidth:"3px"}},primaryTopic:{contentStyle:{fontSize:"24px",borderRadius:"45px"},subLinkStyle:{lineType:"curve",lineWidth:"3px"}},normalTopic:{subLinkStyle:{lineType:"curve",lineWidth:"3px"}}},Bc={name:"theme3",randomColor:!1,background:"#A9DEF9",highlightColor:"#50C9CE",marginH:50,marginV:20,contentStyle:{lineHeight:"1.5"},linkStyle:{lineRadius:5},rootTopic:{contentStyle:{background:"#FF99C8",color:"#fff",fontSize:"34px",borderRadius:"45px",padding:"16px 18px 16px 18px"},subLinkStyle:{lineType:"curve",lineWidth:"2px",lineColor:"#43a9ff"}},primaryTopic:{contentStyle:{background:"#FCF6BD",borderWidth:"1px",borderStyle:"solid",borderColor:"#E4C1F9",borderRadius:"45px",color:"rgb(103,103,103)",fontSize:"14px",padding:"6px 10px 5px 10px"},subLinkStyle:{lineType:"curve",lineWidth:"2px",lineColor:"#43a9ff"}},normalTopic:{contentStyle:{background:"#E4FDE1",borderRadius:"5px",color:"rgb(103,103,103)",fontSize:"13px",padding:"3px 9px 4px",boxShadow:"1px 1px 1px #ccc",borderRadius:"45px"},subLinkStyle:{lineType:"round",lineRadius:5,lineWidth:"1px",lineColor:"#43a9ff"}}},Wc={name:"theme3",randomColor:!1,background:"#CCFBFE",highlightColor:"#50C9CE",marginH:50,marginV:20,contentStyle:{lineHeight:"1.5"},linkStyle:{lineRadius:5},rootTopic:{contentStyle:{background:"#CD8987",color:"#fff",fontSize:"34px",borderRadius:"45px",padding:"16px 18px 16px 18px"},subLinkStyle:{lineType:"curve",lineWidth:"2px",lineColor:"#43a9ff"}},primaryTopic:{contentStyle:{background:"#CDACA1",borderWidth:"1px",borderStyle:"solid",borderColor:"#E4C1F9",borderRadius:"45px",color:"rgb(103,103,103)",fontSize:"14px",padding:"6px 10px 5px 10px"},subLinkStyle:{lineType:"line",lineWidth:"2px",lineColor:"#43a9ff"}},normalTopic:{contentStyle:{background:"#CDCACC",borderRadius:"45px",color:"rgb(103,103,103)",fontSize:"13px",padding:"3px 9px 4px",boxShadow:"1px 1px 1px #ccc"},subLinkStyle:{lineType:"line",lineRadius:5,lineWidth:"1px",lineColor:"#43a9ff"}}};var Hc=n(448),Vc=n(38),Uc=n(32),Gc=(n(1071),n(57)),Yc=n(131),Zc=n(98),Jc=function(e,t){return(Jc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function qc(e,t){function n(){this.constructor=e}Jc(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Xc=function(){return(Xc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Qc(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function $c(e){var t=e.controller,n=e.model,o=e.topicKey,i=n.focusKey===o&&"FOCUS_MODE_EDITING_TOPOLOGY"===n.focusMode,a=n.getTopic(o).getBlock("TOPOLOGY").block;if(!i&&!a)return null;var l={className:li("topology"),onClick:function(n){n.stopPropagation(),t.run("operation",Xc(Xc({},e),{opType:"OP_TYPE_START_EDITING_TOPOLOGY"}))},tabIndex:-1};return Object(r.createElement)(Yo,Xc({},l))}var es,ts,ns,rs,os,is,as,ls,cs,ss,us=[{group:"Basic",children:[{name:"rectangle",icon:"icon-rect",data:{text:"Topology",rect:{width:100,height:100},paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,name:"rectangle",icon:"\ue64d",iconFamily:"topology",iconColor:"#2f54eb"}},{name:"rectangle",icon:"icon-rectangle",data:{text:"rectangle",rect:{width:200,height:50},paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,borderRadius:.1,name:"rectangle"}},{name:"circle",icon:"icon-circle",data:{text:"circle",rect:{width:100,height:100},name:"circle",textMaxLine:1}},{name:"triangle",icon:"icon-triangle",data:{text:"triangle",rect:{width:100,height:100},name:"triangle"}},{name:"diamond",icon:"icon-diamond",data:{text:"diamond",rect:{width:100,height:100},name:"diamond"}},{name:"pentagon",icon:"icon-pentagon",data:{text:"pentagon",rect:{width:100,height:100},name:"pentagon"}},{name:"hexagon",icon:"icon-hexagon",data:{text:"hexagon",rect:{width:100,height:100},paddingTop:10,paddingBottom:10,name:"hexagon"}},{name:"pentagram",icon:"icon-pentagram",data:{text:"pentagram",rect:{width:100,height:100},name:"pentagram"}},{name:"left arrow",icon:"icon-arrow-left",data:{text:"",rect:{width:200,height:100},name:"leftArrow"}},{name:"right arrow",icon:"icon-arrow-right",data:{text:"",rect:{width:200,height:100},name:"rightArrow"}},{name:"bidirectional arrow",icon:"icon-twoway-arrow",data:{text:"",rect:{width:200,height:100},name:"twowayArrow"}},{name:"line",icon:"icon-line",data:{text:"line",rect:{width:100,height:100},name:"line"}},{name:"cloud",icon:"icon-cloud",data:{text:"cloud",rect:{width:100,height:100},name:"cloud"}},{name:"message",icon:"icon-msg",data:{text:"message",rect:{width:100,height:100},paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,name:"message"}},{name:"file",icon:"icon-file",data:{text:"file",rect:{width:80,height:100},paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,name:"file"}},{name:"text",icon:"icon-text",data:{text:"text",rect:{width:160,height:30},name:"text"}},{name:"image",icon:"icon-image",data:{text:"",rect:{width:100,height:100},name:"image",image:"/assets/img/logo.png"}},{name:"cube",icon:"icon-cube",data:{rect:{width:50,height:70},is3D:!0,z:10,zRotate:15,fillStyle:"#ddd",name:"cube",icon:"\ue63c",iconFamily:"topology",iconColor:"#777",iconSize:30}},{name:"people",icon:"icon-people",data:{rect:{width:70,height:100},name:"people"}},{name:"multi media",icon:"icon-pc",data:{text:"multi media",rect:{width:200,height:200},paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,name:"div"}}]},{group:"Flow Graph",children:[{name:"start/end",icon:"icon-flow-start",data:{text:"start",rect:{width:120,height:40},borderRadius:.5,name:"rectangle"}},{name:"flow",icon:"icon-rectangle",data:{text:"flow",rect:{width:120,height:40},name:"rectangle"}},{name:"judgement",icon:"icon-diamond",data:{text:"judgement",rect:{width:120,height:60},name:"diamond"}},{name:"data",icon:"icon-flow-data",data:{text:"data",rect:{width:120,height:50},name:"flowData"}},{name:"prepare",icon:"icon-flow-ready",data:{text:"prepare",rect:{width:120,height:50},name:"hexagon"}},{name:"sub flow",icon:"icon-flow-subprocess",data:{text:"sub flow",rect:{width:120,height:50},name:"flowSubprocess"}},{name:"database",icon:"icon-db",data:{text:"database",rect:{width:80,height:120},name:"flowDb"}},{name:"document",icon:"icon-flow-document",data:{text:"document",rect:{width:120,height:100},name:"flowDocument"}},{name:"internal storage",icon:"icon-internal-storage",data:{text:"internal storage",rect:{width:120,height:80},name:"flowInternalStorage"}},{name:"external storage",icon:"icon-extern-storage",data:{text:"external storage",rect:{width:120,height:80},name:"flowExternStorage"}},{name:"queue",icon:"icon-flow-queue",data:{text:"queue",rect:{width:100,height:100},name:"flowQueue"}},{name:"input manually",icon:"icon-flow-manually",data:{text:"input manually",rect:{width:120,height:80},name:"flowManually"}},{name:"display",icon:"icon-flow-display",data:{text:"display",rect:{width:120,height:80},name:"flowDisplay"}},{name:"parallel",icon:"icon-flow-parallel",data:{text:"parallel",rect:{width:120,height:50},name:"flowParallel"}},{name:"comment",icon:"icon-flow-comment",data:{text:"comment",rect:{width:100,height:100},name:"flowComment"}}]},{group:"Activity Diagram",children:[{name:"start",icon:"icon-inital",data:{text:"",rect:{width:30,height:30},name:"circle",fillStyle:"#555",strokeStyle:"transparent"}},{name:"end",icon:"icon-final",data:{text:"",rect:{width:30,height:30},name:"activityFinal"}},{name:"action",icon:"icon-action",data:{text:"action",rect:{width:120,height:50},borderRadius:.25,name:"rectangle"}},{name:"decision/merge",icon:"icon-diamond",data:{text:"\u51b3\u7b56",rect:{width:120,height:50},name:"diamond"}},{name:"vertical swimming lane",icon:"icon-swimlane-v",data:{text:"vertical swimming lane",rect:{width:200,height:500},name:"swimlaneV"}},{name:"horizontal swimming lane",icon:"icon-swimlane-h",data:{text:"horizontal swimming lane",rect:{width:500,height:200},name:"swimlaneH"}},{name:"vertical fork/merge",icon:"icon-fork-v",data:{text:"",rect:{width:10,height:150},name:"forkV",fillStyle:"#555",strokeStyle:"transparent"}},{name:"horizontal fork/merge",icon:"icon-fork",data:{text:"",rect:{width:150,height:10},name:"forkH",fillStyle:"#555",strokeStyle:"transparent"}}]},{group:"Sequence Diagram && Class Diagram",children:[{name:"lifeline",icon:"icon-lifeline",data:{text:"lifeline",rect:{width:150,height:400},name:"lifeline"}},{name:"activation",icon:"icon-focus",data:{text:"",rect:{width:12,height:200},name:"sequenceFocus"}},{name:"simple class",icon:"icon-simple-class",data:{text:"Topolgoy",rect:{width:270,height:200},paddingTop:40,font:{fontFamily:"Arial",color:"#222",fontWeight:"bold"},fillStyle:"#ffffba",strokeStyle:"#7e1212",name:"simpleClass",children:[{text:"- name: string\n+ setName(name: string): void",name:"text",paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rectInParent:{x:0,y:0,width:"100%",height:"100%",rotate:0},font:{fontFamily:"Arial",color:"#222",textAlign:"left",textBaseline:"top"}}]}},{name:"class",icon:"icon-class",data:{text:"Topolgoy",rect:{width:270,height:200},paddingTop:40,font:{fontFamily:"Arial",color:"#222",fontWeight:"bold"},fillStyle:"#ffffba",strokeStyle:"#7e1212",name:"interfaceClass",children:[{text:"- name: string",name:"text",paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rectInParent:{x:0,y:0,width:"100%",height:"50%",rotate:0},font:{fontFamily:"Arial",color:"#222",textAlign:"left",textBaseline:"top"}},{text:"+ setName(name: string): void",name:"text",paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rectInParent:{x:0,y:"50%",width:"100%",height:"50%",rotate:0},font:{fontFamily:"Arial",color:"#222",textAlign:"left",textBaseline:"top"}}]}}]}],ps=En.default.div(es||(es=Qc(["\n  position: relative;\n  display: flex;\n  width: 100%;\n  height: 100%;\n"],["\n  position: relative;\n  display: flex;\n  width: 100%;\n  height: 100%;\n"]))),ds=En.default.div(ts||(ts=Qc(["\n  flex: 1;\n  width: initial;\n  position: relative;\n  overflow: auto;\n  background: #fff;\n"],["\n  flex: 1;\n  width: initial;\n  position: relative;\n  overflow: auto;\n  background: #fff;\n"]))),ms=En.default.div(ns||(ns=Qc(["\n  flex-shrink: 0;\n  width: 15rem;\n  background-color: #f8f8f8;\n  border-right: 1px solid #d9d9d9;\n  overflow-y: auto;\n"],["\n  flex-shrink: 0;\n  width: 15rem;\n  background-color: #f8f8f8;\n  border-right: 1px solid #d9d9d9;\n  overflow-y: auto;\n"]))),fs=En.default.div(rs||(rs=Qc(["\n  color: #0d1a26;\n  font-weight: 600;\n  font-size: 1em;\n  padding: 0.5rem 1rem;\n  margin-top: 0.08rem;\n  border-bottom: 1px solid #ddd;\n\n  &:first-child {\n    border-top: none;\n  }\n"],["\n  color: #0d1a26;\n  font-weight: 600;\n  font-size: 1em;\n  padding: 0.5rem 1rem;\n  margin-top: 0.08rem;\n  border-bottom: 1px solid #ddd;\n\n  &:first-child {\n    border-top: none;\n  }\n"]))),gs=En.default.div(os||(os=Qc(["\n  padding: 0.5rem 0;\n  a {\n    display: inline-block;\n    color: @text-color;\n    line-height: 1;\n    width: 2rem;\n    height: 2rem;\n    text-align: center;\n    text-decoration: none !important;\n\n    .iconfont {\n      font-size: 5rem;\n    }\n  }\n"],["\n  padding: 0.5rem 0;\n  a {\n    display: inline-block;\n    color: @text-color;\n    line-height: 1;\n    width: 2rem;\n    height: 2rem;\n    text-align: center;\n    text-decoration: none !important;\n\n    .iconfont {\n      font-size: 5rem;\n    }\n  }\n"]))),hs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={id:"",data:null,toolsConfig:us,iconfont:{fontSize:"1.24rem"}},t.canvasOptions={},t.handleContextMenu=function(e){e.preventDefault(),e.stopPropagation()},t.onMessage=function(e,n){var r=(0,t.props.getRef)("TOPOLOGY_DIAGRAM_UTIL");switch(e){case"resize":case"scale":case"locked":t.topology&&r&&r.setCanvasData(t.topology.data)}},t}return qc(t,e),t.prototype.canvasRegister=function(){Object(Vc.registerNode)("flowData",Uc.flowData,Uc.flowDataAnchors,Uc.flowDataIconRect,Uc.flowDataTextRect),Object(Vc.registerNode)("flowSubprocess",Uc.flowSubprocess,null,Uc.flowSubprocessIconRect,Uc.flowSubprocessTextRect),Object(Vc.registerNode)("flowDb",Uc.flowDb,null,Uc.flowDbIconRect,Uc.flowDbTextRect),Object(Vc.registerNode)("flowDocument",Uc.flowDocument,Uc.flowDocumentAnchors,Uc.flowDocumentIconRect,Uc.flowDocumentTextRect),Object(Vc.registerNode)("flowInternalStorage",Uc.flowInternalStorage,null,Uc.flowInternalStorageIconRect,Uc.flowInternalStorageTextRect),Object(Vc.registerNode)("flowExternStorage",Uc.flowExternStorage,Uc.flowExternStorageAnchors,Uc.flowExternStorageIconRect,Uc.flowExternStorageTextRect),Object(Vc.registerNode)("flowQueue",Uc.flowQueue,null,Uc.flowQueueIconRect,Uc.flowQueueTextRect),Object(Vc.registerNode)("flowManually",Uc.flowManually,Uc.flowManuallyAnchors,Uc.flowManuallyIconRect,Uc.flowManuallyTextRect),Object(Vc.registerNode)("flowDisplay",Uc.flowDisplay,Uc.flowDisplayAnchors,Uc.flowDisplayIconRect,Uc.flowDisplayTextRect),Object(Vc.registerNode)("flowParallel",Uc.flowParallel,Uc.flowParallelAnchors,null,null),Object(Vc.registerNode)("flowComment",Uc.flowComment,Uc.flowCommentAnchors,null,null),Object(Vc.registerNode)("activityFinal",Gc.activityFinal,null,Gc.activityFinalIconRect,Gc.activityFinalTextRect),Object(Vc.registerNode)("swimlaneV",Gc.swimlaneV,null,Gc.swimlaneVIconRect,Gc.swimlaneVTextRect),Object(Vc.registerNode)("swimlaneH",Gc.swimlaneH,null,Gc.swimlaneHIconRect,Gc.swimlaneHTextRect),Object(Vc.registerNode)("forkH",Gc.fork,Gc.forkHAnchors,Gc.forkIconRect,Gc.forkTextRect),Object(Vc.registerNode)("forkV",Gc.fork,Gc.forkVAnchors,Gc.forkIconRect,Gc.forkTextRect),Object(Vc.registerNode)("simpleClass",Yc.simpleClass,null,Yc.simpleClassIconRect,Yc.simpleClassTextRect),Object(Vc.registerNode)("interfaceClass",Yc.interfaceClass,null,Yc.interfaceClassIconRect,Yc.interfaceClassTextRect),Object(Vc.registerNode)("lifeline",Zc.lifeline,Zc.lifelineAnchors,Zc.lifelineIconRect,Zc.lifelineTextRect),Object(Vc.registerNode)("sequenceFocus",Zc.sequenceFocus,Zc.sequenceFocusAnchors,Zc.sequenceFocusIconRect,Zc.sequenceFocusTextRect)},t.prototype.componentDidMount=function(){this.canvasRegister(),this.canvasOptions.on=this.onMessage,this.topology=new Hc.Topology("topology-canvas",this.canvasOptions),this.openData()},t.prototype.componentDidUpdate=function(){this.openData()},t.prototype.openData=function(){var e=this.props,t=e.model,n=e.topicKey,r=t.getTopic(n).getBlock("TOPOLOGY").block;r&&r.data&&""!==r.data&&(this.setState({data:r.data}),this.topology.open(r.data))},t.prototype.onDrag=function(e,t){e.dataTransfer.setData("Text",JSON.stringify(t.data))},t.prototype.renderTools=function(){var e=this;return Object(r.createElement)(ms,null,this.state.toolsConfig.map((function(t,n){return Object(r.createElement)("div",{key:n},Object(r.createElement)(fs,null,t.group),Object(r.createElement)(gs,null,t.children.map((function(t,n){return Object(r.createElement)("a",{key:n,title:t.name,draggable:!0,onDragStart:function(n){e.onDrag(n,t)}},Object(r.createElement)("i",{className:"iconfont "+t.icon,style:e.state.iconfont}))}))))})))},t.prototype.render=function(){return Object(r.createElement)(ps,null,this.renderTools(),Object(r.createElement)(ds,{id:"topology-canvas",onContextMenu:this.handleContextMenu}))},t}(Io),ys=En.default.div(is||(is=Qc(["\n  position: absolute;\n  background: white;\n  right: 30px;\n  bottom: 20px;\n  border-radius: 2px;\n  z-index: 3;\n  display: flex;\n  flex-direction: row;\n  user-select: none;\n"],["\n  position: absolute;\n  background: white;\n  right: 30px;\n  bottom: 20px;\n  border-radius: 2px;\n  z-index: 3;\n  display: flex;\n  flex-direction: row;\n  user-select: none;\n"]))),bs=Object(En.default)(Ho)(as||(as=Qc(["\n  margin: 10px;\n"],["\n  margin: 10px;\n"]))),xs=function(e){return Object(r.createElement)(wn.x,{content:e.tooltip,position:Tn.a.TOP,className:kn.a.ICON},Object(r.createElement)(bs,{onClick:e.onClick},e.children))},vs=En.default.span(ls||(ls=Qc(["\n  display: inline-block;\n  width: 80px;\n  height: 18px;\n"],["\n  display: inline-block;\n  width: 80px;\n  height: 18px;\n"]))),Es=function(e){function t(t){var n=e.call(this,t)||this;return n.setCanvasData=function(e){n.setState({canvasData:e})},n.onClickResetZoom=function(e){n.getTopology().scaleTo(1)},n.state={deleteConfirm:!1,canvasData:null},n}return qc(t,e),t.prototype.getTopology=function(){return(0,this.props.getRef)("TOPOLOGY_DIAGRAM").topology},t.prototype.render=function(){var e=this,t=this.props,n=t.controller,o={isOpen:this.state.deleteConfirm,cancelButtonText:"cancel",onConfirm:function(e){n.run("operation",Xc(Xc({},t),{opType:gr,blockType:"TOPOLOGY"}))},onCancel:function(t){e.setState({deleteConfirm:!1})},onClose:function(t){e.setState({deleteConfirm:!1})}},i=this.state.canvasData,a=i?i.scale:1;return Object(r.createElement)(ys,null,Object(r.createElement)(xs,{onClick:this.onClickResetZoom,tooltip:"reset zoom"},Object(r.createElement)(vs,null,"zoom:"+Math.floor(100*a)+"%")),Object(r.createElement)(xs,{onClick:function(t){e.setState({deleteConfirm:!0})},tooltip:"delete this diagram"},ci(ai)),Object(r.createElement)(wn.a,Xc({},o),Object(r.createElement)("p",null,"Are you confirm to delete this topology diagram?")))},t}(r.Component),Os=En.default.div(cs||(cs=Qc(["\n  position: relative;\n  overflow: auto;\n  padding: 0px 0px 0px 5px;\n  background: #88888850;\n  height: 100%;\n"],["\n  position: relative;\n  overflow: auto;\n  padding: 0px 0px 0px 5px;\n  background: #88888850;\n  height: 100%;\n"]))),Cs=En.default.span(ss||(ss=Qc(["\n  padding: 0px 20px;\n"],["\n  padding: 0px 20px;\n"])));function ws(e){var t=e.controller,n=e.topicKey,o=e.getRef,i=e.saveRef,a=Xc(Xc({},e),{ref:i("TOPOLOGY_DIAGRAM")}),l=Xc(Xc({},e),{ref:i("TOPOLOGY_DIAGRAM_UTIL")});return Object(r.createElement)(wn.i,{title:Object(r.createElement)(Cs,null,"Topology Diagram Editor"),icon:ci("topology"),isOpen:!0,hasBackdrop:!0,backdropClassName:"backdrop",backdropProps:{onMouseDown:ji},canOutsideClickClose:!1,isCloseButtonShown:!0,onClose:function(r){r.stopPropagation();var i=o("TOPOLOGY_DIAGRAM").topology.data;t.run("operation",Xc(Xc({},e),{opType:fr,topicKey:n,blockType:"TOPOLOGY",data:i,focusMode:Yn}))},size:"100%"},Object(r.createElement)(Os,{onClick:ji,onDoubleClick:ji},Object(r.createElement)(hs,Xc({},a)),Object(r.createElement)(Es,Xc({},l))))}function ks(e){var t=e.model,n=e.topicKey,r=t.getTopic(n).getBlock("TOPOLOGY").block;return null!=r&&null!=r.data||(t=jr.setBlockData({model:t,topicKey:n,blockType:"TOPOLOGY",data:""})),t=jr.focusTopic({model:t,topicKey:n,focusMode:"FOCUS_MODE_EDITING_TOPOLOGY"})}var Ts=function(){return{renderTopicBlock:function(e,t){var n=e.controller;return"TOPOLOGY"===e.block.type?n.run("renderTopicBlockTopology",e):t()},renderTopicBlockTopology:function(e){return Object(r.createElement)($c,Xc({},e))},renderDrawer:function(e,t){var n=e.model;if("FOCUS_MODE_EDITING_TOPOLOGY"===n.focusMode){var o=Xc(Xc({},e),{topicKey:n.focusKey,key:"topology-drawer"});return Object(r.createElement)(ws,Xc({},o))}return t()},customizeTopicContextMenu:function(e,t){var n=e.controller;return Object(r.createElement)(r.Fragment,null,t(),Object(r.createElement)(wn.o,null),Object(r.createElement)(wn.p,{icon:ci("topology"),text:"Edit Topology Diagram",onClick:function(t){n.run("operation",Xc(Xc({},e),{opType:"OP_TYPE_START_EDITING_TOPOLOGY"}))}}))},getOpMap:function(e,t){var n=t();return n.set("OP_TYPE_START_EDITING_TOPOLOGY",ks),n}}},js=n(1173),Ss=function(e,t){return(Ss=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Rs(e,t){function n(){this.constructor=e}Ss(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Ds=function(){return(Ds=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Ls(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(l){o={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Ks(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Ms,Is,Ps=Object(En.default)(Zo)(Ms||(Ms=Ks(["\n  position: absolute;\n  left: calc(50% - 150px);\n  top: 30px;\n  width: 300px;\n  background: white;\n  padding: 10px;\n  user-select: none;\n"],["\n  position: absolute;\n  left: calc(50% - 150px);\n  top: 30px;\n  width: 300px;\n  background: white;\n  padding: 10px;\n  user-select: none;\n"]))),_s=En.default.div(Is||(Is=Ks(["\n  margin-bottom: 10px;\n"],["\n  margin-bottom: 10px;\n"])));function As(e){var t=e.zIndex,n=e.controller,o=e.topicKey;return Object(r.createElement)(Ps,{zIndex:t},Object(r.createElement)(_s,null,"Please select the topics you want to reference. After selection, click the confirm button."),Object(r.createElement)(Bo,{justifyContent:"space-around"},Object(r.createElement)(wn.d,{onClick:function(t){var r=n.run("getSelectedReferenceKeys",e);n.run("enableOperation",e),n.run("operation",Ds(Ds({},e),{opArray:[{opType:"OP_TYPE_SET_REFERENCE_TOPICS",topicKey:o,referenceKeys:r},{opType:ur,topicKey:o,focusMode:Yn}]})),n.run("clearSelectedReferenceKeys",e)}},"Confirm"),Object(r.createElement)(wn.d,{onClick:function(t){n.run("clearSelectedReferenceKeys",e),n.run("enableOperation",e),n.run("operation",Ds(Ds({},e),{opType:pr,focusMode:Yn}))}},"Cancel")))}var zs={keyList:Object(Rn.List)(),dataMap:Object(Rn.Map)()},Fs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rs(t,e),Object.defineProperty(t.prototype,"keyList",{get:function(){return this.get("keyList")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataMap",{get:function(){return this.get("dataMap")},enumerable:!0,configurable:!0}),t}(Object(Rn.Record)(zs)),Ns={reference:Object(Rn.Map)()},Bs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rs(t,e),Object.defineProperty(t.prototype,"reference",{get:function(){return this.get("reference")},enumerable:!0,configurable:!0}),t.prototype.getReferenceKeys=function(e){return this.reference.has(e)?this.reference.get(e).keyList.toArray():[]},t.prototype.getReferencedKeys=function(e){var t=[];return this.reference.forEach((function(n,r){n.keyList.includes(e)&&t.push(r)})),t},t}(Object(Rn.Record)(Ns));function Ws(e){var t=e.model,n=e.topicKey,r=e.referenceKeys,o=t.getExtDataItem("TOPIC_REFERENCE",Bs),i=o.reference.get(n)||new Fs;return i=i.set("keyList",Object(Rn.List)(r)),o=o.setIn(["reference",n],i),t=t.setIn(["extData","TOPIC_REFERENCE"],o)}var Hs,Vs,Us,Gs=En.default.div(Hs||(Hs=Ks(["\n  display: flex;\n  width: 380px;\n  margin: 10px;\n  justify-content: center;\n  align-items: center;\n"],["\n  display: flex;\n  width: 380px;\n  margin: 10px;\n  justify-content: center;\n  align-items: center;\n"]))),Ys=En.default.div(Vs||(Vs=Ks(["\n  width: 300px;\n  text-decoration: underline;\n  cursor: pointer;\n"],["\n  width: 300px;\n  text-decoration: underline;\n  cursor: pointer;\n"]))),Zs=En.default.div(Us||(Us=Ks(["\n  width: 80px;\n"],["\n  width: 80px;\n"])));function Js(e){var t=e.controller,n=e.refKey,o=e.refType,i=e.removeHandler,a=Ls(Object(r.useState)(!1),2),l=a[0],c=a[1],s=t.getValue(Ti,Ds(Ds({},e),{topicKey:n,maxLength:100})),u={isOpen:l,cancelButtonText:"cancel",onConfirm:function(e){i(e)},onCancel:function(e){c(!1)},onClose:function(e){c(!1)}};return Object(r.createElement)(Gs,null,Object(r.createElement)(Ys,{onClick:function(r){r.stopPropagation(),t.run("focusTopicAndMoveToCenter",Ds(Ds({},e),{topicKey:n}))}},s),Object(r.createElement)(Zs,null,"reference"===o&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(wn.d,{onClick:function(e){c(!0)}},"Remove"),Object(r.createElement)(wn.a,Ds({},u),Object(r.createElement)("p",null,"Are you confirm to remove this reference?")))))}var qs,Xs,Qs,$s,eu,tu=En.default.div(qs||(qs=Ks([""],[""]))),nu=En.default.div(Xs||(Xs=Ks(["\n  padding: 10px;\n"],["\n  padding: 10px;\n"]))),ru=En.default.div(Qs||(Qs=Ks(["\n  max-height: 200px;\n  overflow: auto;\n"],["\n  max-height: 200px;\n  overflow: auto;\n"]))),ou=En.default.div($s||($s=Ks(["\n  font-size: 20px;\n  color: #106ba3;\n"],["\n  font-size: 20px;\n  color: #106ba3;\n"]))),iu=En.default.div(eu||(eu=Ks(["\n  text-decoration: underline;\n  color: #106ba3;\n  cursor: pointer;\n"],["\n  text-decoration: underline;\n  color: #106ba3;\n  cursor: pointer;\n"])));function au(e){var t=e.topicKey,n=e.controller,o=e.model,i=o.extData.get("TOPIC_REFERENCE"),a=i.getReferenceKeys(t),l=0===a.length?null:Object(r.createElement)(nu,null,Object(r.createElement)(ou,null,"Reference Topics:"),Object(r.createElement)(ru,null,a.map((function(o){var a,l=Ds(Ds({},e),{key:o,refKey:o,refType:"reference",removeHandler:(a=o,function(r){r.stopPropagation();var o=i.reference.get(t).keyList;n.run("operation",Ds(Ds({},e),{opArray:[{opType:"OP_TYPE_SET_REFERENCE_TOPICS",topicKey:t,focusMode:Yn,referenceKeys:o.delete(o.indexOf(a)).toArray()}]}))})});return Object(r.createElement)(Js,Ds({},l))})))),c=i.getReferencedKeys(t),s=0===c.length?null:Object(r.createElement)(nu,null,Object(r.createElement)(ou,null,"Referenced Topics:"),Object(r.createElement)(ru,null,c.map((function(t){var n=Ds(Ds({},e),{key:t,refKey:t,refType:"referenced"});return Object(r.createElement)(Js,Ds({},n))})))),u=o.focusKey!==t&&Object(r.createElement)(nu,null,Object(r.createElement)(iu,{onClick:function(t){t.stopPropagation(),n.run("focusTopicAndMoveToCenter",e)}},"Goto Origin Topic"));return Object(r.createElement)(tu,{onMouseDown:ji},l,s,u)}function lu(e){var t=e.model,n=e.topicKey,o=t.extData.get("TOPIC_REFERENCE")||new Bs,i=o.reference.get(n),a=[];if(o.reference.forEach((function(e,t){e.keyList.includes(n)&&a.push(t)})),(null==i||0===i.keyList.size)&&0===a.length)return null;var l={className:li("reference"),tabIndex:-1},c=Object(r.createElement)(Yo,Ds({},l)),s={autoFocus:!1,content:Object(r.createElement)(au,Ds({},e)),target:c,interactionKind:wn.t.CLICK,hoverOpenDelay:500};return Object(r.createElement)(wn.s,Ds({},s))}function cu(e){var t=e.topicKey,n=e.selectedTopicKeys,o=n.has(t),i=Ls(Object(r.useState)(o),2),a=i[0],l=i[1],c={checked:a,onChange:function(){n.has(t)?n.delete(t):n.add(t),l(!a)}};return Object(r.createElement)(Vo,Ds({},c))}var su,uu,pu,du,mu,fu=js.a.ofType(),gu=Object(En.default)(fu)(su||(su=Ks(["\n  top: 20%;\n  left: 25% !important;\n  width: 50% !important;\n"],["\n  top: 20%;\n  left: 25% !important;\n  width: 50% !important;\n"]))),hu=En.default.div(uu||(uu=Ks(["\n  margin: 0 5px;\n  padding: 10px 5px;\n  width: 100%;\n  font-size: 16px;\n  cursor: pointer;\n  &:hover {\n    background: #e3e8ec;\n  }\n"],["\n  margin: 0 5px;\n  padding: 10px 5px;\n  width: 100%;\n  font-size: 16px;\n  cursor: pointer;\n  &:hover {\n    background: #e3e8ec;\n  }\n"]))),yu=Object(En.default)(wn.s)(pu||(pu=Ks(["\n  display: block;\n"],["\n  display: block;\n"]))),bu=En.default.div(du||(du=Ks(["\n  padding: 10px;\n  font-size: 16px;\n  //max-width: 800px;\n  //max-height: 600px;\n  overflow: auto;\n"],["\n  padding: 10px;\n  font-size: 16px;\n  //max-width: 800px;\n  //max-height: 600px;\n  overflow: auto;\n"]))),xu=En.default.div(mu||(mu=Ks(["\n  white-space: break-spaces;\n"],["\n  white-space: break-spaces;\n"]))),vu={placeholder:"Search"};function Eu(e){var t=e.model,n=(e.setSearchWord,e.controller),o=function(t){return function(r){n.run("focusTopicAndMoveToCenter",Ds(Ds({},e),{topicKey:t}))}},i=function(){var r=[];return t.topics.forEach((function(t,o){r.push({key:o,title:n.run("getTopicTitle",Ds(Ds({},e),{topicKey:o}))})})),r}();return Object(r.createElement)(gu,{inputProps:vu,itemListPredicate:function(e,t){return t.filter((function(t){return t.title.toLowerCase().includes(e.toLowerCase())}))},isOpen:!0,items:i,itemRenderer:function(e,t){var n=e.key,i=e.title,a=i.length>100,l=a?i.substr(0,100)+"...":i,c={key:n,onClick:o(n)},s=Object(r.createElement)(hu,Ds({},c),l),u={key:n,target:s,content:Object(r.createElement)(bu,null,Object(r.createElement)(xu,null,i)),fill:!0,interactionKind:wn.t.HOVER_TARGET_ONLY,hoverOpenDelay:1e3};return a?Object(r.createElement)(yu,Ds({},u)):s},onClose:function(){n.run("operation",Ds(Ds({},e),{opType:pr,focusMode:Yn}))},resetOnSelect:!0})}var Ou=n(215),Cu=n(454),wu=n.n(Cu),ku=n(455),Tu=n.n(ku),ju=n(456),Su=n.n(ju),Ru=n(459),Du=n.n(Ru),Lu=n(457),Ku=n.n(Lu),Mu=n(458),Iu=n.n(Mu),Pu=n(462),_u=n.n(Pu),Au=n(278),zu=n.n(Au),Fu=n(461),Nu=n.n(Fu),Bu=n(460),Wu=n.n(Bu),Hu=n(449),Vu=n.n(Hu),Uu=n(450),Gu=n.n(Uu),Yu=n(451),Zu=n.n(Yu),Ju=n(452),qu=n.n(Ju),Xu=n(453),Qu=n.n(Xu);var $u=["classes","color","title"];var ep=Object(Ie.a)({root:{padding:"7px"}})((function(e){var t=e.classes,n=(e.color,e.title),o=void 0===n?"":n,i=Object(Ou.a)(e,$u);return r.createElement(N.a,{title:o},r.createElement(z.a,Object.assign({className:t.root},i)))}));function tp(e){var t=Object(E.f)(),n=Object(ut.a)("(min-width:900px)"),o=r.useState(n),i=Object(O.a)(o,2),a=i[0],l=i[1];r.useEffect((function(){l(n)}),[n]);var c=e.diagram,s=e.onClickUndo,u=e.onClickRedo;return r.createElement("div",{style:Object(R.a)(Object(R.a)({display:"flex"},!a&&{flexDirection:"column"}),{},{justifyContent:"space-between",margin:"10px 20px"})},r.createElement(T.a,{component:"div",style:Object(R.a)(Object(R.a)({backgroundColor:"white",flexGrow:0,padding:"4px"},!n&&{marginBottom:"10px "}),{},{borderRadius:"40px",display:"flex",alignContent:"center",boxShadow:"rgb(185 185 185) 0px 0px 9px 0px"})},r.createElement(ep,{onClick:function(){return t("/dashboard")}},r.createElement(Q.a,null)),r.createElement(ip,null),r.createElement(ep,null,r.createElement(wu.a,null)),r.createElement(ep,null,r.createElement(tn.a,null)),r.createElement(U.a,{variant:"contained",color:"primary",startIcon:r.createElement(Re.a,null),style:{borderRadius:"40px",boxShadow:"none"}},"Uprade Now")),r.createElement(T.a,{style:{display:"flex",alignContent:"center"}},r.createElement(ep,{title:"Add",onClick:function(t){var n=e.diagram.getDiagramProps();n.controller.run("add",n)},style:{margin:"3px",marginRight:"10px",backgroundColor:"#ffa000",color:"white",boxShadow:"rgb(185 185 185) 0px 0px 9px 0px"}},r.createElement(At.a,null)),r.createElement(T.a,{component:"div",style:{flex:1,backgroundColor:"white",padding:"4px",borderRadius:"40px",display:"flex",alignContent:"center",boxShadow:"rgb(185 185 185) 0px 0px 9px 0px"}},r.createElement(ep,{title:"Open folder",onClick:function(t){var n=e.diagram,r=n.getDiagramProps().controller;Ri(".json,.blinkmind,.bm").then((function(e){var t=JSON.parse(e),o=r.run("deserializeModel",{controller:r,obj:t});n.openNewModel(o)}))}},r.createElement(Tu.a,null)),r.createElement(ep,{title:"Export Json file",onClick:function(t){var n=e.diagram.getDiagramProps(),r=n.controller,o=n.model,i=r.run("serializeModel",n),a=JSON.stringify(i),l="data:text/plain,".concat(encodeURIComponent(a)),c=r.run("getTopicTitle",Object(R.a)(Object(R.a)({},n),{},{topicKey:o.rootTopicKey}));!function(e,t){var n=document.createElement("a");n.href=e,n.download=t,n.click()}(l,"".concat(c,".blinkmind"))}},r.createElement(Su.a,null)),r.createElement(rp,{title:"Layout setting",diagram:c}),r.createElement(np,{title:"Theme setting",diagram:c}),r.createElement(ep,{title:"Search",onClick:function(t){var n=e.diagram.getDiagramProps();n.controller.run("operation",Object(R.a)(Object(R.a)({},n),{},{opType:pr,focusMode:"FOCUS_MODE_SEARCH"}))}},r.createElement(ne.a,null)),r.createElement(ep,{title:"Undo",onClick:s},r.createElement(Ku.a,null)),r.createElement(ep,{title:"Redo",onClick:u},r.createElement(Iu.a,null)),r.createElement(U.a,{variant:"contained",color:"primary",startIcon:r.createElement(Re.a,null),style:{borderRadius:"40px",boxShadow:"none"}},"Invite"),r.createElement(op,null))))}function np(e){var t,n=e.diagram.getDiagramProps(),o=n.controller,i=r.useState(null),a=Object(O.a)(i,2),l=a[0],c=a[1],s=Boolean(l),u=function(){c(null)},p=[["default",Vu.a],["theme1",Gu.a],["theme2",Zu.a],["theme3",qu.a],["theme4",Qu.a]];return r.createElement(r.Fragment,null,r.createElement(T.a,{style:{display:"flex",alignItems:"center",textAlign:"center"}},r.createElement(ep,(t={"aria-controls":"theme-menu","aria-haspopup":"true",onClick:function(e){c(e.currentTarget)}},Object(D.a)(t,"aria-controls",s?"map-menu":void 0),Object(D.a)(t,"aria-haspopup","true"),Object(D.a)(t,"aria-expanded",s?"true":void 0),Object(D.a)(t,"variant","text"),t),r.createElement(Du.a,null))),r.createElement(B.a,{anchorEl:l,id:"theme-menu",open:s,onClose:u,onClick:u,getContentAnchorEl:null,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"center",vertical:"bottom"}},p.map((function(e){return r.createElement(W.a,{key:e[0],onClick:(t=e[0],function(e){o.run("setTheme",Object(R.a)(Object(R.a)({},n),{},{themeKey:t}))})},r.createElement("img",{src:e[1],alt:e[0],style:{width:"350px",height:"80px"}}));var t}))))}function rp(e){var t,n=e.diagram.getDiagramProps(),o=n.controller,i=r.useState(null),a=Object(O.a)(i,2),l=a[0],c=a[1],s=Boolean(l),u=function(){c(null)},p=[[zn.LEFT_AND_RIGHT,"Left And Right",r.createElement(zu.a,null)],[zn.LEFT_TO_RIGHT,"Only Right",r.createElement(Wu.a,null)],[zn.RIGHT_TO_LEFT,"Only Left",r.createElement(Nu.a,null)]];return r.createElement(r.Fragment,null,r.createElement(T.a,{style:{display:"flex",alignItems:"center",textAlign:"center"}},r.createElement(ep,(t={"aria-controls":"layout-menu","aria-haspopup":"true",onClick:function(e){c(e.currentTarget)}},Object(D.a)(t,"aria-controls",s?"map-menu":void 0),Object(D.a)(t,"aria-haspopup","true"),Object(D.a)(t,"aria-expanded",s?"true":void 0),Object(D.a)(t,"variant","text"),t),r.createElement(zu.a,null))),r.createElement(B.a,{anchorEl:l,id:"layout-menu",open:s,onClose:u,onClick:u,getContentAnchorEl:null,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"center",vertical:"bottom"}},p.map((function(e){return r.createElement(W.a,{key:e[1],onClick:(t=e[0],function(e){o.run("setLayoutDir",Object(R.a)(Object(R.a)({},n),{},{layoutDir:t}))})},r.createElement(H.a,null,e[2]),e[1]);var t}))))}function op(){var e,t=Object(x.d)(Xe("currentUser")).data,n=Object(x.c)(),o=Object(E.f)(),i=r.useState(null),a=Object(O.a)(i,2),l=a[0],c=a[1],s=Boolean(l),u=function(){c(null)};return r.createElement(r.Fragment,null,r.createElement(T.a,{style:{display:"flex",alignItems:"center",textAlign:"center"}},r.createElement(N.a,{title:t.displayName},r.createElement(z.a,{onClick:function(e){c(e.currentTarget)},size:"small",style:{ml:2},"aria-controls":s?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":s?"true":void 0},r.createElement(G.a,{style:{width:32,height:32},alt:t.displayName,src:t.photoURL})))),r.createElement(B.a,(e={anchorEl:l,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},id:"account-menu",open:s,onClose:u,onClick:u,PaperProps:{elevation:0,style:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",marginTop:1,"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}}},Object(D.a)(e,"transformOrigin",{horizontal:"right",vertical:"top"}),Object(D.a)(e,"anchorOrigin",{horizontal:"right",vertical:"bottom"}),e),r.createElement(T.a,{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.createElement(G.a,{style:{marginTop:"10px",width:"80px",height:"80px",border:"1px solid grey","& img":{borderRadius:"100%"}},src:t.photoURL}),r.createElement("div",{style:{margin:"15px",fontSize:"20px"}},t.displayName),r.createElement("div",{style:{padding:"0px 20px",width:"250px",fontSize:"17px",lineHeight:"25px",fontWeight:400,letterSpacing:"normal",color:"rgb(138, 148, 153)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center",marginBottom:"10px"}},t.email)),r.createElement(W.a,{onClick:function(){return o("/account/me")}},r.createElement(H.a,null,r.createElement(ae.a,{fontSize:"small"})),r.createElement(V.a,{primary:"Account"})),r.createElement(W.a,null,r.createElement(H.a,null,r.createElement(ce.a,{fontSize:"small"})),r.createElement(V.a,{primary:"Preferences"})),r.createElement(Y.a,null),r.createElement(W.a,null,r.createElement(H.a,null,r.createElement(ue.a,{fontSize:"small"})),r.createElement(V.a,{primary:"Help"})),r.createElement(W.a,null,r.createElement(H.a,null,r.createElement(de.a,{fontSize:"small"})),r.createElement(V.a,{primary:"Apps"})),r.createElement(W.a,null,r.createElement(H.a,null,r.createElement(fe.a,{fontSize:"small"})),r.createElement(V.a,{primary:"Spread the love"})),r.createElement(W.a,{onClick:function(){n(Ze())}},r.createElement(H.a,null,r.createElement(he.a,{fontSize:"small"})),r.createElement(V.a,{primary:"Logout"}))))}function ip(){var e,t=Object(E.f)(),n=r.useState(null),o=Object(O.a)(n,2),i=o[0],a=o[1],l=Boolean(i),c=function(){a(null)};return r.createElement(r.Fragment,null,r.createElement(T.a,{style:{display:"flex",alignItems:"center",textAlign:"center"}},r.createElement(N.a,{title:"Map settings"},r.createElement(U.a,(e={onClick:function(e){a(e.currentTarget)},size:"small",style:{ml:2},"aria-controls":l?"map-menu":void 0,"aria-haspopup":"true","aria-expanded":l?"true":void 0,variant:"text",color:"primary"},Object(D.a)(e,"style",{color:"black"}),Object(D.a)(e,"endIcon",r.createElement(_u.a,null)),e),"My New Mind Map"))),r.createElement(B.a,{anchorEl:i,getContentAnchorEl:null,id:"map-menu",open:l,onClose:c,onClick:c,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"}},r.createElement(W.a,{disabled:!0},"Recent Maps"),r.createElement(W.a,{onClick:function(){return t("/")}},"My New Mind Map"),r.createElement(W.a,null,"Basic commands of Git")))}n(1092);var ap=function(e){return o.a.createElement("div",null,o.a.createElement("div",{style:{position:"fixed",top:0,right:0,left:0,zIndex:9}},o.a.createElement(tp,e)))},lp=(n(1093),n(463)),cp=n.n(lp),sp=n(464),up=n.n(sp),pp=[Pc(),function(){var e=new Map([["default",Sr],["random-color-square",zc],["theme1",Fc],["theme2",Nc],["theme3",Bc],["theme4",Wc]]);return{getAllThemes:function(t){return e},setTheme:function(e){var t=e.model,n=e.controller,r=e.themeKey,o=n.run("getAllThemes",e);if(!o.has(r))throw new Error("setTheme: the theme key is not correct!");var i=o.get(r),a=jr.setTheme({model:t,theme:i});n.change(a)}}}(),function(){var e=new Set;function t(t){var n=t.model,r=t.topicKey,o=n.getExtDataItem("TOPIC_REFERENCE",Bs);return e=new Set(o.getReferenceKeys(r)),n=jr.focusTopic({model:n,topicKey:r,focusMode:"FOCUS_MODE_SET_REFERENCE_TOPICS"})}return{customizeTopicContextMenu:function(e,t){var n=e.controller;return Object(r.createElement)(r.Fragment,null,t(),Object(r.createElement)(wn.o,null),Object(r.createElement)(wn.p,{key:"EXT_KEY_TOPIC_REFERENCE",icon:ci("reference"),text:"Set Reference Topics",onClick:function(t){n.run("operation",Ds(Ds({},e),{opType:"OP_TYPE_START_SET_REFERENCE_TOPICS"})),n.run("disableOperation",Ds(Ds({},e),{whiteList:[nr]}))}}))},getOpMap:function(e,n){var r=n();return r.set("OP_TYPE_START_SET_REFERENCE_TOPICS",t),r.set("OP_TYPE_SET_REFERENCE_TOPICS",Ws),r},beforeOpFunction:function(e,t){var n=t(),r=e.opType,o=e.topicKey;if(r===sr&&o!==n.editorRootTopicKey){var i=Cr(n,o);i.push(o);var a=n.getExtDataItem("TOPIC_REFERENCE",Bs),l=a.reference;i.forEach((function(e){var t=a.getReferencedKeys(e);(l=l.withMutations((function(n){t.forEach((function(t){n.updateIn([t,"keyList"],(function(t){return t.delete(t.indexOf(e))}))}))}))).has(e)&&(l=l.delete(e))})),a=a.set("reference",l),n=n.setIn(["extData","TOPIC_REFERENCE"],a)}return n},renderDiagramCustomize:function(e,t){var n=e.model,o=e.controller.getValue(wi)+2,i=t();if("FOCUS_MODE_SET_REFERENCE_TOPICS"===n.focusMode){var a=Ds(Ds({},e),{zIndex:o,topicKey:n.focusKey,key:"AddReferenceTopicPanel"});i.push(Object(r.createElement)(As,Ds({},a)))}return i},renderTopicContentOthers:function(t,n){var o=t.model,i=t.topicKey,a=t.controller,l=n();if(l.push(a.run("renderTopicExtReference",Ds(Ds({},t),{key:"EXT_KEY_TOPIC_REFERENCE-icon"}))),"FOCUS_MODE_SET_REFERENCE_TOPICS"===o.focusMode&&o.focusKey!==i){var c=Ds(Ds({},t),{key:"checkbox",selectedTopicKeys:e}),s=Object(r.createElement)(cu,Ds({},c));l.push(s)}return l},renderTopicExtReference:function(e,t){return Object(r.createElement)(lu,Ds({},e))},clearSelectedReferenceKeys:function(){e.clear()},getSelectedReferenceKeys:function(){return Array.from(e)},deserializeExtDataItem:function(e,t){var n=e.extDataKey,r=e.extDataItem;if("TOPIC_REFERENCE"===n){var o=new Bs,i=function(e){var t=r.reference[e],n=new Fs({keyList:Object(Rn.List)(t.keyList),dataMap:Object(Rn.Map)(t.dataMap)});o=o.update("reference",(function(t){return t.set(e,n)}))};for(var a in r.reference)i(a);return o}return t()}}}(),function(){var e=function(e){};return{customizeHotKeys:function(e,t){var n=e.controller,r=e.model,o=t();return o.globalHotKeys.set("DEFAULT_SEARCH",{label:"search",combo:"ctrl + f",onKeyDown:function(){n.run("operation",Ds(Ds({},e),{opType:ur,topicKey:r.focusKey,focusMode:"FOCUS_MODE_SEARCH"}))}}),o},renderDiagramCustomize:function(t,n){var o=n();if("FOCUS_MODE_SEARCH"===t.model.focusMode){var i=Ds(Ds({key:"search-panel"},t),{setSearchWorld:e});o.push(Object(r.createElement)(Eu,Ds({},i)))}return o}}}(),Ts(),{serializeModel:function(e,t){var n=t();if(null!=n)return n;var r=e.model,o=e.controller;return{rootTopicKey:r.rootTopicKey,editorRootTopicKey:r.editorRootTopicKey,focusKey:r.focusKey,extData:o.run("serializeExtData",_c(_c({},e),{extData:r.extData})),topics:r.topics.valueSeq().toArray().map((function(t){return o.run("serializeTopic",_c(_c({},e),{topic:t}))})),config:o.run("serializeConfig",_c(_c({},e),{config:r.config})),formatVersion:r.formatVersion}},deserializeModel:function(e,t){var n=t();if(null!=n)return n;var r=e.obj,o=e.controller;null==r.formatVersion&&(r.formatVersion="0.0");var i=r.rootTopicKey,a=r.editorRootTopicKey,l=r.focusKey,c=r.topics,s=r.config,u=r.extData,p=r.formatVersion,d=new Kr;return null==(d=d.merge({rootTopicKey:i,editorRootTopicKey:null==a?i:a,focusKey:l,extData:o.run("deserializeExtData",_c(_c({},e),{extData:u,formatVersion:p})),config:o.run("deserializeConfig",_c(_c({},e),{config:s,formatVersion:p})),topics:o.run("deserializeTopics",_c(_c({},e),{topics:c,formatVersion:p})),formatVersion:r.formatVersion})).focusKey&&(d=d.set("focusKey",d.rootTopicKey)),null==d.focusMode&&(d=d.set("focusMode",Yn)),Ac("deserializeModel",d),d},serializeExtData:function(e,t){var n=t();if(null!=n)return n;var r=e.extData,o=e.controller,i={};return r.forEach((function(t,n){i[n]=o.run("serializeExtDataItem",{props:e,extDataKey:n,extDataItem:t})})),i},deserializeExtData:function(e,t){var n=t();if(null!=n)return n;var r=e.extData,o=e.controller,i=Object(Rn.Map)();for(var a in r)i=i.set(a,o.run("deserializeExtDataItem",_c(_c({},e),{extDataKey:a,extDataItem:r[a]})));return i},serializeExtDataItem:function(e,t){var n=t();if(null!=n)return n;var r=e.extDataItem;return Object(Rn.isImmutable)(r)?r.toJS():r},deserializeExtDataItem:function(e,t){var n=t();return null!=n?n:e.extDataItem},serializeConfig:function(e,t){var n=t();return null!=n?n:e.config.toJS()},deserializeConfig:function(e,t){var n=t();if(null!=n)return n;var r=e.config;return new Dr(r)},serializeTopic:function(e,t){var n=t();if(null!=n)return n;var r=e.topic,o=e.controller;return{key:r.key,parentKey:r.parentKey,emoji:r.emoji,subKeys:r.subKeys.toArray(),collapse:r.collapse,style:r.style,blocks:r.blocks.map((function(t){return o.run("serializeBlock",_c(_c({},e),{block:t}))}))}},deserializeTopic:function(e,t){var n=t();if(null!=n)return n;var r=e.topic,o=e.controller,i=r.key,a=r.parentKey,l=r.subKeys,c=r.blocks,s=r.style,u=r.collapse,p=new Or;return p=p.merge({key:i,parentKey:a,emoji:r.emoji,subKeys:Object(Rn.List)(l),style:s,collapse:u,blocks:o.run("deserializeBlocks",_c(_c({},e),{blocks:c}))})},deserializeTopics:function(e,t){var n=t();if(null!=n)return n;var r=e.topics,o=e.controller,i=Object(Rn.Map)();return i=i.withMutations((function(t){r.forEach((function(n){return t.set(n.key,o.run("deserializeTopic",_c(_c({},e),{topic:n})))}))}))},serializeBlock:function(e,t){var n=t();if(null!=n)return n;var r=e.block,o=e.controller;return{type:r.type,data:o.run("serializeBlockData",_c({},e))}},serializeBlockData:function(e,t){var n=t();return null!=n?n:e.block.data},deserializeBlock:function(e,t){var n=t();if(null!=n)return n;var r=e.block,o=e.controller,i=r.type;return new Er({type:i,data:o.run("deserializeBlockData",_c(_c({},e),{block:r}))})},deserializeBlockData:function(e,t){var n=t();return null!=n?n:e.block.data},deserializeBlocks:function(e,t){var n=t();if(null!=n)return n;var r=e.blocks,o=e.controller,i=Object(Rn.List)();return i=i.withMutations((function(t){r.forEach((function(n){return t.push(o.run("deserializeBlock",_c(_c({},e),{block:n})))}))}))}}],dp=function(e){Object(Be.a)(n,e);var t=Object(We.a)(n);function n(e){var r;return Object(He.a)(this,n),(r=t.call(this,e)).diagramRef=function(e){r.diagram=e,r.setState({})},r.onClickUndo=function(e){var t=r.diagram.getDiagramProps();t.controller.run("undo",t)},r.onClickRedo=function(e){var t=r.diagram.getDiagramProps();t.controller.run("redo",t)},r.onChange=function(e,t){r.setState({model:e},t)},r.initModel(),r}return Object(Ve.a)(n,[{key:"initModel",value:function(){var e=function(){var e=vr();return Kr.create({rootTopicKey:e,topics:[{key:e,blocks:[{type:"CONTENT",data:"MainTopic"}]}]})}();this.state={model:e}}},{key:"renderDiagram",value:function(){return o.a.createElement(Oc,{ref:this.diagramRef,model:this.state.model,onChange:this.onChange,plugins:pp,devicehub:o.a.createElement(z.a,null,o.a.createElement(ke.a,null)),format:o.a.createElement(z.a,null,o.a.createElement(cp.a,null)),emoji:o.a.createElement(z.a,null,o.a.createElement(up.a,null))})}},{key:"renderToolbar",value:function(){var e=this.diagram.getDiagramProps(),t=e.controller,n=t.run("canUndo",e),r=t.run("canRedo",e),i={diagram:this.diagram,onClickUndo:this.onClickUndo,onClickRedo:this.onClickRedo,canUndo:n,canRedo:r};return o.a.createElement(ap,i)}},{key:"render",value:function(){return o.a.createElement("div",{className:"mindmap"},this.diagram&&this.renderToolbar(),this.renderDiagram())}}]),n}(o.a.Component);function mp(){return r.createElement("div",null,r.createElement(dp,null))}var fp=n(1180),gp=n(1174),hp=n(1177),yp=Object(Pe.a)((function(e){return{root:{padding:"20px"}}}));function bp(){var e=yp(),t=Object(x.d)(Xe("currentUser")).data;return r.createElement("div",{className:e.root},r.createElement(F.a,{variant:"h5",noWrap:!0,style:{marginTop:"10px"}},"Personal Details"),r.createElement(T.a,{style:{display:"flex",flexDirection:"row",justifyContent:"center",paddingTop:"20px"}},r.createElement(T.a,{style:{flex:2/3,display:"flex",flexDirection:"column",width:"60%"}},r.createElement(hp.a,{id:"name",label:"Name",variant:"outlined",style:{margin:"10px"}}),r.createElement(hp.a,{id:"website",label:"Website",variant:"outlined",style:{margin:"10px"}}),r.createElement(hp.a,{id:"description",label:"Description",variant:"outlined",style:{margin:"10px"}}),r.createElement(U.a,{variant:"contained",color:"primary",style:{margin:"20px",textAlign:"center"}},"Save Change")),r.createElement(T.a,{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"40%"}},r.createElement(G.a,{style:{width:"130px",height:"130px",border:"5px double grey","& img":{borderRadius:"100%"}},src:t.photoURL}),r.createElement("div",{style:{textAlign:"center",marginTop:"10px"}},"My Avatar"),r.createElement("div",{style:{width:"150px",textAlign:"center",marginTop:"10px",color:"grey"}},"Your photo should be cool and may use transparency."))))}var xp=Object(Pe.a)((function(e){return{root:{padding:"20px"}}}));function vp(){var e=xp();return r.createElement("div",{className:e.root},r.createElement(F.a,{variant:"h5",noWrap:!0,style:{marginTop:"10px"}},"Password"),r.createElement(T.a,{style:{display:"flex",flexDirection:"column",width:"50%",margin:"30px"}},r.createElement(hp.a,{id:"newpassword",label:"New Password",variant:"outlined",style:{margin:"10px"}}),r.createElement(hp.a,{id:"confirmpassword",label:"Confirm New Password",variant:"outlined",style:{margin:"10px"}}),r.createElement(U.a,{variant:"contained",color:"primary",style:{margin:"20px",textAlign:"center"}},"Save Change")),r.createElement(T.a,null,r.createElement(F.a,{variant:"h5",noWrap:!0},"Email"),r.createElement("div",{style:{margin:"30px",color:"grey",lineHeight:2}},"Email Address ",r.createElement("br",null),"Please set a password above in order to be able to ",r.createElement("br",null),"change your email"),r.createElement(hp.a,{id:"name",label:"alexey.khlebnikov.com",variant:"outlined",disabled:!0,style:{margin:"10px"}})))}function Ep(){return r.createElement(T.a,{component:"main",style:{p:3,mt:10},noValidate:!0,autoComplete:"off"},"Settings")}var Op=["children","value","index"],Cp=Object(Pe.a)((function(e){return{root:{flexGrow:1,padding:30},drawerHeader:Object(R.a)({display:"flex",alignItems:"center",justifyContent:"space-between",padding:e.spacing(5,2)},e.mixins.toolbar)}}));function wp(e){var t=e.children,n=e.value,o=e.index,i=Object(Ou.a)(e,Op);return r.createElement("div",Object.assign({role:"tabpanel",hidden:n!==o,id:"account-tabpanel-".concat(o),"aria-labelledby":"account-tab-".concat(o)},i),n===o&&r.createElement(T.a,{style:{p:3}},t))}function kp(e){return{id:"account-tab-".concat(e),"aria-controls":"account-tabpanel-".concat(e)}}function Tp(){var e=Cp(),t=r.useState(0),n=Object(O.a)(t,2),o=n[0],i=n[1];return r.createElement(T.a,{component:"main",className:Ce()(e.root,"")},r.createElement("div",{className:Ce()(e.drawerHeader)}),r.createElement(T.a,{style:{borderBottom:1,borderColor:"divider"}},r.createElement(fp.a,{value:o,onChange:function(e,t){i(t)},centered:!0,variant:"fullWidth","aria-label":"account tabs"},r.createElement(gp.a,Object.assign({label:"General"},kp(0))),r.createElement(gp.a,Object.assign({label:"Password & Email",wrapped:!0},kp(1))),r.createElement(gp.a,Object.assign({label:"Time & Language",wrapped:!0},kp(2))),r.createElement(gp.a,Object.assign({label:"Connected Accounts",wrapped:!0},kp(3))),r.createElement(gp.a,Object.assign({label:"Policies"},kp(4))))),r.createElement(wp,{value:o,index:0},r.createElement(bp,null)),r.createElement(wp,{value:o,index:1},r.createElement(vp,null)),r.createElement(wp,{value:o,index:2}),r.createElement(wp,{value:o,index:3}),r.createElement(wp,{value:o,index:4}),r.createElement(E.b,null))}var jp=n(90),Sp=n(216),Rp=n(465),Dp=n.n(Rp),Lp=n(92),Kp=n(1175),Mp=n(482),Ip=n(1183),Pp=n(1181),_p=n(470),Ap=n.n(_p),zp=n(212),Fp=n.n(zp),Np=n(213),Bp=n.n(Np),Wp=n(214),Hp=n.n(Wp),Vp=n(469),Up=n.n(Vp);var Gp=function(e){var t=e.children,n=e.size,o="(min-width: 768px)";return"desktop"===n&&(o="(min-width: 1024px) "),"mobile"===n&&(o="(min-device-width: 320px) and (max-width: 767px)"),"mobile+tablet"===n&&(o="(min-device-width: 320px) and (max-width: 1023px)"),"tablet+desktop"===n&&(o="(min-width: 768px)"),"tablet"===n&&(o="(min-width: 768px) and (max-width: 1023px)"),r.createElement(Up.a,{query:o},t)},Yp=Object(K.a)((function(e){return{root:{display:"flex"},main:{height:"100vh"},nav:{display:"flex",flexWrap:"wrap",alignItems:"center",width:"100%",marginLeft:"auto",marginRight:"auto",padding:"20px 30px","& .logo":{color:"#00AAFF",lineHeight:"140%",maxWidth:"100%","& img":{width:"110px"}}},showSignup:{flex:1,display:"flex",justifyContent:"flex-end","& span":{cursor:"pointer",color:"#00AAFF",textDecoration:"none","&:hove":{}}},section:{alignItems:"center",paddingTop:"10px",display:"flex",flexFlow:"column",justifyContent:"flex-start",padding:"30px 40px",position:"relative","& form":{textAlign:"center"},"& h2":{marginBottom:"20px",marginTop:"20px",textAlign:"center",fontSize:"21px",color:"grey"}},loginGoogle:{display:"flex",margin:"auto",textDecoration:"none",padding:"11px 20px",borderRadius:"24px",boxShadow:"0px 3px 1px -2px rgb(0 0 0 / 20%)",border:"1px solid rgba(0,0,0,0.1)",backgroundColor:"white",height:"auto",cursor:"pointer",fontWeight:700,fontSize:"17px",lineHeight:"24px",color:"#00AAFF","& img":{borderEadius:"3px",width:"24px",height:"24px",marginRight:"10px"}},rememberButton:{marginBottom:"15px",display:"flex",flexWrap:"nowrap",alignItems:"center",marginTop:"10px"},loginButton:{width:"200px",borderRadius:20}}}));function Zp(e){return o.a.createElement("div",Object.assign({color:"text.secondary",align:"center"},e,{style:{marginTop:"30px"}}),"Copyright \xa9 ",o.a.createElement(b.b,{to:"https://Mindmeister.com/"},"MindMeister")," ",(new Date).getFullYear(),".")}function Jp(e){var t,n,i=Yp(),a=Object(x.c)(),l=Object(E.f)(),s=Object(r.useRef)(),u=Object(r.useState)(!1),p=Object(O.a)(u,2),d=p[0],m=p[1],f=Object(r.useState)(null),g=Object(O.a)(f,2),h=(g[0],g[1]),y=Object(r.useState)([]),b=Object(O.a)(y,2),v=b[0],C=b[1],w=Object(r.useState)(!1),k=Object(O.a)(w,2),j=k[0],S=k[1],D=Object(r.useState)(void 0),L=Object(O.a)(D,2),K=L[0],M=L[1],I=Object(x.d)(Xe("error")),P=Lp.b().shape({email:Lp.c().required("Email is required").email("Email is invalid"),password:Lp.c().required("Password is required")}),_={resolver:Object(Sp.a)(P)},A=Object(jp.d)(_),F=A.register,N=A.handleSubmit,B=A.formState.errors;function W(){N((function(e){return a(qe(e))}))()}Object(r.useEffect)((function(){var e=I.email,t=I.password;e?C((function(t){return[].concat(Object(c.a)(t),[{message:e,key:(new Date).getTime()}])})):t&&C((function(e){return[].concat(Object(c.a)(e),[{message:t,key:(new Date).getTime()}])}))}),[I]),Object(r.useEffect)((function(){v.length&&!K?(M(Object(R.a)({},v[0])),C((function(e){return e.slice(1)})),S(!0)):v.length&&K&&j&&S(!1)}),[v,K,j]);var H=function(e,t){"clickaway"!==t&&S(!1)},V=function(){M(void 0)},G=o.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},o.a.createElement(hp.a,Object.assign({name:"email",label:"Email",placeholder:"Type your Email",InputProps:{style:{borderRadius:"15px"},startAdornment:o.a.createElement(Kp.a,{position:"start"},o.a.createElement(ae.a,null))},autoComplete:"off"},F("email"),{variant:"outlined",error:!!B.email,helperText:null===(t=B.email)||void 0===t?void 0:t.message,color:"secondary",style:{marginTop:"15px"}})),o.a.createElement(hp.a,Object.assign({name:"password",label:"Password",type:d?"text":"password",placeholder:"Type our Password",InputProps:{style:{borderRadius:"15px"},startAdornment:o.a.createElement(Kp.a,{position:"start"},o.a.createElement(Fp.a,null)),endAdornment:o.a.createElement(Kp.a,{position:"end"},o.a.createElement(z.a,{"aria-label":"toggle password visibility",onClick:function(){return m(!d)},onMouseDown:function(){return m(!d)}},d?o.a.createElement(Bp.a,null):o.a.createElement(Hp.a,null)))}},F("password"),{variant:"outlined",error:!!B.password,helperText:null===(n=B.password)||void 0===n?void 0:n.message,color:"secondary",style:{marginTop:"15px"}}))),Y=o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{component:"nav",className:i.nav},o.a.createElement("a",{className:"logo",href:"https://www.mindmeister.com",title:"Mindmeister"},o.a.createElement("img",{src:"assets/images/logo/logo.svg",alt:"Mindmerster Logo"})),o.a.createElement("div",{id:"show-signup",className:i.showSignup},o.a.createElement("span",{onClick:function(){return l("/register")}},"Sign Up"))),o.a.createElement(T.a,null,o.a.createElement(T.a,{component:"main",autoComplete:"off"},o.a.createElement("div",null,o.a.createElement("div",{id:"site-flash-messages"})),o.a.createElement("div",null,o.a.createElement("h1",{style:{textAlign:"center",fontWeight:700}},"Log In")),o.a.createElement(T.a,{component:"section",className:i.section},o.a.createElement("form",{onSubmit:N((function(e){a(qe(e))})),ref:s},o.a.createElement("button",{type:"submit",className:i.loginGoogle},o.a.createElement("img",{src:"assets/images/logo/google_logo.svg",alt:"google_logo"}),o.a.createElement("span",null,"Log in with Google")),o.a.createElement("h2",null,"or with your MindMeister account"),G,o.a.createElement("div",{className:i.rememberButton},o.a.createElement(Tt.a,{style:{inputProps:{ariaLabel:"Checkbox demo"}}}),o.a.createElement("span",null,"Remember me")),o.a.createElement(U.a,{type:"submit",variant:"contained",className:i.loginButton,color:"secondary"},"Log In"),o.a.createElement(Zp,null)))))),Z=function(e){return o.a.createElement(kt.a,{container:!0,component:"main",className:i.main},e?o.a.createElement(o.a.Fragment,null,o.a.createElement(kt.a,{item:!0,xs:!1,sm:4,md:7,style:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),o.a.createElement(kt.a,{item:!0,xs:12,sm:8,md:5,component:Mp.a,elevation:6,square:!0},Y)):o.a.createElement(T.a,{style:{width:"100%"}},Y),o.a.createElement(Dp.a,{ref:function(e){return h(e)},secureKey:"6LfTw_4dAAAAAHOjPrtusI5alBPpYu2lW5yW7P1n",sitekey:"6LfTw_4dAAAAAJWeqtDrom6-GCX2ujbX6BDxRNU0",onResolved:W}),o.a.createElement(Ip.a,{anchorOrigin:{vertical:"top",horizontal:"center"},key:K?K.key:void 0,open:j,autoHideDuration:6e3,onClose:H,TransitionProps:{onExited:V},action:o.a.createElement(o.a.Fragment,null,o.a.createElement(z.a,{"aria-label":"close",color:"white",style:{p:.5},onClick:H},o.a.createElement(Ap.a,null)))},o.a.createElement(Pp.a,{onClose:H,severity:"error",style:{width:"100%"}},K?K.message:void 0)))};return o.a.createElement(o.a.Fragment,null,o.a.createElement(Gp,{size:"mobile+tablet"},Z(!1)),o.a.createElement(Gp,{size:"desktop"},Z(!0)))}var qp=n(471),Xp=n.n(qp),Qp=Object(K.a)((function(e){return{root:{display:"flex"},main:{height:"100vh"},nav:{display:"flex",flexWrap:"wrap",alignItems:"center",width:"100%",marginLeft:"auto",marginRight:"auto",padding:"20px 30px","& .logo":{color:"#00AAFF",lineHeight:"140%",maxWidth:"100%","& img":{width:"110px"}}},showSignup:{flex:1,display:"flex",justifyContent:"flex-end","& span":{cursor:"pointer",color:"#00AAFF",textDecoration:"none","&:hove":{}}},section:{alignItems:"center",paddingTop:"10px",display:"flex",flexFlow:"column",justifyContent:"flex-start",padding:"30px 40px",position:"relative","& form":{textAlign:"center"},"& h2":{marginBottom:"20px",marginTop:"20px",textAlign:"center",fontSize:"21px",color:"grey"}},loginGoogle:{display:"flex",margin:"auto",textDecoration:"none",padding:"11px 20px",borderRadius:"24px",boxShadow:"0 1px 2px 0 rgb(0 0 0 / 10%)",border:"1px solid rgba(0,0,0,0.1)",backgroundColor:"white",height:"auto",cursor:"pointer",fontWeight:700,fontSize:"17px",lineHeight:"24px",color:"#00AAFF","& img":{borderEadius:"3px",width:"24px",height:"24px",marginRight:"10px"}},rememberButton:{marginBottom:"15px",display:"flex",flexWrap:"nowrap",alignItems:"center",marginTop:"10px"},signupButton:{width:"200px",borderRadius:20}}}));function $p(e){var t,n,i,a,l=Qp(),c=Object(x.c)(),s=Object(E.f)(),u=Object(r.useRef)(),p=Object(ut.a)("(min-width:800px)"),d=Object(r.useState)(!1),m=Object(O.a)(d,2),f=m[0],g=m[1],h=Lp.b().shape({displayName:Lp.c().required("First Name is required"),email:Lp.c().required("Email is required").email("Email is invalid"),password:Lp.c().min(6,"Password must be at least 6 characters").required("Password is required"),acceptTerms:Lp.a().oneOf([!0],"Accept Ts & Cs is required")}),y={resolver:Object(Sp.a)(h)},b=Object(jp.d)(y),v=b.register,C=b.handleSubmit,w=b.formState.errors;var k=o.a.createElement("form",{onSubmit:C((function(e){return c(function(e){return function(t){return Ye.createUser(e).then((function(e){return t(Je(e)),t({type:"TYPE_LOGIN_SUCCESS"})})).catch((function(e){return t({type:"TYPE_LOGIN_ERROR",error:e})}))}}(e)),!1})),ref:u,style:{}},o.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},o.a.createElement(hp.a,Object.assign({name:"name",label:"Name",placeholder:"Type your Name",InputProps:{style:{borderRadius:"10px",height:"50px"},startAdornment:o.a.createElement(Kp.a,{position:"start"},o.a.createElement(Xp.a,null))}},v("displayName"),{variant:"outlined",error:!!w.displayName,helperText:null===(t=w.displayName)||void 0===t?void 0:t.message,color:"secondary",style:{marginTop:"0px"}})),o.a.createElement(hp.a,Object.assign({name:"email",label:"Email",placeholder:"Type your Email",InputProps:{style:{borderRadius:"10px",height:"50px"},startAdornment:o.a.createElement(Kp.a,{position:"start"},o.a.createElement(ae.a,null))}},v("email"),{variant:"outlined",error:!!w.email,helperText:null===(n=w.email)||void 0===n?void 0:n.message,color:"secondary",style:{marginTop:"15px"}})),o.a.createElement(hp.a,Object.assign({name:"password",label:"Password",type:f?"text":"password",placeholder:"Type your Password",InputProps:{style:{borderRadius:"10px",height:"50px"},startAdornment:o.a.createElement(Kp.a,{position:"start"},o.a.createElement(Fp.a,null)),endAdornment:o.a.createElement(Kp.a,{position:"end"},o.a.createElement(z.a,{"aria-label":"toggle password visibility",onClick:function(){return g(!f)},onMouseDown:function(){return g(!f)}},f?o.a.createElement(Bp.a,null):o.a.createElement(Hp.a,null)))}},v("password"),{variant:"outlined",error:!!w.password,helperText:null===(i=w.password)||void 0===i?void 0:i.message,color:"secondary",style:{marginTop:"15px"}})),o.a.createElement("div",{style:{marginBottom:"20px"}},o.a.createElement("div",{style:{display:"flex",flexFlow:"column",justifyContent:"flex-start"}},o.a.createElement("label",{style:{display:"flex"}},o.a.createElement("div",{style:{marginTop:"5px",fontSize:"15px"}},o.a.createElement(Tt.a,Object.assign({name:"acceptTerms"},v("acceptTerms"),{id:"acceptTerms",style:{inputProps:{ariaLabel:"Checkbox demo"}}})),o.a.createElement("span",null,"I agree to the",o.a.createElement("a",null,"Term "),"and",o.a.createElement("a",null," Privacy Poicy")),o.a.createElement(F.a,{className:"invalid-feedback",style:{color:"red",textAlign:"center",fontSize:"15px"}},null===(a=w.acceptTerms)||void 0===a?void 0:a.message)))),o.a.createElement("div",{style:{display:"flex",flexFlow:"column",justifyContent:"flex-start"}},o.a.createElement("label",{style:{display:"flex"}},o.a.createElement("div",{style:{display:"flex",marginTop:"5px",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",fontSize:"15px"}},o.a.createElement(Tt.a,{style:{inputProps:{ariaLabel:"Checkbox demo"}}}),o.a.createElement("span",null,"I agree to receive periodic product updates, offers, and promotions"))))),o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement(U.a,{className:l.signupButton,type:"submit",variant:"contained",color:"primary"},"Sign Up"))));return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{component:"nav",className:l.nav},o.a.createElement("a",{className:"logo",href:"",title:"Mindmeister"},o.a.createElement("img",{src:"assets/images/logo/logo.svg",alt:"Mindmerster Logo"})),o.a.createElement("div",{id:"show-signup",className:l.showSignup},o.a.createElement("span",{onClick:function(){return s("/login")}},"Back"))),o.a.createElement(T.a,{component:"main",style:{maxWidth:"1024px",width:"100%",margin:"0 auto 20px auto"}},o.a.createElement(_.a,null),o.a.createElement(T.a,{component:"main",style:{display:"flex",flexDirection:"column"}},o.a.createElement("div",{className:"ui-message-bar"},o.a.createElement("div",{id:"site=flash-messages"})),o.a.createElement("div",{className:"signup-wrapper",style:{display:"flex",flexWrap:"wrap",justifyContent:"center",marginTop:"50px",padding:"0 20px"}},o.a.createElement("div",{className:"align-items-center",style:{width:"340px",display:"flex",flexDirection:"column"}},o.a.createElement("header",null,o.a.createElement("h1",{style:{textAlign:"center",fontWeight:700,marginTop:0}},"Get Started")),o.a.createElement("h2",{style:{marginBottom:"20px",marginTop:0,textAlign:"center",fontSize:"21px",color:"#8A9499"}},"with one of these services"),o.a.createElement("button",{type:"submit",style:{display:"flex",textDecoration:"none",padding:"11px 20px",borderRadius:"24px",boxShadow:"0 1px 2px 0 rgb(0 0 0 / 10%)",border:"1px solid rgba(0,0,0,0.1)",backgroundColor:"white",height:"auto",cursor:"pointer",fontWeight:700,fontSize:"17px",lineHeight:"24px",color:"#00AAFF",justifyContent:"center"}},o.a.createElement("img",{src:"assets/images/logo/google_logo.svg",alt:"google_logo",style:{borderEadius:"3px",width:"24px",height:"24px",marginRight:"10px"}}),o.a.createElement("span",null,"Sign up with Google"))),o.a.createElement("div",{className:"separator",style:Object(R.a)({position:"relative",padding:"0 25px"},!p&&{backgroundColor:"#DCE2E6",height:"1px",margin:"70px 0",padding:0,position:"relative",textAlign:"center",width:"100%"})},o.a.createElement("div",{className:"vertical-line",style:Object(R.a)({backgroundColor:"#DCE2E6",width:"1px",height:"100%",position:"absolute",left:"50%",transform:"translateX(-50%)"},!p&&{textAlign:"center"})}),o.a.createElement("p",{style:Object(R.a)({backgroundColor:"#DCE2E6",padding:"5px 10px",minWidth:"48px",borderRadius:"24px",fontSize:"24px",color:"white",textAlign:"center",display:"inline-block",position:"relative",margin:"100px 0"},!p&&{margin:0,transform:"translate(0, -50%)"})},"or")),o.a.createElement("div",{className:"align-items-center",style:{width:"340px",display:"flex",flexDirection:"column",alignItems:"center"}},o.a.createElement("img",{src:"assets/images/logo/email.svg",alt:"email",style:{width:"60px",maxWidth:"60px",marginBottom:"10px"}}),o.a.createElement("h2",{style:{textAlign:"center",fontSize:"21px",color:"#8A9499"}},"with your email address"),k)),o.a.createElement("div",{className:"justify-center",style:{marginTop:"20px",marginBottom:"0px",textAlign:"center",color:"#8A949"}},o.a.createElement("a",{href:"/account/login?product=1",style:{color:"#00AAFF",textDecoration:"none","&:hove":{}}},"I already have an account")))))}var ed=function(e){var t=Object(E.e)(),n=Object(E.f)();return r.createElement("div",null,r.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh"}},r.createElement("div",{style:{fontSize:"30px",fontWeight:"bold",margin:"20px"}},"This page is not ready: ".concat(t.pathname)),r.createElement("a",{onClick:function(){n("/")}},"Go to Main page.")))},td=[{path:"/login",name:"Login",key:"login",icon:"",element:r.createElement(Jp,null)},{path:"/register",element:r.createElement($p,null)},{path:"/home",name:"Home",key:"home",icon:"",element:r.createElement(wt,null)},{path:"/",name:"",key:"",icon:"",element:r.createElement(st,null),children:[{path:"/",name:"My Maps",key:"mymap",icon:"",element:r.createElement(hn,null)},{path:"/dashboard",name:"My Maps",key:"mymap",icon:"",element:r.createElement(hn,null)},{path:"/recent",name:"Recent Maps",key:"recent",icon:"",element:r.createElement(hn,null)},{path:"/public",name:"Public Maps",key:"public",icon:"",element:r.createElement(hn,null)},{path:"/favorites",name:"Favorites Maps",key:"favorite",icon:"",element:r.createElement(hn,null)},{path:"/trash",name:"Trashed Maps",key:"trash",icon:"",element:r.createElement(hn,null)}]},{path:"/mindmap",name:"MindMap",key:"mindmap",icon:"",element:r.createElement(mp,null)},{path:"/account",name:"Account",key:"account",icon:"",element:r.createElement(Ot,null),children:[{path:"/account/me",name:"Me",key:"me",icon:"",element:r.createElement(Tp,null)},{path:"/account/settings",name:"Settings",key:"settings",icon:"",element:r.createElement(Ep,null)}]},{path:"*",name:"ErrorPage",key:"error_page",icon:"",element:r.createElement(ed,null)}],nd=function(){var e=Object(E.h)(td);return r.createElement(k,null,e)},rd=n(128),od=function(e){Object(Be.a)(n,e);var t=Object(We.a)(n);function n(e){var r;return Object(He.a)(this,n),(r=t.call(this,e)).onAutoLogin=function(){Ye.signInWithToken().then((function(e){r.props.setUserData(e),r.setState({checkingJwt:!1})}))},r.onAutoLogout=function(){r.props.logout(),r.setState({checkingJwt:!1})},r.state={checkingJwt:!0},r}return Object(Ve.a)(n,[{key:"componentDidMount",value:function(){Ye.on("onAutoLogin",this.onAutoLogin),Ye.on("onAutoLogout",this.onAutoLogout),Ye.init()}},{key:"componentWillUnmount",value:function(){Ye.off("onAutoLogin",this.onAutoLogin),Ye.off("onAutoLogout",this.onAutoLogout)}},{key:"render",value:function(){var e=this.props.children;return this.state.checkingJwt?o.a.createElement("div",null,"Loading..."):o.a.createElement(o.a.Fragment,null,e)}}]),n}(r.Component);var id=Object(x.b)(null,(function(e){return Object(rd.b)({logout:Ze,setUserData:Je},e)}))(od),ad=function(e){Object(Be.a)(n,e);var t=Object(We.a)(n);function n(e){var r;return Object(He.a)(this,n),(r=t.call(this,e)).state={accessGranted:!0},r}return Object(Ve.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return t.accessGranted!==this.state.accessGranted}},{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.accessGranted,r=t.redirect;return n?o.a.createElement(o.a.Fragment,null,e):o.a.createElement(E.a,{to:r.to,state:r.state})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.location,r=e.user,o=n.pathname,i=n.state,a=!!r,l=null;r?["/login","/register"].includes(o)&&(a=!1,l={to:i&&i.redirectUrl?i.redirectUrl:"/"}):["/login","/register"].includes(o)?a=!0:l={to:"/login",state:{redirectUrl:o}};return{accessGranted:a,redirect:l}}}]),n}(o.a.Component);var ld,cd=(ld=Object(x.b)((function(e){return{user:e.auth.currentUser}}))(ad),function(e){var t=Object(E.e)();return o.a.createElement(ld,Object.assign({location:t},e))}),sd=n(472),ud={token:localStorage.getItem("jwt_access_token"),currentUser:null,success:!1,error:{email:null,password:null}},pd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ud,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TYPE_LOGOUT_USER":return Object(R.a)(Object(R.a)({},e),{},{currentUser:null,token:null});case"TYPE_SET_USER_DATA":var n=Object(R.a)(Object(R.a)({},e),{},{currentUser:t.user});return n;case"TYPE_LOGIN_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{success:!0});case"TYPE_LOGIN_ERROR":return console.log(t),Object(R.a)(Object(R.a)({},e),{},{success:!1,error:Object(R.a)(Object(R.a)({},e.error),{},{email:t.error.email,password:t.error.password})});default:return e}},dd={sortType:"grid",upgradeType:!1},md=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TYPE_SET_SORT_TYPE":return Object(R.a)(Object(R.a)({},e),{},{sortType:t.sortType});case"TYPE_SET_UPGRADE_TYPE":return Object(R.a)(Object(R.a)({},e),{},{upgradeType:t.upgradeType});default:return e}},fd=Object(rd.c)({auth:pd,layout:md}),gd=Object(rd.d)(fd,Object(rd.a)(sd.a)),hd=n(473),yd=n.n(hd),bd=n(474),xd=n.n(bd),vd={palette:{primary:yd.a,secondary:xd.a}},Ed=Object(h.a)(vd),Od=Object(f.a)({productionPrefix:"c"}),Cd=function(){return o.a.createElement(y.a,{theme:Ed},o.a.createElement(g.b,{generateClassName:Od},o.a.createElement(x.a,{store:gd},o.a.createElement(id,null,o.a.createElement(b.a,{history:Object(v.b)()},o.a.createElement(cd,null,o.a.createElement(nd,null)))))))};n(1114);localStorage.debug=["app","plugin:layout"].join(","),a.a.render(o.a.createElement(Cd,null),document.getElementById("root"))},449:function(e,t,n){e.exports=n.p+"static/media/default.b18193fb.jpg"},450:function(e,t,n){e.exports=n.p+"static/media/theme1.2f59f00b.jpg"},451:function(e,t,n){e.exports=n.p+"static/media/theme2.4f8c4983.jpg"},452:function(e,t,n){e.exports=n.p+"static/media/theme3.61c97910.jpg"},453:function(e,t,n){e.exports=n.p+"static/media/theme4.1e21408c.jpg"},542:function(e,t,n){},572:function(e,t,n){}}]);
//# sourceMappingURL=chunk-blinkmind.e55a9c6c.chunk.js.map